---
title: Linee guida per le raccolte
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 297b8f1d-b11f-4dc6-960a-8e990817304e
caps.latest.revision: "4"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: 9eea60dafef508748df53e23c211f5778250e7f2
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/21/2017
---
# <a name="guidelines-for-collections"></a><span data-ttu-id="f7c8b-102">Linee guida per le raccolte</span><span class="sxs-lookup"><span data-stu-id="f7c8b-102">Guidelines for Collections</span></span>
<span data-ttu-id="f7c8b-103">Qualsiasi tipo progettato specificamente per la modifica di un gruppo di oggetti con alcune caratteristiche comuni può essere considerato come una raccolta.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-103">Any type designed specifically to manipulate a group of objects having some common characteristic can be considered a collection.</span></span> <span data-ttu-id="f7c8b-104">È quasi sempre appropriato per questi tipi implementare <xref:System.Collections.IEnumerable> o <xref:System.Collections.Generic.IEnumerable%601>, pertanto in questa sezione vengono considerate solo i tipi che implementano una o entrambe le interfacce di raccolte.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-104">It is almost always appropriate for such types to implement <xref:System.Collections.IEnumerable> or <xref:System.Collections.Generic.IEnumerable%601>, so in this section we only consider types implementing one or both of those interfaces to be collections.</span></span>  
  
 <span data-ttu-id="f7c8b-105">**X non** utilizzare raccolte con tipizzazione nelle API pubbliche.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-105">**X DO NOT** use weakly typed collections in public APIs.</span></span>  
  
 <span data-ttu-id="f7c8b-106">Il tipo di tutti i valori restituiti e parametri che rappresentano gli elementi della raccolta deve essere il tipo di elemento esatto, non di uno dei tipi di base (si applica solo ai membri pubblici della raccolta).</span><span class="sxs-lookup"><span data-stu-id="f7c8b-106">The type of all return values and parameters representing collection items should be the exact item type, not any of its base types (this applies only to public members of the collection).</span></span>  
  
 <span data-ttu-id="f7c8b-107">**X non** utilizzare <xref:System.Collections.ArrayList> o <xref:System.Collections.Generic.List%601> nelle API pubbliche.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-107">**X DO NOT** use <xref:System.Collections.ArrayList> or <xref:System.Collections.Generic.List%601> in public APIs.</span></span>  
  
 <span data-ttu-id="f7c8b-108">Questi tipi sono strutture di dati progettate per essere usato nell'implementazione interna, non nelle API pubbliche.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-108">These types are data structures designed to be used in internal implementation, not in public APIs.</span></span> <span data-ttu-id="f7c8b-109">`List<T>`è ottimizzato per le prestazioni e potenza al costo di condizionamento l'API e flessibilità.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-109">`List<T>` is optimized for performance and power at the cost of cleanness of the APIs and flexibility.</span></span> <span data-ttu-id="f7c8b-110">Ad esempio, se si restituisce `List<T>`, non sempre sarà in grado di ricevere notifiche quando il codice client modifica la raccolta.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-110">For example, if you return `List<T>`, you will not ever be able to receive notifications when client code modifies the collection.</span></span> <span data-ttu-id="f7c8b-111">Inoltre, `List<T>` espone molti membri, ad esempio <xref:System.Collections.Generic.List%601.BinarySearch%2A>, che non sono utili o applicabile in molti scenari.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-111">Also, `List<T>` exposes many members, such as <xref:System.Collections.Generic.List%601.BinarySearch%2A>, that are not useful or applicable in many scenarios.</span></span> <span data-ttu-id="f7c8b-112">Due sezioni seguenti vengono descritti i tipi (astrazioni) progettati appositamente per l'utilizzo nelle API pubbliche.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-112">The following two sections describe types (abstractions) designed specifically for use in public APIs.</span></span>  
  
 <span data-ttu-id="f7c8b-113">**X non** utilizzare `Hashtable` o `Dictionary<TKey,TValue>` nelle API pubbliche.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-113">**X DO NOT** use `Hashtable` or `Dictionary<TKey,TValue>` in public APIs.</span></span>  
  
 <span data-ttu-id="f7c8b-114">Questi tipi sono strutture di dati progettate per essere usato nell'implementazione interna.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-114">These types are data structures designed to be used in internal implementation.</span></span> <span data-ttu-id="f7c8b-115">Utilizzano le API pubbliche <xref:System.Collections.IDictionary>, `IDictionary <TKey, TValue>`, o un tipo personalizzato che implementa una o entrambe le interfacce.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-115">Public APIs should use <xref:System.Collections.IDictionary>, `IDictionary <TKey, TValue>`, or a custom type implementing one or both of the interfaces.</span></span>  
  
 <span data-ttu-id="f7c8b-116">**X non** utilizzare <xref:System.Collections.Generic.IEnumerator%601>, <xref:System.Collections.IEnumerator>, o qualsiasi altro tipo che implementa una di queste interfacce, ad eccezione di come il tipo restituito di un `GetEnumerator` metodo.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-116">**X DO NOT** use <xref:System.Collections.Generic.IEnumerator%601>, <xref:System.Collections.IEnumerator>, or any other type that implements either of these interfaces, except as the return type of a `GetEnumerator` method.</span></span>  
  
 <span data-ttu-id="f7c8b-117">Restituzione di enumeratori da metodi diversi da tipi `GetEnumerator` non può essere utilizzato con il `foreach` istruzione.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-117">Types returning enumerators from methods other than `GetEnumerator` cannot be used with the `foreach` statement.</span></span>  
  
 <span data-ttu-id="f7c8b-118">**X non** implementare entrambi `IEnumerator<T>` e `IEnumerable<T>` sullo stesso tipo.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-118">**X DO NOT** implement both `IEnumerator<T>` and `IEnumerable<T>` on the same type.</span></span> <span data-ttu-id="f7c8b-119">Lo stesso vale per le interfacce non generiche `IEnumerator` e `IEnumerable`.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-119">The same applies to the nongeneric interfaces `IEnumerator` and `IEnumerable`.</span></span>  
  
## <a name="collection-parameters"></a><span data-ttu-id="f7c8b-120">Parametri della raccolta</span><span class="sxs-lookup"><span data-stu-id="f7c8b-120">Collection Parameters</span></span>  
 <span data-ttu-id="f7c8b-121">**✓ SI** utilizzare possibili tipo specializzato minimi come tipo di parametro.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-121">**✓ DO** use the least-specialized type possible as a parameter type.</span></span> <span data-ttu-id="f7c8b-122">La maggior parte dei membri accetta raccolte come utilizzano i parametri di `IEnumerable<T>` interfaccia.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-122">Most members taking collections as parameters use the `IEnumerable<T>` interface.</span></span>  
  
 <span data-ttu-id="f7c8b-123">**X evitare** utilizzando <xref:System.Collections.Generic.ICollection%601> o <xref:System.Collections.ICollection> come parametro solo per accedere il `Count` proprietà.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-123">**X AVOID** using <xref:System.Collections.Generic.ICollection%601> or <xref:System.Collections.ICollection> as a parameter just to access the `Count` property.</span></span>  
  
 <span data-ttu-id="f7c8b-124">Utilizzare invece `IEnumerable<T>` o `IEnumerable` e il controllo in modo dinamico se l'oggetto implementa `ICollection<T>` o `ICollection`.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-124">Instead, consider using `IEnumerable<T>` or `IEnumerable` and dynamically checking whether the object implements `ICollection<T>` or `ICollection`.</span></span>  
  
## <a name="collection-properties-and-return-values"></a><span data-ttu-id="f7c8b-125">Le proprietà della raccolta e i valori restituiti</span><span class="sxs-lookup"><span data-stu-id="f7c8b-125">Collection Properties and Return Values</span></span>  
 <span data-ttu-id="f7c8b-126">**X non** forniscono proprietà impostabili insieme.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-126">**X DO NOT** provide settable collection properties.</span></span>  
  
 <span data-ttu-id="f7c8b-127">Gli utenti possono sostituire il contenuto della raccolta deselezionando innanzitutto la raccolta e quindi aggiungere il nuovo contenuto.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-127">Users can replace the contents of the collection by clearing the collection first and then adding the new contents.</span></span> <span data-ttu-id="f7c8b-128">Se la sostituzione dell'intero insieme è uno scenario comune, si consiglia di fornire il `AddRange` metodo per la raccolta.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-128">If replacing the whole collection is a common scenario, consider providing the `AddRange` method on the collection.</span></span>  
  
 <span data-ttu-id="f7c8b-129">**✓ SI** utilizzare `Collection<T>` o una sottoclasse di `Collection<T>` per le raccolte di lettura/scrittura che rappresentano i valori restituiti o proprietà.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-129">**✓ DO** use `Collection<T>` or a subclass of `Collection<T>` for properties or return values representing read/write collections.</span></span>  
  
 <span data-ttu-id="f7c8b-130">Se `Collection<T>` non soddisfa alcuni requisiti (ad esempio, la raccolta non è necessario implementare <xref:System.Collections.IList>), utilizzare una raccolta personalizzata implementando `IEnumerable<T>`, `ICollection<T>`, o <xref:System.Collections.Generic.IList%601>.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-130">If `Collection<T>` does not meet some requirement (e.g., the collection must not implement <xref:System.Collections.IList>), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or <xref:System.Collections.Generic.IList%601>.</span></span>  
  
 <span data-ttu-id="f7c8b-131">**✓ SI** utilizzare <xref:System.Collections.ObjectModel.ReadOnlyCollection%601>, una sottoclasse di `ReadOnlyCollection<T>`, o, in casi rari `IEnumerable<T>` per le raccolte di sola lettura che rappresenta i valori restituiti o proprietà.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-131">**✓ DO** use <xref:System.Collections.ObjectModel.ReadOnlyCollection%601>, a subclass of `ReadOnlyCollection<T>`, or in rare cases `IEnumerable<T>` for properties or return values representing read-only collections.</span></span>  
  
 <span data-ttu-id="f7c8b-132">In genere, è preferibile `ReadOnlyCollection<T>`.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-132">In general, prefer `ReadOnlyCollection<T>`.</span></span> <span data-ttu-id="f7c8b-133">Se non vengono soddisfatti alcuni requisiti (ad esempio, la raccolta non è necessario implementare `IList`), utilizzare una raccolta personalizzata implementando `IEnumerable<T>`, `ICollection<T>`, o `IList<T>`.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-133">If it does not meet some requirement (e.g., the collection must not implement `IList`), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or `IList<T>`.</span></span> <span data-ttu-id="f7c8b-134">Se si implementa una raccolta di sola lettura personalizzata, implementare `ICollection<T>.ReadOnly` restituisca false.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-134">If you do implement a custom read-only collection, implement `ICollection<T>.ReadOnly` to return false.</span></span>  
  
 <span data-ttu-id="f7c8b-135">Nei casi in cui si è certi che l'unico scenario si desidera supportare mai iterazione forward-only, è possibile utilizzare semplicemente `IEnumerable<T>`.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-135">In cases where you are sure that the only scenario you will ever want to support is forward-only iteration, you can simply use `IEnumerable<T>`.</span></span>  
  
 <span data-ttu-id="f7c8b-136">**Provare a ✓** utilizzando le sottoclassi di raccolte generiche di base anziché utilizzare direttamente le raccolte.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-136">**✓ CONSIDER** using subclasses of generic base collections instead of using the collections directly.</span></span>  
  
 <span data-ttu-id="f7c8b-137">In questo modo per un nome più significativo e per l'aggiunta di membri di supporto che non sono presenti i tipi di raccolta di base.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-137">This allows for a better name and for adding helper members that are not present on the base collection types.</span></span> <span data-ttu-id="f7c8b-138">Questo vale soprattutto per le API di alto livello.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-138">This is especially applicable to high-level APIs.</span></span>  
  
 <span data-ttu-id="f7c8b-139">**✓ Provare a** restituzione di una sottoclasse di `Collection<T>` o `ReadOnlyCollection<T>` da comunemente utilizzati i metodi e proprietà.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-139">**✓ CONSIDER** returning a subclass of `Collection<T>` or `ReadOnlyCollection<T>` from very commonly used methods and properties.</span></span>  
  
 <span data-ttu-id="f7c8b-140">Ciò rende possibili per consentire di aggiungere metodi di supporto o modificare l'implementazione insieme in futuro.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-140">This will make it possible for you to add helper methods or change the collection implementation in the future.</span></span>  
  
 <span data-ttu-id="f7c8b-141">**Provare a ✓** utilizzando una raccolta con chiave, se gli elementi archiviati nella raccolta dispongono di chiavi univoche (nomi, ID, ecc.).</span><span class="sxs-lookup"><span data-stu-id="f7c8b-141">**✓ CONSIDER** using a keyed collection if the items stored in the collection have unique keys (names, IDs, etc.).</span></span> <span data-ttu-id="f7c8b-142">Raccolte con chiave sono raccolte che possono essere indicizzate da un numero intero sia una chiave e in genere vengono implementate tramite l'eredità da `KeyedCollection<TKey,TItem>`.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-142">Keyed collections are collections that can be indexed by both an integer and a key and are usually implemented by inheriting from `KeyedCollection<TKey,TItem>`.</span></span>  
  
 <span data-ttu-id="f7c8b-143">Raccolte con chiave in genere hanno footprint di dimensioni maggiori della memoria e non devono essere utilizzate se il sovraccarico della memoria supera i vantaggi di disporre di chiavi.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-143">Keyed collections usually have larger memory footprints and should not be used if the memory overhead outweighs the benefits of having the keys.</span></span>  
  
 <span data-ttu-id="f7c8b-144">**X non** restituiranno valori null da una proprietà di raccolta o da metodi che restituiscono raccolte.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-144">**X DO NOT** return null values from collection properties or from methods returning collections.</span></span> <span data-ttu-id="f7c8b-145">Restituisce una raccolta vuota o una matrice vuota.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-145">Return an empty collection or an empty array instead.</span></span>  
  
 <span data-ttu-id="f7c8b-146">La regola generale è che devono essere null e vuote raccolte (0 elementi) o matrici considerati uguali.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-146">The general rule is that null and empty (0 item) collections or arrays should be treated the same.</span></span>  
  
### <a name="snapshots-versus-live-collections"></a><span data-ttu-id="f7c8b-147">Snapshot e le raccolte in tempo reale</span><span class="sxs-lookup"><span data-stu-id="f7c8b-147">Snapshots Versus Live Collections</span></span>  
 <span data-ttu-id="f7c8b-148">Raccolte che rappresenta uno stato a un certo punto nel tempo vengono denominate le raccolte di snapshot.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-148">Collections representing a state at some point in time are called snapshot collections.</span></span> <span data-ttu-id="f7c8b-149">Ad esempio, una raccolta contenente le righe restituite da una query sul database sarebbe uno snapshot.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-149">For example, a collection containing rows returned from a database query would be a snapshot.</span></span> <span data-ttu-id="f7c8b-150">Le raccolte che rappresentano sempre lo stato corrente vengono chiamate raccolte in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-150">Collections that always represent the current state are called live collections.</span></span> <span data-ttu-id="f7c8b-151">Ad esempio, una raccolta di `ComboBox` elementi è una raccolta in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-151">For example, a collection of `ComboBox` items is a live collection.</span></span>  
  
 <span data-ttu-id="f7c8b-152">**X non** restituiscono raccolte di snapshot dalla proprietà.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-152">**X DO NOT** return snapshot collections from properties.</span></span> <span data-ttu-id="f7c8b-153">Le proprietà devono restituire raccolte in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-153">Properties should return live collections.</span></span>  
  
 <span data-ttu-id="f7c8b-154">Metodi get di proprietà devono essere operazioni molto semplici.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-154">Property getters should be very lightweight operations.</span></span> <span data-ttu-id="f7c8b-155">Restituzione di uno snapshot richiede la creazione di una copia di una raccolta interna in un'operazione o (n).</span><span class="sxs-lookup"><span data-stu-id="f7c8b-155">Returning a snapshot requires creating a copy of an internal collection in an O(n) operation.</span></span>  
  
 <span data-ttu-id="f7c8b-156">**✓ SI** utilizzare attivo o una raccolta di snapshot `IEnumerable<T>` (o relativo sottotipo) per rappresentare le raccolte che sono volatili (ad esempio, che possono modificare senza modificare in modo esplicito la raccolta).</span><span class="sxs-lookup"><span data-stu-id="f7c8b-156">**✓ DO** use either a snapshot collection or a live `IEnumerable<T>` (or its subtype) to represent collections that are volatile (i.e., that can change without explicitly modifying the collection).</span></span>  
  
 <span data-ttu-id="f7c8b-157">In generale, tutte le raccolte che rappresenta una risorsa condivisa (ad esempio, i file in una directory) sono volatili.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-157">In general, all collections representing a shared resource (e.g., files in a directory) are volatile.</span></span> <span data-ttu-id="f7c8b-158">Tali raccolte sono molto difficili o impossibili da implementare come raccolte in tempo reale, a meno che l'implementazione è semplicemente un enumeratore forward-only.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-158">Such collections are very difficult or impossible to implement as live collections unless the implementation is simply a forward-only enumerator.</span></span>  
  
## <a name="choosing-between-arrays-and-collections"></a><span data-ttu-id="f7c8b-159">Scelta tra le matrici e raccolte</span><span class="sxs-lookup"><span data-stu-id="f7c8b-159">Choosing Between Arrays and Collections</span></span>  
 <span data-ttu-id="f7c8b-160">**✓ SI** Preferire matrici di raccolte.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-160">**✓ DO** prefer collections over arrays.</span></span>  
  
 <span data-ttu-id="f7c8b-161">Raccolte garantiscono maggiore controllo sul contenuto, possono evolversi nel tempo e sono più utilizzabili.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-161">Collections provide more control over contents, can evolve over time, and are more usable.</span></span> <span data-ttu-id="f7c8b-162">Inoltre, l'utilizzo di matrici per gli scenari di sola lettura è sconsigliato perché il costo di clonando la matrice è troppo elevato.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-162">In addition, using arrays for read-only scenarios is discouraged because the cost of cloning the array is prohibitive.</span></span> <span data-ttu-id="f7c8b-163">Studi hanno dimostrato che alcuni sviluppatori preferisce utilizzando le API basate sulle raccolte.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-163">Usability studies have shown that some developers feel more comfortable using collection-based APIs.</span></span>  
  
 <span data-ttu-id="f7c8b-164">Tuttavia, se si siano sviluppando l'API di basso livello, potrebbe essere preferibile utilizzare matrici per scenari di lettura / scrittura.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-164">However, if you are developing low-level APIs, it might be better to use arrays for read-write scenarios.</span></span> <span data-ttu-id="f7c8b-165">Le matrici presentano un footprint di memoria più piccolo, che consente di ridurre il working set, e l'accesso agli elementi nella matrice è più veloce perché è ottimizzato dal runtime.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-165">Arrays have a smaller memory footprint, which helps reduce the working set, and access to elements in an array is faster because it is optimized by the runtime.</span></span>  
  
 <span data-ttu-id="f7c8b-166">**Provare a ✓** utilizzo delle matrici nelle API di basso livello per ridurre il consumo di memoria e ottimizzare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-166">**✓ CONSIDER** using arrays in low-level APIs to minimize memory consumption and maximize performance.</span></span>  
  
 <span data-ttu-id="f7c8b-167">**✓ SI** utilizzare matrici di byte anziché le raccolte di byte.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-167">**✓ DO** use byte arrays instead of collections of bytes.</span></span>  
  
 <span data-ttu-id="f7c8b-168">**X non** utilizzare matrici per le proprietà se la proprietà necessario tornare a una nuova matrice (ad esempio, una copia di una matrice interna) ogni volta che viene chiamato il metodo Get della proprietà.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-168">**X DO NOT** use arrays for properties if the property would have to return a new array (e.g., a copy of an internal array) every time the property getter is called.</span></span>  
  
## <a name="implementing-custom-collections"></a><span data-ttu-id="f7c8b-169">Implementazione di raccolte personalizzate</span><span class="sxs-lookup"><span data-stu-id="f7c8b-169">Implementing Custom Collections</span></span>  
 <span data-ttu-id="f7c8b-170">**Provare a ✓** che eredita da `Collection<T>`, `ReadOnlyCollection<T>`, o `KeyedCollection<TKey,TItem>` durante la progettazione di nuove raccolte.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-170">**✓ CONSIDER** inheriting from `Collection<T>`, `ReadOnlyCollection<T>`, or `KeyedCollection<TKey,TItem>` when designing new collections.</span></span>  
  
 <span data-ttu-id="f7c8b-171">**✓ SI** implementare `IEnumerable<T>` durante la progettazione di nuove raccolte.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-171">**✓ DO** implement `IEnumerable<T>` when designing new collections.</span></span> <span data-ttu-id="f7c8b-172">Si consiglia di implementare `ICollection<T>` o addirittura `IList<T>` dove risulta più appropriato.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-172">Consider implementing `ICollection<T>` or even `IList<T>` where it makes sense.</span></span>  
  
 <span data-ttu-id="f7c8b-173">Quando si implementa questo tipo di raccolta personalizzato, seguono il modello di API stabilito da `Collection<T>` e `ReadOnlyCollection<T>` fedelmente possibile.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-173">When implementing such custom collection, follow the API pattern established by `Collection<T>` and `ReadOnlyCollection<T>` as closely as possible.</span></span> <span data-ttu-id="f7c8b-174">Vale a dire, implementare in modo esplicito gli stessi membri, denominare i parametri come nome di questi due raccolte loro e così via.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-174">That is, implement the same members explicitly, name the parameters like these two collections name them, and so on.</span></span>  
  
 <span data-ttu-id="f7c8b-175">**Provare a ✓** implementazione di interfacce di raccolta non generica (`IList` e `ICollection`) se la raccolta verrà spesso passata alle API utilizza queste interfacce come input.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-175">**✓ CONSIDER** implementing nongeneric collection interfaces (`IList` and `ICollection`) if the collection will often be passed to APIs taking these interfaces as input.</span></span>  
  
 <span data-ttu-id="f7c8b-176">**X evitare** implementare interfacce di raccolta su tipi con API complesse non correlate al concetto di una raccolta.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-176">**X AVOID** implementing collection interfaces on types with complex APIs unrelated to the concept of a collection.</span></span>  
  
 <span data-ttu-id="f7c8b-177">**X non** ereditare le raccolte di base non generiche, ad esempio `CollectionBase`.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-177">**X DO NOT** inherit from nongeneric base collections such as `CollectionBase`.</span></span> <span data-ttu-id="f7c8b-178">Utilizzare `Collection<T>`, `ReadOnlyCollection<T>`, e `KeyedCollection<TKey,TItem>` invece.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-178">Use `Collection<T>`, `ReadOnlyCollection<T>`, and `KeyedCollection<TKey,TItem>` instead.</span></span>  
  
### <a name="naming-custom-collections"></a><span data-ttu-id="f7c8b-179">Denominazione di raccolte personalizzate</span><span class="sxs-lookup"><span data-stu-id="f7c8b-179">Naming Custom Collections</span></span>  
 <span data-ttu-id="f7c8b-180">Raccolte (tipi che implementano `IEnumerable`) vengono creati principalmente per due ragioni: (1) per creare una nuova struttura di dati con le operazioni di struttura specifico e spesso le caratteristiche di prestazioni diverse rispetto alle strutture di dati esistente (ad esempio, <xref:System.Collections.Generic.List%601>, <xref:System.Collections.Generic.LinkedList%601>, <xref:System.Collections.Generic.Stack%601>) e (2) per creare un insieme specifico per il mantenimento di un set specifico di elementi (ad esempio, <xref:System.Collections.Specialized.StringCollection>).</span><span class="sxs-lookup"><span data-stu-id="f7c8b-180">Collections (types that implement `IEnumerable`) are created mainly for two reasons: (1) to create a new data structure with structure-specific operations and often different performance characteristics than existing data structures (e.g.,  <xref:System.Collections.Generic.List%601>, <xref:System.Collections.Generic.LinkedList%601>, <xref:System.Collections.Generic.Stack%601>), and (2) to create a specialized collection for holding a specific set of items (e.g.,  <xref:System.Collections.Specialized.StringCollection>).</span></span> <span data-ttu-id="f7c8b-181">Strutture di dati vengono spesso usate nell'implementazione interna di librerie e applicazioni.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-181">Data structures are most often used in the internal implementation of applications and libraries.</span></span> <span data-ttu-id="f7c8b-182">Raccolte specializzate sono principalmente a essere esposti nelle API (come proprietà e tipi di parametro).</span><span class="sxs-lookup"><span data-stu-id="f7c8b-182">Specialized collections are mainly to be exposed in APIs (as property and parameter types).</span></span>  
  
 <span data-ttu-id="f7c8b-183">**✓ SI** utilizzare il suffisso "Dictionary" nei nomi di astrazioni implementazione `IDictionary` o `IDictionary<TKey,TValue>`.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-183">**✓ DO** use the "Dictionary" suffix in names of abstractions implementing `IDictionary` or `IDictionary<TKey,TValue>`.</span></span>  
  
 <span data-ttu-id="f7c8b-184">**✓ SI** utilizzare il suffisso "Collection" nei nomi di tipi che implementano `IEnumerable` (o uno qualsiasi dei relativi discendenti) e che rappresenta un elenco di elementi.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-184">**✓ DO** use the "Collection" suffix in names of types implementing `IEnumerable` (or any of its descendants) and representing a list of items.</span></span>  
  
 <span data-ttu-id="f7c8b-185">**✓ SI** utilizzare il nome della struttura di dati appropriato per le strutture di dati personalizzati.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-185">**✓ DO** use the appropriate data structure name for custom data structures.</span></span>  
  
 <span data-ttu-id="f7c8b-186">**X evitare** usare eventuali suffissi implicando particolare implementazione, ad esempio "LinkedList" o "Tabella hash," nei nomi di astrazioni di raccolta.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-186">**X AVOID** using any suffixes implying particular implementation, such as "LinkedList" or "Hashtable," in names of collection abstractions.</span></span>  
  
 <span data-ttu-id="f7c8b-187">**Provare a ✓** facendolo precedere i nomi di raccolta con il nome del tipo di elemento.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-187">**✓ CONSIDER** prefixing collection names with the name of the item type.</span></span> <span data-ttu-id="f7c8b-188">Ad esempio, un insieme di archiviazione di elementi di tipo `Address` (implementazione `IEnumerable<Address>`) deve essere denominato `AddressCollection`.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-188">For example, a collection storing items of type `Address` (implementing `IEnumerable<Address>`) should be named `AddressCollection`.</span></span> <span data-ttu-id="f7c8b-189">Se il tipo di elemento è un'interfaccia, "I" prefisso dell'elemento di tipo può essere omesso.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-189">If the item type is an interface, the "I" prefix of the item type can be omitted.</span></span> <span data-ttu-id="f7c8b-190">Di conseguenza, una raccolta di <xref:System.IDisposable> elementi possono essere chiamati `DisposableCollection`.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-190">Thus, a collection of <xref:System.IDisposable> items can be called `DisposableCollection`.</span></span>  
  
 <span data-ttu-id="f7c8b-191">**Provare a ✓** utilizzando il prefisso "ReadOnly" nei nomi delle raccolte di sola lettura, se una raccolta modificabile corrispondente potrebbe essere aggiunto o esiste già nel framework.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-191">**✓ CONSIDER** using the "ReadOnly" prefix in names of read-only collections if a corresponding writeable collection might be added or already exists in the framework.</span></span>  
  
 <span data-ttu-id="f7c8b-192">Ad esempio, una raccolta di sola lettura di stringhe deve essere chiamata `ReadOnlyStringCollection`.</span><span class="sxs-lookup"><span data-stu-id="f7c8b-192">For example, a read-only collection of strings should be called `ReadOnlyStringCollection`.</span></span>  
  
 <span data-ttu-id="f7c8b-193">*Parti © 2005, 2009 Microsoft Corporation. Tutti i diritti riservati.*</span><span class="sxs-lookup"><span data-stu-id="f7c8b-193">*Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*</span></span>  
  
 <span data-ttu-id="f7c8b-194">*State ristampate dall'autorizzazione di Pearson Education, Inc. da [linee guida: convenzioni, idiomi e modelli per le librerie .NET di riutilizzabile, 2nd Edition](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) Krzysztof Cwalina e Brad Abrams, pubblicato il 22 ottobre 2008 di Addison-Wesley Professional come parte della serie di sviluppo di Microsoft Windows.*</span><span class="sxs-lookup"><span data-stu-id="f7c8b-194">*Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f7c8b-195">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="f7c8b-195">See Also</span></span>  
 [<span data-ttu-id="f7c8b-196">Linee guida per la progettazione di Framework</span><span class="sxs-lookup"><span data-stu-id="f7c8b-196">Framework Design Guidelines</span></span>](../../../docs/standard/design-guidelines/index.md)  
 [<span data-ttu-id="f7c8b-197">Linee guida di utilizzo</span><span class="sxs-lookup"><span data-stu-id="f7c8b-197">Usage Guidelines</span></span>](../../../docs/standard/design-guidelines/usage-guidelines.md)
