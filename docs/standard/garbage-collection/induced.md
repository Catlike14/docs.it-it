---
title: Raccolte indotte
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: garbage collection, forced
ms.assetid: 019008fe-4708-4e65-bebf-04fd9941e149
caps.latest.revision: "20"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: 92918e347b10dfcf3a0d6e2c08cec8c7a6963f5b
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 11/21/2017
---
# <a name="induced-collections"></a><span data-ttu-id="2810c-102">Raccolte indotte</span><span class="sxs-lookup"><span data-stu-id="2810c-102">Induced Collections</span></span>
<span data-ttu-id="2810c-103">Nella maggior parte dei casi, tramite il Garbage Collector è possibile determinare il momento migliore per eseguire una raccolta ed è consigliabile consentire l'esecuzione in modo indipendente.</span><span class="sxs-lookup"><span data-stu-id="2810c-103">In most cases, the garbage collector can determine the best time to perform a collection, and you should let it run independently.</span></span> <span data-ttu-id="2810c-104">In rari casi una raccolta forzata può migliorare le prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="2810c-104">There are rare situations when a forced collection might improve your application's performance.</span></span> <span data-ttu-id="2810c-105">In questi casi, si può provocare un'operazione di garbage collection con il <xref:System.GC.Collect%2A?displayProperty=nameWithType> metodo per forzare un'operazione di garbage collection.</span><span class="sxs-lookup"><span data-stu-id="2810c-105">In these cases, you can induce garbage collection by using the <xref:System.GC.Collect%2A?displayProperty=nameWithType> method to force a garbage collection.</span></span>  
  
 <span data-ttu-id="2810c-106">Utilizzare il <xref:System.GC.Collect%2A?displayProperty=nameWithType> metodo quando si verifica una riduzione significativa della quantità di memoria utilizzata in un punto specifico nel codice dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="2810c-106">Use the <xref:System.GC.Collect%2A?displayProperty=nameWithType> method when there is a significant reduction in the amount of memory being used at a specific point in your application's code.</span></span> <span data-ttu-id="2810c-107">Ad esempio, se l'applicazione utilizza una finestra di dialogo complesso che dispone di diversi controlli, la chiamata <xref:System.GC.Collect%2A> quando viene chiuso la finestra di dialogo potrebbe migliorare le prestazioni recuperando immediatamente la memoria utilizzata dalla finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="2810c-107">For example, if your application uses a complex dialog box that has several controls, calling <xref:System.GC.Collect%2A> when the dialog box is closed could improve performance by immediately reclaiming the memory used by the dialog box.</span></span> <span data-ttu-id="2810c-108">Assicurarsi che l'applicazione non induca troppo spesso l'operazione di Garbage Collection, in quanto può causare una riduzione delle prestazioni se il Garbage Collector tenta di recuperare oggetti in momenti non ottimali.</span><span class="sxs-lookup"><span data-stu-id="2810c-108">Be sure that your application is not inducing garbage collection too frequently, because that can decrease performance if the garbage collector is trying to reclaim objects at non-optimal times.</span></span> <span data-ttu-id="2810c-109">È possibile fornire un <xref:System.GCCollectionMode.Optimized?displayProperty=nameWithType> valore di enumerazione per il <xref:System.GC.Collect%2A> metodo per raccogliere solo quando l'insieme sarebbe produttivo, come descritto nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="2810c-109">You can supply a <xref:System.GCCollectionMode.Optimized?displayProperty=nameWithType> enumeration value to the <xref:System.GC.Collect%2A> method to collect only when collection would be productive, as discussed in the next section.</span></span>  
  
## <a name="gc-collection-mode"></a><span data-ttu-id="2810c-110">Modalità di raccolta Garbage Collection</span><span class="sxs-lookup"><span data-stu-id="2810c-110">GC collection mode</span></span>  
 <span data-ttu-id="2810c-111">È possibile utilizzare uno del <xref:System.GC.Collect%2A?displayProperty=nameWithType> overload del metodo che include un <xref:System.GCCollectionMode> valore per specificare il comportamento per una raccolta forzato come indicato di seguito.</span><span class="sxs-lookup"><span data-stu-id="2810c-111">You can use one of the <xref:System.GC.Collect%2A?displayProperty=nameWithType> method overloads that includes a <xref:System.GCCollectionMode> value to specify the behavior for a forced collection as follows.</span></span>  
  
|<span data-ttu-id="2810c-112">Valore di `GCCollectionMode`</span><span class="sxs-lookup"><span data-stu-id="2810c-112">`GCCollectionMode` value</span></span>|<span data-ttu-id="2810c-113">Descrizione</span><span class="sxs-lookup"><span data-stu-id="2810c-113">Description</span></span>|  
|------------------------------|-----------------|  
|<xref:System.GCCollectionMode.Default>|<span data-ttu-id="2810c-114">Utilizza l'impostazione di garbage collection per la versione di .NET in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="2810c-114">Uses the default garbage collection setting for the running version of .NET.</span></span>|  
|<xref:System.GCCollectionMode.Forced>|<span data-ttu-id="2810c-115">Forza l'esecuzione immediata dell'operazione di Garbage Collection.</span><span class="sxs-lookup"><span data-stu-id="2810c-115">Forces garbage collection to occur immediately.</span></span> <span data-ttu-id="2810c-116">Questo è equivalente alla chiamata di <xref:System.GC.Collect?displayProperty=nameWithType> rapporto di overload.</span><span class="sxs-lookup"><span data-stu-id="2810c-116">This is equivalent to calling the <xref:System.GC.Collect?displayProperty=nameWithType> overload.</span></span> <span data-ttu-id="2810c-117">Restituisce una raccolta di blocco completa di tutte le generazioni.</span><span class="sxs-lookup"><span data-stu-id="2810c-117">It results in a full blocking collection of all generations.</span></span><br /><br /> <span data-ttu-id="2810c-118">È anche possibile compattare i heap degli oggetti grandi impostando la <xref:System.Runtime.GCSettings.LargeObjectHeapCompactionMode%2A?displayProperty=nameWithType> proprietà <xref:System.Runtime.GCLargeObjectHeapCompactionMode.CompactOnce?displayProperty=nameWithType> prima di forzare un immediato completa di garbage collection bloccante.</span><span class="sxs-lookup"><span data-stu-id="2810c-118">You can also compact the large object heap by setting the <xref:System.Runtime.GCSettings.LargeObjectHeapCompactionMode%2A?displayProperty=nameWithType> property to <xref:System.Runtime.GCLargeObjectHeapCompactionMode.CompactOnce?displayProperty=nameWithType> before forcing an immediate full blocking garbage collection.</span></span>|  
|<xref:System.GCCollectionMode.Optimized>|<span data-ttu-id="2810c-119">Consente al Garbage Collector di determinare se il momento corrente è ottimale per recuperare oggetti.</span><span class="sxs-lookup"><span data-stu-id="2810c-119">Enables the garbage collector to determine whether the current time is optimal to reclaim objects.</span></span><br /><br /> <span data-ttu-id="2810c-120">Il Garbage Collector può determinare che una raccolta non è sufficientemente produttiva per giustificarne l'esecuzione, nel qual caso esce dalla funzione senza recuperare oggetti.</span><span class="sxs-lookup"><span data-stu-id="2810c-120">The garbage collector could determine that a collection would not be productive enough to be justified, in which case it will return without reclaiming objects.</span></span>|  
  
## <a name="background-or-blocking-collections"></a><span data-ttu-id="2810c-121">Raccolte in background o di blocco</span><span class="sxs-lookup"><span data-stu-id="2810c-121">Background or blocking collections</span></span>  
 <span data-ttu-id="2810c-122">È possibile chiamare il <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29?displayProperty=nameWithType> overload del metodo per specificare se o non sia bloccate da una raccolta indotta.</span><span class="sxs-lookup"><span data-stu-id="2810c-122">You can call the <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29?displayProperty=nameWithType> method overload to specify whether an induced collection is blocking or not.</span></span> <span data-ttu-id="2810c-123">Il tipo della raccolta eseguita dipende da una combinazione del metodo `mode` e `blocking` parametri.</span><span class="sxs-lookup"><span data-stu-id="2810c-123">The type of collection performed depends on a combination of the method's `mode` and `blocking` parameters.</span></span> <span data-ttu-id="2810c-124">`mode`è un membro del <xref:System.GCCollectionMode> , enumerazione e `blocking` è un <xref:System.Boolean> valore.</span><span class="sxs-lookup"><span data-stu-id="2810c-124">`mode` is a member of the <xref:System.GCCollectionMode> enumeration, and `blocking` is a <xref:System.Boolean> value.</span></span> <span data-ttu-id="2810c-125">Nella tabella seguente viene riepilogata l'interazione del `mode` e `blocking` argomenti.</span><span class="sxs-lookup"><span data-stu-id="2810c-125">The following table summarizes the interaction of the `mode` and `blocking` arguments.</span></span>  
  
|`mode`|`blocking` = `true`|`blocking` = `false`|  
|------------|--------------------------|---------------------------|  
|<span data-ttu-id="2810c-126"><xref:System.GCCollectionMode.Forced> o <xref:System.GCCollectionMode.Default></span><span class="sxs-lookup"><span data-stu-id="2810c-126"><xref:System.GCCollectionMode.Forced> or <xref:System.GCCollectionMode.Default></span></span>|<span data-ttu-id="2810c-127">Viene eseguita una raccolta di blocco il prima possibile.</span><span class="sxs-lookup"><span data-stu-id="2810c-127">A blocking collection is performed as soon as possible.</span></span> <span data-ttu-id="2810c-128">Se una raccolta in background è in corso e la generazione è 0 o 1, il <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> metodo attiva immediatamente una raccolta di blocco e al termine della raccolta.</span><span class="sxs-lookup"><span data-stu-id="2810c-128">If a background collection is in progress and generation is 0 or 1, the <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> method immediately triggers a blocking collection and returns when the collection is finished.</span></span> <span data-ttu-id="2810c-129">Se una raccolta in background è in corso e `generation` parametro è 2, il metodo attende fino a quando la raccolta in background al termine, attiva una raccolta di generazione 2 blocco e quindi restituisce.</span><span class="sxs-lookup"><span data-stu-id="2810c-129">If a background collection is in progress and the `generation` parameter is 2, the method waits until the background collection is finished, triggers a blocking generation 2 collection, and then returns.</span></span>|<span data-ttu-id="2810c-130">Viene eseguita una raccolta il prima possibile.</span><span class="sxs-lookup"><span data-stu-id="2810c-130">A collection is performed as soon as possible.</span></span> <span data-ttu-id="2810c-131">Il <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> metodo richiede una raccolta in background, ma questo non è garantito, a seconda delle circostanze, può ancora essere eseguita una raccolta di blocco.</span><span class="sxs-lookup"><span data-stu-id="2810c-131">The <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> method requests a background collection, but this is not guaranteed; depending on the circumstances, a blocking collection may still be performed.</span></span> <span data-ttu-id="2810c-132">Se è già in corso una raccolta in background, il metodo viene restituito immediatamente.</span><span class="sxs-lookup"><span data-stu-id="2810c-132">If a background collection is already in progress, the method returns immediately.</span></span>|  
|<xref:System.GCCollectionMode.Optimized>|<span data-ttu-id="2810c-133">Una raccolta di blocco può essere eseguita, a seconda dello stato del garbage collector e `generation` parametro.</span><span class="sxs-lookup"><span data-stu-id="2810c-133">A blocking collection may be performed, depending on the state of the garbage collector and the `generation` parameter.</span></span> <span data-ttu-id="2810c-134">Il Garbage Collector tenta di garantire prestazioni ottimali.</span><span class="sxs-lookup"><span data-stu-id="2810c-134">The garbage collector tries to provide optimal performance.</span></span>|<span data-ttu-id="2810c-135">È possibile eseguire una raccolta, a seconda dello stato del Garbage Collector.</span><span class="sxs-lookup"><span data-stu-id="2810c-135">A collection may be performed, depending on the state of the garbage collector.</span></span> <span data-ttu-id="2810c-136">Il <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> metodo richiede una raccolta in background, ma questo non è garantito, a seconda delle circostanze, può ancora essere eseguita una raccolta di blocco.</span><span class="sxs-lookup"><span data-stu-id="2810c-136">The <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> method requests a background collection, but this is not guaranteed; depending on the circumstances, a blocking collection may still be performed.</span></span> <span data-ttu-id="2810c-137">Il Garbage Collector tenta di garantire prestazioni ottimali.</span><span class="sxs-lookup"><span data-stu-id="2810c-137">The garbage collector tries to provide optimal performance.</span></span> <span data-ttu-id="2810c-138">Se è già in corso una raccolta in background, il metodo viene restituito immediatamente.</span><span class="sxs-lookup"><span data-stu-id="2810c-138">If a background collection is already in progress, the method returns immediately.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="2810c-139">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="2810c-139">See Also</span></span>  
 [<span data-ttu-id="2810c-140">Modalità di latenza</span><span class="sxs-lookup"><span data-stu-id="2810c-140">Latency Modes</span></span>](../../../docs/standard/garbage-collection/latency.md)  
 [<span data-ttu-id="2810c-141">Garbage Collection</span><span class="sxs-lookup"><span data-stu-id="2810c-141">Garbage Collection</span></span>](../../../docs/standard/garbage-collection/index.md)
