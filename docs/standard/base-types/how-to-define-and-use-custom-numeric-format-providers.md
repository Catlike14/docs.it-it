---
title: 'Procedura: definire e utilizzare provider di formati numerici personalizzati'
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- numeric format strings [.NET Framework]
- formatting [.NET Framework], numbers
- number formatting [.NET Framework]
- custom numeric format strings
- numbers [.NET Framework], custom numeric format strings
- displaying date and time data
- format providers [.NET Framework]
- custom format strings
ms.assetid: a281bfbf-6596-45ed-a2d6-3782d535ada2
caps.latest.revision: "11"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: 0e44a909eb92f0d9dfa21980a918a2d370dcf427
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 10/18/2017
---
# <a name="how-to-define-and-use-custom-numeric-format-providers"></a><span data-ttu-id="ad7d8-102">Procedura: definire e utilizzare provider di formati numerici personalizzati</span><span class="sxs-lookup"><span data-stu-id="ad7d8-102">How to: Define and Use Custom Numeric Format Providers</span></span>
<span data-ttu-id="ad7d8-103">Il [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] offre un ampio controllo sulla rappresentazione di stringa dei valori numerici.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-103">The [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] gives you extensive control over the string representation of numeric values.</span></span> <span data-ttu-id="ad7d8-104">e supporta le funzionalità seguenti per la personalizzazione del formato di tali valori:</span><span class="sxs-lookup"><span data-stu-id="ad7d8-104">It supports the following features for customizing the format of numeric values:</span></span>  
  
-   <span data-ttu-id="ad7d8-105">Stringhe in formato numerico standard, che forniscono un insieme predefinito di formati per la conversione dei numeri nella rispettiva rappresentazione di stringa.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-105">Standard numeric format strings, which provide a predefined set of formats for converting numbers to their string representation.</span></span> <span data-ttu-id="ad7d8-106">È possibile utilizzarli con qualsiasi metodo di formattazione, ad esempio numerica <xref:System.Decimal.ToString%28System.String%29?displayProperty=nameWithType>, che ha un `format` parametro.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-106">You can use them with any numeric formatting method, such as <xref:System.Decimal.ToString%28System.String%29?displayProperty=nameWithType>, that has a `format` parameter.</span></span> <span data-ttu-id="ad7d8-107">Per informazioni dettagliate, vedere [stringhe di formato numerico Standard](../../../docs/standard/base-types/standard-numeric-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="ad7d8-107">For details, see [Standard Numeric Format Strings](../../../docs/standard/base-types/standard-numeric-format-strings.md).</span></span>  
  
-   <span data-ttu-id="ad7d8-108">Stringhe in formato numerico personalizzato che forniscono un insieme di simboli che possono essere combinati per definire identificatori di formato numerico personalizzato.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-108">Custom numeric format strings, which provide a set of symbols that can be combined to define custom numeric format specifiers.</span></span> <span data-ttu-id="ad7d8-109">Possono inoltre essere utilizzati con qualsiasi metodo di formattazione, ad esempio numerica <xref:System.Decimal.ToString%28System.String%29?displayProperty=nameWithType>, che ha un `format` parametro.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-109">They can also be used with any numeric formatting method, such as <xref:System.Decimal.ToString%28System.String%29?displayProperty=nameWithType>, that has a `format` parameter.</span></span> <span data-ttu-id="ad7d8-110">Per informazioni dettagliate, vedere [stringhe di formato numerico personalizzato](../../../docs/standard/base-types/custom-numeric-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="ad7d8-110">For details, see [Custom Numeric Format Strings](../../../docs/standard/base-types/custom-numeric-format-strings.md).</span></span>  
  
-   <span data-ttu-id="ad7d8-111">Custom <xref:System.Globalization.CultureInfo> o <xref:System.Globalization.NumberFormatInfo> oggetti che definiscono i simboli e i modelli utilizzati per la visualizzazione di valori numerici le rappresentazioni di stringa di formato.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-111">Custom <xref:System.Globalization.CultureInfo> or <xref:System.Globalization.NumberFormatInfo> objects, which define the symbols and format patterns used in displaying the string representations of numeric values.</span></span> <span data-ttu-id="ad7d8-112">È possibile utilizzarli con qualsiasi metodo di formattazione, ad esempio numerica <xref:System.Int32.ToString%2A>, che ha un `provider` parametro.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-112">You can use them with any numeric formatting method, such as <xref:System.Int32.ToString%2A>, that has a `provider` parameter.</span></span> <span data-ttu-id="ad7d8-113">In genere, il `provider` parametro viene utilizzato per specificare informazioni di formattazione specifiche delle impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-113">Typically, the `provider` parameter is used to specify culture-specific formatting.</span></span>  
  
 <span data-ttu-id="ad7d8-114">In alcuni casi, ad esempio quando un'applicazione deve visualizzare un numero di account formattato, un numero di identificazione o un codice postale, queste tre tecniche non sono adatte.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-114">In some cases (such as when an application must display a formatted account number, an identification number, or a postal code) these three techniques are inappropriate.</span></span> <span data-ttu-id="ad7d8-115">Il [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] consente inoltre di definire un oggetto di formattazione che non è né un <xref:System.Globalization.CultureInfo> né <xref:System.Globalization.NumberFormatInfo> oggetto per determinare come viene formattato un valore numerico.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-115">The [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] also enables you to define a formatting object that is neither a <xref:System.Globalization.CultureInfo> nor a <xref:System.Globalization.NumberFormatInfo> object to determine how a numeric value is formatted.</span></span> <span data-ttu-id="ad7d8-116">In questo argomento sono contenute istruzioni dettagliate per l'implementazione di tale oggetto ed è anche riportato un esempio di formattazione di numeri di telefono.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-116">This topic provides the step-by-step instructions for implementing such an object, and provides an example that formats telephone numbers.</span></span>  
  
### <a name="to-define-a-custom-format-provider"></a><span data-ttu-id="ad7d8-117">Per definire un provider di formato personalizzato</span><span class="sxs-lookup"><span data-stu-id="ad7d8-117">To define a custom format provider</span></span>  
  
1.  <span data-ttu-id="ad7d8-118">Definire una classe che implementa il <xref:System.IFormatProvider> e <xref:System.ICustomFormatter> interfacce.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-118">Define a class that implements the <xref:System.IFormatProvider> and <xref:System.ICustomFormatter> interfaces.</span></span>  
  
2.  <span data-ttu-id="ad7d8-119">Implementare il metodo <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-119">Implement the <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="ad7d8-120"><xref:System.IFormatProvider.GetFormat%2A>è un metodo di callback che il metodo di formattazione (ad esempio il <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> metodo) richiama per recuperare l'oggetto è responsabile della formattazione personalizzata.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-120"><xref:System.IFormatProvider.GetFormat%2A> is a callback method that the formatting method (such as the <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method) invokes to retrieve the object that is actually responsible for performing custom formatting.</span></span> <span data-ttu-id="ad7d8-121">Un'implementazione tipica delle <xref:System.IFormatProvider.GetFormat%2A> esegue le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="ad7d8-121">A typical implementation of <xref:System.IFormatProvider.GetFormat%2A> does the following:</span></span>  
  
    1.  <span data-ttu-id="ad7d8-122">Determina se il <xref:System.Type> oggetto passato come un metodo parametro rappresenta un <xref:System.ICustomFormatter> interfaccia.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-122">Determines whether the <xref:System.Type> object passed as a method parameter represents an <xref:System.ICustomFormatter> interface.</span></span>  
  
    2.  <span data-ttu-id="ad7d8-123">Se il parametro rappresenta il <xref:System.ICustomFormatter> interfaccia <xref:System.IFormatProvider.GetFormat%2A> restituisce un oggetto che implementa il <xref:System.ICustomFormatter> interfaccia che è responsabile della formattazione personalizzata.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-123">If the parameter does represent the <xref:System.ICustomFormatter> interface, <xref:System.IFormatProvider.GetFormat%2A> returns an object that implements the <xref:System.ICustomFormatter> interface that is responsible for providing custom formatting.</span></span> <span data-ttu-id="ad7d8-124">In genere, l'oggetto di formattazione personalizzata restituisce se stesso.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-124">Typically, the custom formatting object returns itself.</span></span>  
  
    3.  <span data-ttu-id="ad7d8-125">Se il parametro rappresenta il <xref:System.ICustomFormatter> interfaccia <xref:System.IFormatProvider.GetFormat%2A> restituisce `null`.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-125">If the parameter does not represent the <xref:System.ICustomFormatter> interface, <xref:System.IFormatProvider.GetFormat%2A> returns `null`.</span></span>  
  
3.  <span data-ttu-id="ad7d8-126">Implementare il metodo <xref:System.ICustomFormatter.Format%2A>.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-126">Implement the <xref:System.ICustomFormatter.Format%2A> method.</span></span> <span data-ttu-id="ad7d8-127">Questo metodo viene chiamato dal <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> metodo ed è responsabile di restituire la rappresentazione di stringa di un numero.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-127">This method is called by the <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method and is responsible for returning the string representation of a number.</span></span> <span data-ttu-id="ad7d8-128">L'implementazione del metodo in genere implica le attività seguenti:</span><span class="sxs-lookup"><span data-stu-id="ad7d8-128">Implementing the method typically involves the following:</span></span>  
  
    1.  <span data-ttu-id="ad7d8-129">Facoltativamente, assicurarsi che il metodo sia correttamente destinato a fornire servizi di formattazione esaminando il `provider` parametro.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-129">Optionally, make sure that the method is legitimately intended to provide formatting services by examining the `provider` parameter.</span></span> <span data-ttu-id="ad7d8-130">Per la formattazione di oggetti che implementano entrambi <xref:System.IFormatProvider> e <xref:System.ICustomFormatter>, questa operazione richiede il test di `provider` parametro per verificarne l'uguaglianza con l'oggetto di formattazione corrente.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-130">For formatting objects that implement both <xref:System.IFormatProvider> and <xref:System.ICustomFormatter>, this involves testing the `provider` parameter for equality with the current formatting object.</span></span>  
  
    2.  <span data-ttu-id="ad7d8-131">Stabilire se l'oggetto di formattazione deve supportare identificatori di formato personalizzato.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-131">Determine whether the formatting object should support custom format specifiers.</span></span> <span data-ttu-id="ad7d8-132">Ad esempio, un identificatore di formato "N" potrebbe indicare che un numero di telefono degli Stati Uniti deve essere restituito in formato NANP e un identificatore di formato "I" potrebbe indicare l'output in formato ITU-T Recommendation E.123. Se si usano identificatori di formato, il metodo deve gestire l'identificatore di formato specifico.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-132">(For example, an "N" format specifier might indicate that a U.S. telephone number should be output in NANP format, and an "I" might indicate output in ITU-T Recommendation E.123 format.) If format specifiers are used, the method should handle the specific format specifier.</span></span> <span data-ttu-id="ad7d8-133">Viene passato al metodo di `format` parametro.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-133">It is passed to the method in the `format` parameter.</span></span> <span data-ttu-id="ad7d8-134">Se l'identificatore non è presente, il valore della `format` parametro <xref:System.String.Empty?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-134">If no specifier is present, the value of the `format` parameter is <xref:System.String.Empty?displayProperty=nameWithType>.</span></span>  
  
    3.  <span data-ttu-id="ad7d8-135">Recuperare il valore numerico passato al metodo come la `arg` parametro.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-135">Retrieve the numeric value passed to the method as the `arg` parameter.</span></span> <span data-ttu-id="ad7d8-136">Eseguire le eventuali modifiche necessarie per convertirlo nella relativa rappresentazione di stringa.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-136">Perform whatever manipulations are required to convert it to its string representation.</span></span>  
  
    4.  <span data-ttu-id="ad7d8-137">Restituire la rappresentazione di stringa del `arg` parametro.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-137">Return the string representation of the `arg` parameter.</span></span>  
  
### <a name="to-use-a-custom-numeric-formatting-object"></a><span data-ttu-id="ad7d8-138">Per usare un oggetto di formattazione numerica personalizzata</span><span class="sxs-lookup"><span data-stu-id="ad7d8-138">To use a custom numeric formatting object</span></span>  
  
1.  <span data-ttu-id="ad7d8-139">Creare una nuova istanza della classe di formattazione personalizzata.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-139">Create a new instance of the custom formatting class.</span></span>  
  
2.  <span data-ttu-id="ad7d8-140">Chiamare il <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> metodo di formattazione, passando l'oggetto di formattazione personalizzata, l'identificatore di formattazione (o <xref:System.String.Empty?displayProperty=nameWithType>, se non viene utilizzata una) e il valore numerico da formattare.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-140">Call the <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> formatting method, passing it the custom formatting object, the formatting specifier (or <xref:System.String.Empty?displayProperty=nameWithType>, if one is not used), and the numeric value to be formatted.</span></span>  
  
## <a name="example"></a><span data-ttu-id="ad7d8-141">Esempio</span><span class="sxs-lookup"><span data-stu-id="ad7d8-141">Example</span></span>  
 <span data-ttu-id="ad7d8-142">Nell'esempio seguente viene definito un provider di formato numerico personalizzato denominato `TelephoneFormatter` che converte un numero che rappresenta un numero telefonico degli Stati Uniti nel suo formato NANP oppure E.123.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-142">The following example defines a custom numeric format provider named `TelephoneFormatter` that converts a number that represents a U.S. telephone number to its NANP or E.123 format.</span></span> <span data-ttu-id="ad7d8-143">Il metodo gestisce due identificatori di formato, "N" (che restituisce il formato NANP) e "I" (che restituisce il formato E.123 internazionale).</span><span class="sxs-lookup"><span data-stu-id="ad7d8-143">The method handles two format specifiers, "N" (which outputs the NANP format) and "I" (which outputs the international E.123 format).</span></span>  
  
 [!code-csharp[Formatting.HowTo.NumericValue#1](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.HowTo.NumericValue/cs/Telephone1.cs#1)]
 [!code-vb[Formatting.HowTo.NumericValue#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.HowTo.NumericValue/vb/Telephone1.vb#1)]  
  
 <span data-ttu-id="ad7d8-144">Il provider di formato numerico personalizzate sono utilizzabili solo con il <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> metodo.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-144">The custom numeric format provider can be used only with the <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="ad7d8-145">Gli altri overload di metodi di formattazione numerica (ad esempio `ToString`) che hanno un parametro di tipo <xref:System.IFormatProvider> passano il <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> implementazione un <xref:System.Type> oggetto che rappresenta il <xref:System.Globalization.NumberFormatInfo> tipo.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-145">The other overloads of numeric formatting methods (such as `ToString`) that have a parameter of type <xref:System.IFormatProvider> all pass the <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> implementation a <xref:System.Type> object that represents the <xref:System.Globalization.NumberFormatInfo> type.</span></span> <span data-ttu-id="ad7d8-146">In cambio, prevedono che il metodo per restituire un <xref:System.Globalization.NumberFormatInfo> oggetto.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-146">In return, they expect the method to return a <xref:System.Globalization.NumberFormatInfo> object.</span></span> <span data-ttu-id="ad7d8-147">In caso contrario, il provider di formato numerico personalizzato viene ignorato e <xref:System.Globalization.NumberFormatInfo> dell'oggetto per le impostazioni cultura correnti viene utilizzata al suo posto.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-147">If it does not, the custom numeric format provider is ignored, and the <xref:System.Globalization.NumberFormatInfo> object for the current culture is used in its place.</span></span> <span data-ttu-id="ad7d8-148">Nell'esempio di `TelephoneFormatter.GetFormat` metodo gestisce la possibilità che possa essere passato erroneamente a un metodo di formattazione esaminando il parametro del metodo e restituendo numerica `null` se rappresenta un tipo diverso da <xref:System.ICustomFormatter>.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-148">In the example, the `TelephoneFormatter.GetFormat` method handles the possibility that it may be inappropriately passed to a numeric formatting method by examining the method parameter and returning `null` if it represents a type other than <xref:System.ICustomFormatter>.</span></span>  
  
 <span data-ttu-id="ad7d8-149">Se un provider di formato numerico personalizzato supporta un set di identificatori di formato, assicurarsi di fornire un comportamento predefinito, se non viene fornito alcun identificatore di formato nell'elemento di formato utilizzato nel <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> chiamata al metodo.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-149">If a custom numeric format provider supports a set of format specifiers, make sure you provide a default behavior if no format specifier is supplied in the format item used in the <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method call.</span></span> <span data-ttu-id="ad7d8-150">Nell'esempio "N" è l'identificatore di formato predefinito.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-150">In the example, "N" is the default format specifier.</span></span> <span data-ttu-id="ad7d8-151">È pertanto possibile convertire un numero in un numero di telefono formattato specificando un identificatore di formato esplicito.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-151">This allows for a number to be converted to a formatted telephone number by providing an explicit format specifier.</span></span> <span data-ttu-id="ad7d8-152">Nell'esempio riportato di seguito viene illustrata questa chiamata al metodo.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-152">The following example illustrates such a method call.</span></span>  
  
 [!code-csharp[Formatting.HowTo.NumericValue#2](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.HowTo.NumericValue/cs/Telephone1.cs#2)]
 [!code-vb[Formatting.HowTo.NumericValue#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.HowTo.NumericValue/vb/Telephone1.vb#2)]  
  
 <span data-ttu-id="ad7d8-153">L'esecuzione della conversione è possibile anche in assenza di identificatori di formato.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-153">But it also allows the conversion to occur if no format specifier is present.</span></span> <span data-ttu-id="ad7d8-154">Nell'esempio riportato di seguito viene illustrata questa chiamata al metodo.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-154">The following example illustrates such a method call.</span></span>  
  
 [!code-csharp[Formatting.HowTo.NumericValue#3](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.HowTo.NumericValue/cs/Telephone1.cs#3)]
 [!code-vb[Formatting.HowTo.NumericValue#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.HowTo.NumericValue/vb/Telephone1.vb#3)]  
  
 <span data-ttu-id="ad7d8-155">Se non è definito alcun identificatore di formato predefinito, l'implementazione del <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> metodo deve includere il codice seguente in modo che .NET di fornire la formattazione che il codice non è supportata.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-155">If no default format specifier is defined, your implementation of the <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> method should include code such as the following so that .NET can provide formatting that your code does not support.</span></span>  
  
 [!code-csharp[System.ICustomFormatter.Format#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.ICustomFormatter.Format/cs/format.cs#1)]
 [!code-vb[System.ICustomFormatter.Format#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.ICustomFormatter.Format/vb/Format.vb#1)]  
  
 <span data-ttu-id="ad7d8-156">In questo esempio, il metodo che implementa <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> è destinato a essere un metodo di callback per la <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> metodo.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-156">In the case of this example, the method that implements <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> is intended to serve as a callback method for the <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="ad7d8-157">Pertanto, viene esaminato il `formatProvider` parametro per determinare se contiene un riferimento all'oggetto corrente `TelephoneFormatter` oggetto.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-157">Therefore, it examines the `formatProvider` parameter to determine whether it contains a reference to the current `TelephoneFormatter` object.</span></span> <span data-ttu-id="ad7d8-158">Il metodo può tuttavia essere chiamato anche direttamente dal codice.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-158">However, the method can also be called directly from code.</span></span> <span data-ttu-id="ad7d8-159">In tal caso, è possibile utilizzare il `formatProvider` parametro per fornire un <xref:System.Globalization.CultureInfo> o <xref:System.Globalization.NumberFormatInfo> oggetto che fornisce informazioni di formattazione specifiche delle impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-159">In that case, you can use the `formatProvider` parameter to provide a <xref:System.Globalization.CultureInfo> or <xref:System.Globalization.NumberFormatInfo> object that supplies culture-specific formatting information.</span></span>  
  
## <a name="compiling-the-code"></a><span data-ttu-id="ad7d8-160">Compilazione del codice</span><span class="sxs-lookup"><span data-stu-id="ad7d8-160">Compiling the Code</span></span>  
 <span data-ttu-id="ad7d8-161">Compilare il codice nella riga di comando con csc.exe o vb.exe.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-161">Compile the code at the command line using csc.exe or vb.exe.</span></span> <span data-ttu-id="ad7d8-162">Per compilare il codice in [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)], inserirlo in un modello di progetto applicazione console.</span><span class="sxs-lookup"><span data-stu-id="ad7d8-162">To compile the code in [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)], put it in a console application project template.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ad7d8-163">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="ad7d8-163">See Also</span></span>  
 [<span data-ttu-id="ad7d8-164">Esecuzione di operazioni di formattazione</span><span class="sxs-lookup"><span data-stu-id="ad7d8-164">Performing Formatting Operations</span></span>](../../../docs/standard/base-types/performing-formatting-operations.md)
