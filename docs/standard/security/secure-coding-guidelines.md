---
title: Linee guida per la generazione di codice sicuro
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- managed wrapper to native code implementation
- secure coding
- reusable components
- library code that exposes protected resources
- code, security
- code security
- secure coding, options
- components [.NET Framework], security
- code security, options
- security-neutral code
- security [.NET Framework], coding guidelines
ms.assetid: 4f882d94-262b-4494-b0a6-ba9ba1f5f177
author: mairaw
ms.author: mairaw
ms.openlocfilehash: f8d61e76a657c7341ec7dfcede6d7dc9943d4659
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/04/2018
ms.locfileid: "33588161"
---
# <a name="secure-coding-guidelines"></a><span data-ttu-id="d11da-102">Linee guida per la generazione di codice sicuro</span><span class="sxs-lookup"><span data-stu-id="d11da-102">Secure Coding Guidelines</span></span>
<span data-ttu-id="d11da-103">La sicurezza basata sull'evidenza e la sicurezza per l'accesso al codice forniscono meccanismi espliciti molto efficaci per implementare la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="d11da-103">Evidence-based security and code access security provide very powerful, explicit mechanisms to implement security.</span></span> <span data-ttu-id="d11da-104">Nella maggior parte dei casi, per proteggere il codice delle applicazioni è sufficiente l'infrastruttura implementata da .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="d11da-104">Most application code can simply use the infrastructure implemented by the .NET Framework.</span></span> <span data-ttu-id="d11da-105">In alcuni casi è tuttavia necessaria una sicurezza aggiuntiva specifica per l'applicazione, creata mediante l'estensione del sistema di sicurezza o tramite metodi ad hoc.</span><span class="sxs-lookup"><span data-stu-id="d11da-105">In some cases, additional application-specific security is required, built either by extending the security system or by using new ad hoc methods.</span></span>  
  
 <span data-ttu-id="d11da-106">L'uso delle autorizzazioni applicate da .NET Framework e di altri tipi di sicurezza imposta nel codice consente di creare barriere che impediscono l'ottenimento di informazioni da parte di malware o l'esecuzione di altre operazioni non desiderate.</span><span class="sxs-lookup"><span data-stu-id="d11da-106">Using the .NET Framework-enforced permissions and other enforcement in your code, you should erect barriers to prevent malicious code from obtaining information that you do not want it to have or performing other undesirable actions.</span></span> <span data-ttu-id="d11da-107">È inoltre necessario raggiungere un compromesso tra sicurezza e usabilità del codice in tutti gli scenari d'uso di codice attendibile.</span><span class="sxs-lookup"><span data-stu-id="d11da-107">Additionally, you must strike a balance between security and usability in all the expected scenarios using trusted code.</span></span>  
  
 <span data-ttu-id="d11da-108">In questa panoramica vengono descritti i diversi metodi di progettazione del codice per l'uso del sistema di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="d11da-108">This overview describes the different ways code can be designed to work with the security system.</span></span>  
  
## <a name="securing-resource-access"></a><span data-ttu-id="d11da-109">Protezione dell'accesso alle risorse</span><span class="sxs-lookup"><span data-stu-id="d11da-109">Securing Resource Access</span></span>  
 <span data-ttu-id="d11da-110">Durante la progettazione e la scrittura del codice, è necessario proteggere e limitare l'accesso del codice alle risorse, soprattutto quando si usa o chiama codice di origine sconosciuta.</span><span class="sxs-lookup"><span data-stu-id="d11da-110">When designing and writing your code, you need to protect and limit the access that code has to resources, especially when using or invoking code of unknown origin.</span></span> <span data-ttu-id="d11da-111">Le tecniche seguenti consentono di verificare che il codice sia sicuro:</span><span class="sxs-lookup"><span data-stu-id="d11da-111">So, keep in mind the following techniques to ensure your code is secure:</span></span>  
  
-   <span data-ttu-id="d11da-112">Non usare Sicurezza per l'accesso al codice (CAS, Code Access Security).</span><span class="sxs-lookup"><span data-stu-id="d11da-112">Do not use Code Access Security (CAS).</span></span>  
  
-   <span data-ttu-id="d11da-113">Non usare codice parzialmente attendibile.</span><span class="sxs-lookup"><span data-stu-id="d11da-113">Do not use partial trusted code.</span></span>  
  
-   <span data-ttu-id="d11da-114">Non usare Servizi remoti .NET.</span><span class="sxs-lookup"><span data-stu-id="d11da-114">Do not use .NET Remoting.</span></span>  
  
-   <span data-ttu-id="d11da-115">Non usare DCOM (Distributed Component Object Model).</span><span class="sxs-lookup"><span data-stu-id="d11da-115">Do not use Distributed Component Object Model (DCOM).</span></span>  
  
-   <span data-ttu-id="d11da-116">Non utilizzare formattori binari.</span><span class="sxs-lookup"><span data-stu-id="d11da-116">Do not use binary formatters.</span></span>  
  
 <span data-ttu-id="d11da-117">La sicurezza dall'accesso di codice e il codice SecurityTransparent non saranno supportati come limiti di sicurezza con codice parzialmente attendibile.</span><span class="sxs-lookup"><span data-stu-id="d11da-117">Code Access Security and Security-Transparent Code will not be supported as a security boundary with partially trusted code.</span></span> <span data-ttu-id="d11da-118">Non è consigliabile caricare ed eseguire codice di origine sconosciuta in assenza di misure di sicurezza alternative.</span><span class="sxs-lookup"><span data-stu-id="d11da-118">We advise against loading and executing code of unknown origins without putting alternative security measures in place.</span></span> <span data-ttu-id="d11da-119">Le misure di protezione alternative sono:</span><span class="sxs-lookup"><span data-stu-id="d11da-119">The alternative security measures are:</span></span>  
  
-   <span data-ttu-id="d11da-120">Virtualizzazione</span><span class="sxs-lookup"><span data-stu-id="d11da-120">Virtualization</span></span>  
  
-   <span data-ttu-id="d11da-121">AppContainers</span><span class="sxs-lookup"><span data-stu-id="d11da-121">AppContainers</span></span>  
  
-   <span data-ttu-id="d11da-122">Utenti e autorizzazioni del sistema operativo (SO)</span><span class="sxs-lookup"><span data-stu-id="d11da-122">Operating system (OS) users and permissions</span></span>  
  
-   <span data-ttu-id="d11da-123">Contenitori Hyper-V</span><span class="sxs-lookup"><span data-stu-id="d11da-123">Hyper-V containers</span></span>  
  
## <a name="security-neutral-code"></a><span data-ttu-id="d11da-124">Codice indipendente dalla sicurezza</span><span class="sxs-lookup"><span data-stu-id="d11da-124">Security-Neutral Code</span></span>  
 <span data-ttu-id="d11da-125">Il codice indipendente dalla sicurezza non ha elementi espliciti in comune con il sistema di sicurezza</span><span class="sxs-lookup"><span data-stu-id="d11da-125">Security-neutral code does nothing explicit with the security system.</span></span> <span data-ttu-id="d11da-126">e viene eseguito a prescindere dalle autorizzazioni ricevute</span><span class="sxs-lookup"><span data-stu-id="d11da-126">It runs with whatever permissions it receives.</span></span> <span data-ttu-id="d11da-127">Anche se le applicazioni che non riescono a intercettare eccezioni associate alle operazioni protette, come l'uso di file o le operazioni in rete, possono avere come effetto eccezioni non gestite, il codice indipendente dalla sicurezza è comunque in grado di sfruttare le tecnologie di sicurezza di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="d11da-127">Although applications that fail to catch security exceptions associated with protected operations (such as using files, networking, and so on) can result in an unhandled exception, security-neutral code still takes advantage of the .NET Framework security technologies.</span></span>  
  
 <span data-ttu-id="d11da-128">Una libreria indipendente dalla sicurezza dispone di caratteristiche speciali che è necessario comprendere.</span><span class="sxs-lookup"><span data-stu-id="d11da-128">A security-neutral library has special characteristics that you should understand.</span></span> <span data-ttu-id="d11da-129">Si supponga che nella libreria siano forniti elementi API che consentano di usare file o chiamare codice non gestito. Se al codice non è associata l'autorizzazione corrispondente, questo non verrà eseguito nel modo descritto.</span><span class="sxs-lookup"><span data-stu-id="d11da-129">Suppose your library provides API elements that use files or call unmanaged code; if your code does not have the corresponding permission, it will not run as described.</span></span> <span data-ttu-id="d11da-130">Tuttavia, anche al codice viene concessa l'autorizzazione, il codice delle applicazioni da cui tale codice viene chiamato deve disporre della stessa autorizzazione per funzionare.</span><span class="sxs-lookup"><span data-stu-id="d11da-130">However, even if the code has the permission, any application code that calls it must have the same permission in order to work.</span></span> <span data-ttu-id="d11da-131">Se il codice chiamante non dispone dell'autorizzazione appropriata, un <xref:System.Security.SecurityException> viene visualizzato in seguito il percorso stack di protezione accesso di codice.</span><span class="sxs-lookup"><span data-stu-id="d11da-131">If the calling code does not have the right permission, a <xref:System.Security.SecurityException> appears as a result of the code access security stack walk.</span></span>  
  
## <a name="application-code-that-is-not-a-reusable-component"></a><span data-ttu-id="d11da-132">Codice di applicazioni non riutilizzabile</span><span class="sxs-lookup"><span data-stu-id="d11da-132">Application Code That Is Not a Reusable Component</span></span>  
 <span data-ttu-id="d11da-133">Se il codice fa parte di un'applicazione che non verrà richiamata da altro codice, la sicurezza è semplice e potrebbe non essere necessario scrivere codice speciale.</span><span class="sxs-lookup"><span data-stu-id="d11da-133">If your code is part of an application that will not be called by other code, security is simple and special coding might not be required.</span></span> <span data-ttu-id="d11da-134">Tenere comunque presente che il codice può essere chiamato da codice dannoso.</span><span class="sxs-lookup"><span data-stu-id="d11da-134">However, remember that malicious code can call your code.</span></span> <span data-ttu-id="d11da-135">Anche se la sicurezza per l'accesso al codice può impedire a codice dannoso di accedere alle risorse, con questo codice è comunque possibile leggere i valori contenuti nei campi o nelle proprietà che possono rappresentare informazioni sensibili.</span><span class="sxs-lookup"><span data-stu-id="d11da-135">While code access security might stop malicious code from accessing resources, such code could still read values of your fields or properties that might contain sensitive information.</span></span>  
  
 <span data-ttu-id="d11da-136">Se inoltre il codice accetta input da Internet o da altre fonti inaffidabili, è opportuno evitare input dannosi.</span><span class="sxs-lookup"><span data-stu-id="d11da-136">Additionally, if your code accepts user input from the Internet or other unreliable sources, you must be careful about malicious input.</span></span>  
  
## <a name="managed-wrapper-to-native-code-implementation"></a><span data-ttu-id="d11da-137">Wrapper gestiti nell'implementazione di codice nativo</span><span class="sxs-lookup"><span data-stu-id="d11da-137">Managed Wrapper to Native Code Implementation</span></span>  
 <span data-ttu-id="d11da-138">In genere, in uno scenario di questo tipo, viene implementata una funzionalità utile nel codice nativo da rendere disponibile per il codice gestito.</span><span class="sxs-lookup"><span data-stu-id="d11da-138">Typically in this scenario, some useful functionality is implemented in native code that you want to make available to managed code.</span></span> <span data-ttu-id="d11da-139">I wrapper gestiti possono essere scritti in modo semplice usando platform invoke o l'interoperabilità COM.</span><span class="sxs-lookup"><span data-stu-id="d11da-139">Managed wrappers are easy to write using either platform invoke or COM interop.</span></span> <span data-ttu-id="d11da-140">Per la riuscita di questa operazione è tuttavia necessario che i chiamanti dei wrapper dispongano di diritti per il codice non gestito.</span><span class="sxs-lookup"><span data-stu-id="d11da-140">However, if you do this, callers of your wrappers must have unmanaged code rights in order to succeed.</span></span> <span data-ttu-id="d11da-141">In base ai criteri predefiniti, il codice scaricato da una rete Intranet o da Internet non funzionerà con i wrapper.</span><span class="sxs-lookup"><span data-stu-id="d11da-141">Under default policy, this means that code downloaded from an intranet or the Internet will not work with the wrappers.</span></span>  
  
 <span data-ttu-id="d11da-142">Invece di assegnare a tutte le applicazioni che impiegano i wrapper diritti di codice non gestito, è preferibile fornire questi diritti solo al codice wrapper.</span><span class="sxs-lookup"><span data-stu-id="d11da-142">Instead of giving all applications that use these wrappers unmanaged code rights, it is better to give these rights only to the wrapper code.</span></span> <span data-ttu-id="d11da-143">Se la funzionalità sottostante non espone alcuna risorsa e l'implementazione è probabilmente sicura, per il wrapper è sufficiente l'asserzione dei diritti, che consente la chiamata tramite codice.</span><span class="sxs-lookup"><span data-stu-id="d11da-143">If the underlying functionality exposes no resources and the implementation is likewise safe, the wrapper only needs to assert its rights, which enables any code to call through it.</span></span> <span data-ttu-id="d11da-144">Quando sono coinvolte le risorse, il codice della sicurezza deve essere analogo a quello di libreria descritto nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="d11da-144">When resources are involved, security coding should be the same as the library code case described in the next section.</span></span> <span data-ttu-id="d11da-145">Poiché il wrapper può esporre i chiamanti a queste risorse, la verifica attenta della sicurezza del codice nativo è necessaria e costituisce uno dei compiti del wrapper.</span><span class="sxs-lookup"><span data-stu-id="d11da-145">Because the wrapper is potentially exposing callers to these resources, careful verification of the safety of the native code is necessary and is the wrapper's responsibility.</span></span>  
  
## <a name="library-code-that-exposes-protected-resources"></a><span data-ttu-id="d11da-146">Codice di libreria che espone risorse protette</span><span class="sxs-lookup"><span data-stu-id="d11da-146">Library Code That Exposes Protected Resources</span></span>  
 <span data-ttu-id="d11da-147">Si tratta dell'approccio più efficace e potenzialmente pericoloso, se eseguito in modo non corretto, della codifica della sicurezza: la libreria funge da interfaccia per l'accesso tramite codice ad alcune risorse non altrimenti disponibili, così come le classi di .NET Framework impongono le autorizzazioni relative alle risorse che usano.</span><span class="sxs-lookup"><span data-stu-id="d11da-147">This is the most powerful and hence potentially dangerous (if done incorrectly) approach for security coding: Your library serves as an interface for other code to access certain resources that are not otherwise available, just as the classes of the .NET Framework enforce permissions for the resources they use.</span></span> <span data-ttu-id="d11da-148">Se si espone una risorsa, è necessario per prima cosa esigere tramite codice l'autorizzazione adeguata alla risorsa (in altre parole, eseguire un controllo di sicurezza) e quindi eseguire un'asserzione dei relativi diritti per eseguire l'operazione vera e propria.</span><span class="sxs-lookup"><span data-stu-id="d11da-148">Wherever you expose a resource, your code must first demand the permission appropriate to the resource (that is, it must perform a security check) and then typically assert its rights to perform the actual operation.</span></span>  
  
## <a name="related-topics"></a><span data-ttu-id="d11da-149">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="d11da-149">Related Topics</span></span>  
  
|<span data-ttu-id="d11da-150">Titolo</span><span class="sxs-lookup"><span data-stu-id="d11da-150">Title</span></span>|<span data-ttu-id="d11da-151">Descrizione</span><span class="sxs-lookup"><span data-stu-id="d11da-151">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="d11da-152">Protezione dei dati di stato</span><span class="sxs-lookup"><span data-stu-id="d11da-152">Securing State Data</span></span>](../../../docs/standard/security/securing-state-data.md)|<span data-ttu-id="d11da-153">Viene descritto come proteggere membri privati.</span><span class="sxs-lookup"><span data-stu-id="d11da-153">Describes how to protect private members.</span></span>|  
|[<span data-ttu-id="d11da-154">Sicurezza e input dell'utente</span><span class="sxs-lookup"><span data-stu-id="d11da-154">Security and User Input</span></span>](../../../docs/standard/security/security-and-user-input.md)|<span data-ttu-id="d11da-155">Vengono descritti argomenti relativi alla sicurezza delle applicazioni che accettano input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="d11da-155">Describes security concerns for applications that accept user input.</span></span>|  
|[<span data-ttu-id="d11da-156">Sicurezza e race condition</span><span class="sxs-lookup"><span data-stu-id="d11da-156">Security and Race Conditions</span></span>](../../../docs/standard/security/security-and-race-conditions.md)|<span data-ttu-id="d11da-157">Viene descritto come evitare race condition nel codice.</span><span class="sxs-lookup"><span data-stu-id="d11da-157">Describes how to avoid race conditions in your code.</span></span>|  
|[<span data-ttu-id="d11da-158">Sicurezza e generazione di codice immediata</span><span class="sxs-lookup"><span data-stu-id="d11da-158">Security and On-the-Fly Code Generation</span></span>](../../../docs/standard/security/security-and-on-the-fly-code-generation.md)|<span data-ttu-id="d11da-159">Vengono descritti aspetti della sicurezza relativi alle applicazioni che consentono di generare codice dinamico.</span><span class="sxs-lookup"><span data-stu-id="d11da-159">Describes security concerns for applications that generate dynamic code.</span></span>|  
|[<span data-ttu-id="d11da-160">Sicurezza basata sui ruoli</span><span class="sxs-lookup"><span data-stu-id="d11da-160">Role-Based Security</span></span>](../../../docs/standard/security/role-based-security.md)|<span data-ttu-id="d11da-161">Viene descritta in modo dettagliato la sicurezza basata sui ruoli di .NET Framework e viene illustrato come usarla nel codice.</span><span class="sxs-lookup"><span data-stu-id="d11da-161">Describes .NET Framework role-based security in detail and provides instructions for using it in your code.</span></span>|
