---
title: Applicazioni monolitiche
description: Ciclo di vita delle applicazioni Docker in contenitori con piattaforma e strumenti Microsoft
keywords: Docker, microservizi, ASP.NET, contenitore
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/22/2017
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 95561aaa8ffccb8eae3fe276192c6648c0819685
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/23/2017
---
# <a name="monolithic-applications"></a><span data-ttu-id="ed096-104">Applicazioni monolitiche</span><span class="sxs-lookup"><span data-stu-id="ed096-104">Monolithic applications</span></span>

<span data-ttu-id="ed096-105">In questo scenario, la compilazione di un'applicazione web unico e monolitico o un servizio e distribuirlo come un contenitore.</span><span class="sxs-lookup"><span data-stu-id="ed096-105">In this scenario, you are building a single and monolithic web application or service and deploying it as a container.</span></span> <span data-ttu-id="ed096-106">All'interno dell'applicazione, la struttura potrebbe non essere monolitica; è possibile costituiscono diverse librerie, componenti o livelli anche (livello di applicazione, il livello di dominio, il livello di accesso ai dati e così via).</span><span class="sxs-lookup"><span data-stu-id="ed096-106">Within the application, the structure might not be monolithic; it might comprise several libraries, components, or even layers (application layer, domain layer, data access layer, etc.).</span></span> <span data-ttu-id="ed096-107">Esternamente, si tratta di un singolo contenitore, ad esempio un singolo processo, una singola applicazione web o un servizio singolo.</span><span class="sxs-lookup"><span data-stu-id="ed096-107">Externally, it is a single container, like a single process, single web application, or single service.</span></span>

<span data-ttu-id="ed096-108">Per gestire questo modello, si distribuisce un singolo contenitore per rappresentare l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ed096-108">To manage this model, you deploy a single container to represent the application.</span></span> <span data-ttu-id="ed096-109">La scalabilità sufficiente aggiungere alcune altre copie con un bilanciamento del carico in primo piano.</span><span class="sxs-lookup"><span data-stu-id="ed096-109">To scale it, just add a few more copies with a load balancer in front.</span></span> <span data-ttu-id="ed096-110">La semplicità proviene da un'unica distribuzione in un singolo contenitore o di una macchina virtuale (VM) di gestione.</span><span class="sxs-lookup"><span data-stu-id="ed096-110">The simplicity comes from managing a single deployment in a single container or virtual machine (VM).</span></span>

<span data-ttu-id="ed096-111">In seguito l'entità che consente di eseguire un'operazione solo un contenitore e opera in un unico processo, il modello monolitico è in conflitto.</span><span class="sxs-lookup"><span data-stu-id="ed096-111">Following the principal that a container does one thing only, and does it in one process, the monolithic pattern is in conflict.</span></span> <span data-ttu-id="ed096-112">È possibile includere più componenti/librerie o interni livelli all'interno di ogni contenitore, come illustrato nella figura 4-1.</span><span class="sxs-lookup"><span data-stu-id="ed096-112">You can include multiple components/libraries or internal layers within each container, as illustrated in Figure 4-1.</span></span>

![](./media/image1.png)

<span data-ttu-id="ed096-113">Figura 4-1: esempio di architettura dell'applicazione monolitico</span><span class="sxs-lookup"><span data-stu-id="ed096-113">Figure 4-1: An example of monolithic application architecture</span></span>

<span data-ttu-id="ed096-114">Lo svantaggio di questo approccio viene fornito se o quando si espande l'applicazione, che li richiede di scala.</span><span class="sxs-lookup"><span data-stu-id="ed096-114">The downside to this approach comes if or when the application grows, requiring it to scale.</span></span> <span data-ttu-id="ed096-115">Se l'intera applicazione ridimensionata, non è effettivamente un problema.</span><span class="sxs-lookup"><span data-stu-id="ed096-115">If the entire application scaled, it's not really a problem.</span></span> <span data-ttu-id="ed096-116">Tuttavia, nella maggior parte dei casi, alcune parti dell'applicazione sono i punti di riduzione che richiedono scalabilità, mentre altri componenti sono utilizzati meno.</span><span class="sxs-lookup"><span data-stu-id="ed096-116">However, in most cases, a few parts of the application are the choke points that require scaling, whereas other components are used less.</span></span>

<span data-ttu-id="ed096-117">Utilizzando l'esempio tipico di e-commerce, è probabile che sia necessario è ridimensionare il componente di informazioni di prodotto.</span><span class="sxs-lookup"><span data-stu-id="ed096-117">Using the typical e-commerce example, what you likely need is to scale the product information component.</span></span> <span data-ttu-id="ed096-118">Molti clienti più sfogliare i prodotti di acquistare le licenze.</span><span class="sxs-lookup"><span data-stu-id="ed096-118">Many more customers browse products than purchase them.</span></span> <span data-ttu-id="ed096-119">Numero di clienti Usa carrello di utilizzare la pipeline di pagamento.</span><span class="sxs-lookup"><span data-stu-id="ed096-119">More customers use their basket than use the payment pipeline.</span></span> <span data-ttu-id="ed096-120">I clienti meno aggiungono commenti o visualizzarne la cronologia di acquisto.</span><span class="sxs-lookup"><span data-stu-id="ed096-120">Fewer customers add comments or view their purchase history.</span></span> <span data-ttu-id="ed096-121">E probabilmente necessario solo un numero limitato di dipendenti, in un'area singola, che devono gestire il contenuto e le campagne di marketing.</span><span class="sxs-lookup"><span data-stu-id="ed096-121">And you likely have only a handful of employees, in a single region, that need to manage the content and marketing campaigns.</span></span> <span data-ttu-id="ed096-122">Per la progettazione monolitica la scala, tutto il codice viene distribuito più volte.</span><span class="sxs-lookup"><span data-stu-id="ed096-122">By scaling the monolithic design, all of the code is deployed multiple times.</span></span>

<span data-ttu-id="ed096-123">Oltre alla "scalabilità-tutti gli elementi" problema, le modifiche a un singolo componente richiedono completa la riesecuzione del test dell'intera applicazione, nonché una ridistribuzione completa di tutte le istanze.</span><span class="sxs-lookup"><span data-stu-id="ed096-123">In addition to the "scale-everything" problem, changes to a single component require complete retesting of the entire application as well as a complete redeployment of all the instances.</span></span>

<span data-ttu-id="ed096-124">L'approccio monolitico è comune e molte organizzazioni sono lo sviluppo con questo metodo dell'architettura.</span><span class="sxs-lookup"><span data-stu-id="ed096-124">The monolithic approach is common, and many organizations are developing with this architectural method.</span></span> <span data-ttu-id="ed096-125">Molti usufruisci buono sufficiente risultati, mentre altri limiti di verifica.</span><span class="sxs-lookup"><span data-stu-id="ed096-125">Many enjoy good enough results, whereas others encounter limits.</span></span> <span data-ttu-id="ed096-126">Molti progettati le applicazioni in questo modello perché gli strumenti e l'infrastruttura sono troppo difficili da creare architetture SOA e non visualizzano la necessità, fino a quando l'app aumento delle dimensioni.</span><span class="sxs-lookup"><span data-stu-id="ed096-126">Many designed their applications in this model because the tools and infrastructure were too difficult to build SOAs, and they didn't see the need—until the app grew.</span></span>

<span data-ttu-id="ed096-127">Dal punto di vista dell'infrastruttura, ogni server può eseguire molte applicazioni all'interno dello stesso host e dispone di un rapporto accettabile di efficienza sull'utilizzo delle risorse, come illustrato nella figura 4-2.</span><span class="sxs-lookup"><span data-stu-id="ed096-127">From an infrastructure perspective, each server can run many applications within the same host and have an acceptable ratio of efficiency in your resources usage, as shown in Figure 4-2.</span></span>

![](./media/image2.png)

<span data-ttu-id="ed096-128">Figura 4-2: un host che esegue più applicazioni/contenitori</span><span class="sxs-lookup"><span data-stu-id="ed096-128">Figure 4-2: A host running multiple apps/containers</span></span>

<span data-ttu-id="ed096-129">È possibile distribuire applicazioni monolitiche in Azure utilizzando macchine virtuali dedicate per ogni istanza.</span><span class="sxs-lookup"><span data-stu-id="ed096-129">You can deploy monolithic applications in Azure by using dedicated VMs for each instance.</span></span> <span data-ttu-id="ed096-130">Utilizzando [set di scalabilità di macchine Virtuali di Azure](https://docs.microsoft.com/azure/virtual-machine-scale-sets/), è possibile scalare facilmente le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="ed096-130">Using [Azure VM Scale Sets](https://docs.microsoft.com/azure/virtual-machine-scale-sets/), you can scale the VMs easily.</span></span> <span data-ttu-id="ed096-131">[Servizi App Azure](https://azure.microsoft.com/en-us/services/app-service/) possono eseguire applicazioni monolitiche e scalare facilmente istanze senza la necessità di gestire le macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="ed096-131">[Azure App Services](https://azure.microsoft.com/en-us/services/app-service/) can run monolithic applications and easily scale instances without having to manage the VMs.</span></span> <span data-ttu-id="ed096-132">A partire da 2016, servizi di App di Azure può eseguito singole istanze di contenitori di Docker, nonché semplificando la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="ed096-132">Since 2016, Azure App Services can run single instances of Docker containers, as well, simplifying the deployment.</span></span> <span data-ttu-id="ed096-133">E, usando Docker, è possibile distribuire una singola macchina virtuale come host Docker ed eseguire più istanze.</span><span class="sxs-lookup"><span data-stu-id="ed096-133">And, using Docker, you can deploy a single VM as a Docker host and run multiple instances.</span></span> <span data-ttu-id="ed096-134">Tramite il bilanciamento di Azure, come illustrato nella figura 4-3, è possibile gestire la scalabilità.</span><span class="sxs-lookup"><span data-stu-id="ed096-134">Using the Azure balancer, as illustrated in the Figure 4-3, you can manage scaling.</span></span>

![](./media/image3.png)

<span data-ttu-id="ed096-135">Figura 4-3: più host scalabilità una singola applicazione App/contenitori di Docker</span><span class="sxs-lookup"><span data-stu-id="ed096-135">Figure 4-3: Multiple hosts scaling-out a single Docker application apps/containers</span></span>

<span data-ttu-id="ed096-136">È possibile gestire la distribuzione di vari host tramite le tecniche tradizionali di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="ed096-136">You can manage the deployment to the various hosts via traditional deployment techniques.</span></span> <span data-ttu-id="ed096-137">È possibile gestire gli host Docker, utilizzando comandi quali `docker run` manualmente, tramite l'automazione, ad esempio le pipeline di recapito continuo (CD), cui viene descritto più avanti in questo e-book.</span><span class="sxs-lookup"><span data-stu-id="ed096-137">You can manage Docker hosts by using commands like `docker run` manually, through automation such as Continuous Delivery (CD) pipelines, which we explain later in this e-book.</span></span>

## <a name="monolithic-application-deployed-as-a-container"></a><span data-ttu-id="ed096-138">Qualsiasi applicazione distribuita come contenitore</span><span class="sxs-lookup"><span data-stu-id="ed096-138">Monolithic application deployed as a container</span></span>

<span data-ttu-id="ed096-139">Esistono vantaggi derivanti dall'utilizzo di contenitori per gestire le distribuzioni monolitiche.</span><span class="sxs-lookup"><span data-stu-id="ed096-139">There are benefits to using containers to manage monolithic deployments.</span></span> <span data-ttu-id="ed096-140">Le istanze di contenitori di ridimensionamento è molto più veloce e semplice rispetto alla distribuzione di macchine virtuali aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="ed096-140">Scaling the instances of containers is far faster and easier than deploying additional VMs.</span></span> <span data-ttu-id="ed096-141">Anche se il set di scalabilità di macchine Virtuali sono un'ottima funzionalità di scalabilità di macchine virtuali, che sono necessari per ospitare i contenitori di Docker, hanno durata per la configurazione.</span><span class="sxs-lookup"><span data-stu-id="ed096-141">Although VM Scale Sets are a great feature to scale VMs, which are required to host your Docker containers, they take time to set up.</span></span> <span data-ttu-id="ed096-142">Quando viene distribuita come istanze dell'applicazione, la configurazione dell'app viene gestita come parte della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="ed096-142">When deployed as app instances, the configuration of the app is managed as part of the VM.</span></span>

<span data-ttu-id="ed096-143">Distribuzione degli aggiornamenti, come immagini Docker è molto più veloce e rete efficiente.</span><span class="sxs-lookup"><span data-stu-id="ed096-143">Deploying updates as Docker images is far faster and network efficient.</span></span> <span data-ttu-id="ed096-144">Le istanze Vn da impostare per gli host stesso come le istanze di Vn-1, eliminando i costi e risultanti da altre macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="ed096-144">The Vn instances can be set up on the same hosts as your Vn-1 instances, eliminating added costs resulting from additional VMs.</span></span> <span data-ttu-id="ed096-145">Le immagini docker iniziano in genere espresso in secondi, velocizzando l'implementazione.</span><span class="sxs-lookup"><span data-stu-id="ed096-145">Docker images typically start in seconds, speeding rollouts.</span></span> <span data-ttu-id="ed096-146">Chiudere un'istanza di Docker è facile come richiamare il `docker stop` comando, in genere completato in meno di un secondo.</span><span class="sxs-lookup"><span data-stu-id="ed096-146">Tearing down a Docker instance is as easy as invoking the `docker stop` command, typically completing in less than a second.</span></span>

<span data-ttu-id="ed096-147">Poiché i contenitori sono intrinsecamente non modificabili, in base alla progettazione, è non necessario mai preoccuparsi di macchine virtuali danneggiate perché non è stato uno script di aggiornamento tenere conto per alcuni specifici file di configurazione o su disco.</span><span class="sxs-lookup"><span data-stu-id="ed096-147">Because containers are inherently immutable, by design, you never need to worry about corrupted VMs because an update script forgot to account for some specific configuration or file left on disk.</span></span>

<span data-ttu-id="ed096-148">Anche se le app monolitiche possono trarre vantaggio da Docker, ci stiamo tocca su solo i suggerimenti dei vantaggi.</span><span class="sxs-lookup"><span data-stu-id="ed096-148">Although monolithic apps can benefit from Docker, we're touching on only the tips of the benefits.</span></span> <span data-ttu-id="ed096-149">I maggiori vantaggi della gestione di contenitori proviene dalla distribuzione con orchestrators contenitore che gestiscono le varie istanze e ciclo di vita di ogni istanza del contenitore.</span><span class="sxs-lookup"><span data-stu-id="ed096-149">The larger benefits of managing containers comes from deploying with container orchestrators that manage the various instances and life cycle of each container instance.</span></span> <span data-ttu-id="ed096-150">L'interruzione dell'applicazione monolitica in sottosistemi che possono essere ridimensionate, sviluppato e distribuito singolarmente è il punto di ingresso nell'area di autenticazione di microservizi.</span><span class="sxs-lookup"><span data-stu-id="ed096-150">Breaking up the monolithic application into subsystems that can be scaled, developed, and deployed individually is your entry point into the realm of microservices.</span></span>

## <a name="publishing-a-single-docker-container-app-to-azure-app-service"></a><span data-ttu-id="ed096-151">La pubblicazione di una singola app contenitore Docker in Azure App Service</span><span class="sxs-lookup"><span data-stu-id="ed096-151">Publishing a single Docker container app to Azure App Service</span></span>

<span data-ttu-id="ed096-152">Sia perché si desidera ottenere una rapida convalida di un contenitore distribuito in Azure o l'app è semplicemente un'app singolo contenitore, servizi di App di Azure fornisce un ottimo modo per fornire servizi singolo contenitore scalabili.</span><span class="sxs-lookup"><span data-stu-id="ed096-152">Either because you want to get a quick validation of a container deployed to Azure or because the app is simply a single-container app, Azure App Services provides a great way to provide scalable single-container services.</span></span>

<span data-ttu-id="ed096-153">L'utilizzo di servizio App di Azure è intuitiva e la possibilità di rendere in esecuzione e rapidamente perché offre grande Git integration per rendere il codice, compilarlo in Microsoft Visual Studio, distribuirlo direttamente in Azure.</span><span class="sxs-lookup"><span data-stu-id="ed096-153">Using Azure App Service is intuitive and you can get up and running quickly because it provides great Git integration to take your code, build it in Microsoft Visual Studio, and directly deploy it to Azure.</span></span> <span data-ttu-id="ed096-154">Ma, in genere (con nessun Docker), se sono necessarie altre funzionalità, un framework o le dipendenze che non sono supportate in servizi di App, è necessario attendere fino a quando il team di Azure aggiorna tali dipendenze nel servizio App o passato ad altri servizi come Service Fabric, servizi Cloud o macchine virtuali anche normale, per cui si dispone di ulteriore controllo e può installare un componente obbligatorio o un framework per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ed096-154">But, traditionally (with no Docker), if you needed other capabilities, frameworks, or dependencies that aren't supported in App Services, you needed to wait for it until the Azure team updates those dependencies in App Service or switched to other services like Service Fabric, Cloud Services, or even plain VMs, for which you have further control and can install a required component or framework for your application.</span></span>

<span data-ttu-id="ed096-155">A questo punto, tuttavia, (annunciati in Microsoft Connect 2016 nel novembre 2016) e come illustrato nella figura 4‑4, quando si utilizza Visual Studio 2017, supporto contenitore nel servizio App di Azure offre la possibilità di includere desiderato nell'ambiente di app.</span><span class="sxs-lookup"><span data-stu-id="ed096-155">Now, however, (announced at Microsoft Connect 2016 in November 2016) and as shown in Figure 4‑4, when using Visual Studio 2017, container support in Azure App Service gives you the ability to include whatever you want in your app environment.</span></span> <span data-ttu-id="ed096-156">Se una dipendenza è stato aggiunto all'app, perché sono in esecuzione in un contenitore, si ottiene la funzionalità di tali dipendenze incluse nell'immagine del Dockerfile o Docker.</span><span class="sxs-lookup"><span data-stu-id="ed096-156">If you added a dependency to your app, because you are running it in a container, you get the capability of including those dependencies in your Dockerfile or Docker image.</span></span>

![](./media/image4.png)

<span data-ttu-id="ed096-157">Figura 4-4: pubblicare un contenitore di servizio App di Azure da Visual Studio. app/contenitori</span><span class="sxs-lookup"><span data-stu-id="ed096-157">Figure 4-4: Publishing a container to Azure App Service from Visual Studio apps/containers</span></span>

<span data-ttu-id="ed096-158">Figura 4-4 mostra anche che il flusso di pubblicazione inserisce un'immagine tramite un contenitore del Registro di sistema, che può essere il Registro di sistema contenitore di Azure (un registro di sistema vicino alle distribuzioni in Azure e protetto dall'account e gruppi di Azure Active Directory) o qualsiasi altro Docker del Registro di sistema ad esempio i registri di Hub Docker oppure in locale.</span><span class="sxs-lookup"><span data-stu-id="ed096-158">Figure 4-4 also shows that the publish flow pushes an image through a Container Registry, which can be the Azure Container Registry (a registry near to your deployments in Azure and secured by Azure Active Directory groups and accounts) or any other Docker Registry like Docker Hub or on-premises registries.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="ed096-159">[Previous] (common-container-design-principles.md) [Next] (state-and-data-in-docker-applications.md)</span><span class="sxs-lookup"><span data-stu-id="ed096-159">[Previous] (common-container-design-principles.md) [Next] (state-and-data-in-docker-applications.md)</span></span>
