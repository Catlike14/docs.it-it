---
title: "Configurazione delle funzionalità di traccia"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: tracing [WCF]
ms.assetid: 82922010-e8b3-40eb-98c4-10fc05c6d65d
caps.latest.revision: "53"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: d516d20144b40aa52a5b11177c6794a6935ba989
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/21/2017
---
# <a name="configuring-tracing"></a><span data-ttu-id="11938-102">Configurazione delle funzionalità di traccia</span><span class="sxs-lookup"><span data-stu-id="11938-102">Configuring Tracing</span></span>
<span data-ttu-id="11938-103">In questo argomento viene illustrato come attivare la funzionalità di traccia, configurare origini di traccia affinché vengano create tracce e impostati livelli di traccia, impostare traccia e propagazione di attività per supportare la correlazione tra tracce end-to-end e configurare i listener di traccia affinché accedano alle tracce.</span><span class="sxs-lookup"><span data-stu-id="11938-103">This topic describes how you can enable tracing, configure trace sources to emit traces and set trace levels, set activity tracing and propagation to support end-to-end trace correlation, and set trace listeners to access traces.</span></span>  
  
 <span data-ttu-id="11938-104">Per indicazioni di impostazioni di traccia nell'ambiente di debug o di produzione, vedere [impostazioni consigliate per la traccia e registrazione dei messaggi](../../../../../docs/framework/wcf/diagnostics/tracing/recommended-settings-for-tracing-and-message-logging.md).</span><span class="sxs-lookup"><span data-stu-id="11938-104">For tracing settings recommendations in production or debugging environment, refer to [Recommended Settings for Tracing and Message Logging](../../../../../docs/framework/wcf/diagnostics/tracing/recommended-settings-for-tracing-and-message-logging.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="11938-105">In Windows 8 è necessario eseguire l'applicazione con privilegi elevati (Esegui come amministratore) affinché l'applicazione generi i log di traccia.</span><span class="sxs-lookup"><span data-stu-id="11938-105">On Windows 8 you must run your application elevated (Run as Administrator) in order for your application to generate trace logs.</span></span>  
  
## <a name="enabling-tracing"></a><span data-ttu-id="11938-106">Abilitazione della traccia</span><span class="sxs-lookup"><span data-stu-id="11938-106">Enabling Tracing</span></span>  
 [!INCLUDE[indigo1](../../../../../includes/indigo1-md.md)]<span data-ttu-id="11938-107"> restituisce i dati seguenti per la traccia diagnostica:</span><span class="sxs-lookup"><span data-stu-id="11938-107"> outputs the following data for diagnostic tracing:</span></span>  
  
-   <span data-ttu-id="11938-108">Tracce per le attività cardine dei processi in tutti i componenti delle applicazioni, ad esempio chiamate dell'operazione, eccezioni del codice, avvisi e altri eventi di elaborazione significativi.</span><span class="sxs-lookup"><span data-stu-id="11938-108">Traces for process milestones across all components of the applications, such as operation calls, code exceptions, warnings and other significant processing events.</span></span>  
  
-   <span data-ttu-id="11938-109">Eventi di errore di Windows quando la funzionalità di traccia non viene eseguita correttamente.</span><span class="sxs-lookup"><span data-stu-id="11938-109">Windows error events when the tracing feature malfunctions.</span></span> <span data-ttu-id="11938-110">Vedere [la registrazione degli eventi](../../../../../docs/framework/wcf/diagnostics/event-logging/index.md).</span><span class="sxs-lookup"><span data-stu-id="11938-110">See [Event Logging](../../../../../docs/framework/wcf/diagnostics/event-logging/index.md).</span></span>  
  
 <span data-ttu-id="11938-111">La traccia di [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] viene generata sulla base di <xref:System.Diagnostics>.</span><span class="sxs-lookup"><span data-stu-id="11938-111">[!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] tracing is built on top of <xref:System.Diagnostics>.</span></span> <span data-ttu-id="11938-112">Per utilizzare la funzionalità di traccia, è necessario definire le origini di traccia nel file di configurazione o nel codice.</span><span class="sxs-lookup"><span data-stu-id="11938-112">To use tracing, you should define trace sources in the configuration file or in code.</span></span> <span data-ttu-id="11938-113">In [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] viene definita un'origine di traccia per ogni assembly [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="11938-113">[!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] defines a trace source for each [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] assembly.</span></span> <span data-ttu-id="11938-114">`System.ServiceModel` è l'origine di traccia di [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] più generale e registra attività cardine di elaborazione nello stack di comunicazione di [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)], dall'immissione/abbandono del trasporto all'immissione/abbandono di codice utente.</span><span class="sxs-lookup"><span data-stu-id="11938-114">The `System.ServiceModel` trace source is the most general [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] trace source, and records processing milestones across the [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] communication stack, from entering/leaving transport to entering/leaving user code.</span></span> <span data-ttu-id="11938-115">L'origine della traccia `System.ServiceModel.MessageLogging` registra tutti i messaggi che vengono propagati nel sistema.</span><span class="sxs-lookup"><span data-stu-id="11938-115">The `System.ServiceModel.MessageLogging` trace source records all messages that flow through the system.</span></span>  
  
 <span data-ttu-id="11938-116">Per impostazione predefinita, la traccia non è attivata.</span><span class="sxs-lookup"><span data-stu-id="11938-116">Tracing is not enabled by default.</span></span> <span data-ttu-id="11938-117">Per attivarla è necessario creare un listener di traccia e impostare un livello di traccia diverso da "Disattivo" per l'origine di traccia selezionata nella configurazione; in caso contrario [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] non genera tracce.</span><span class="sxs-lookup"><span data-stu-id="11938-117">To activate tracing, you must create a trace listener and set a trace level other than "Off" for the selected trace source in configuration; otherwise, [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] does not generate any traces.</span></span> <span data-ttu-id="11938-118">Se non si specifica un listener, la traccia verrà disattivata automaticamente.</span><span class="sxs-lookup"><span data-stu-id="11938-118">If you do not specify a listener, tracing is automatically disabled.</span></span> <span data-ttu-id="11938-119">Se viene definito un listener ma non è specificato alcun livello, per impostazione predefinita viene selezionato il livello "Disattivo", ovvero non viene generata alcuna traccia.</span><span class="sxs-lookup"><span data-stu-id="11938-119">If a listener is defined, but no level is specified, the level is set to "Off" by default, which means that no trace is emitted.</span></span>  
  
 <span data-ttu-id="11938-120">Se si utilizzano punti di estendibilità di [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)], ad esempio invoker di operazioni personalizzati, è necessario generare tracce proprie</span><span class="sxs-lookup"><span data-stu-id="11938-120">If you use [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] extensibility points such as custom operation invokers, you should emit your own traces.</span></span> <span data-ttu-id="11938-121">perché se si implementa un punto di questo tipo in [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] non è più possibile creare tracce standard nel percorso predefinito.</span><span class="sxs-lookup"><span data-stu-id="11938-121">This is because if you implement an extensibility point, [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] can no longer emit the standard traces in the default path.</span></span> <span data-ttu-id="11938-122">Se non si implementa il supporto della traccia manuale creando tracce, è possibile che le tracce previste non vengano visualizzate.</span><span class="sxs-lookup"><span data-stu-id="11938-122">If you do not implement manual tracing support by emitting traces, you may not see the traces you expect.</span></span>  
  
 <span data-ttu-id="11938-123">È possibile configurare la funzionalità di traccia modificando il file di configurazione dell'applicazione, Web.config per applicazioni di tipo host Web o Appname.exe.config per applicazioni indipendenti.</span><span class="sxs-lookup"><span data-stu-id="11938-123">You can configure tracing by editing the application’s configuration file—either Web.config for Web-hosted applications, or Appname.exe.config for self-hosted applications.</span></span> <span data-ttu-id="11938-124">Di seguito è riportato un esempio di modifica applicabile.</span><span class="sxs-lookup"><span data-stu-id="11938-124">The following is an example of such edit.</span></span> <span data-ttu-id="11938-125">Per ulteriori informazioni su queste impostazioni, vedere la sezione "Configurazione di traccia nei listener per l'utilizzo di tracce".</span><span class="sxs-lookup"><span data-stu-id="11938-125">For more information on these settings, see the "Configuring Trace Listeners to Consume Traces" section.</span></span>  
  
```xml  
<configuration>  
   <system.diagnostics>  
      <sources>  
            <source name="System.ServiceModel"   
                    switchValue="Information, ActivityTracing"  
                    propagateActivity="true">  
            <listeners>  
               <add name="traceListener"   
                   type="System.Diagnostics.XmlWriterTraceListener"   
                   initializeData= "c:\log\Traces.svclog" />  
            </listeners>  
         </source>  
      </sources>  
   </system.diagnostics>  
</configuration>  
```  
  
> [!NOTE]
>  <span data-ttu-id="11938-126">Per modificare il file di configurazione di un [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] progetto di servizio in [!INCLUDE[vs_current_short](../../../../../includes/vs-current-short-md.md)], fare clic con il pulsante destro file di configurazione dell'applicazione, Web. config per applicazioni ospitate da Web o appname.exe applicazione self-hosted in  **Esplora soluzioni**.</span><span class="sxs-lookup"><span data-stu-id="11938-126">To edit the configuration file of a [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] service project in [!INCLUDE[vs_current_short](../../../../../includes/vs-current-short-md.md)], right click the application’s configuration file—either Web.config for Web-hosted applications, or Appname.exe.config for self-hosted application in **Solution Explorer**.</span></span> <span data-ttu-id="11938-127">Scegliere quindi il **Modifica configurazione WCF** menu di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="11938-127">Then choose the **Edit WCF Configuration** context menu item.</span></span> <span data-ttu-id="11938-128">Verrà avviata la [strumento Editor di configurazione (SvcConfigEditor.exe)](../../../../../docs/framework/wcf/configuration-editor-tool-svcconfigeditor-exe.md), che consente di modificare le impostazioni di configurazione per [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] servizi mediante un'interfaccia utente grafica.</span><span class="sxs-lookup"><span data-stu-id="11938-128">This launches the [Configuration Editor Tool (SvcConfigEditor.exe)](../../../../../docs/framework/wcf/configuration-editor-tool-svcconfigeditor-exe.md), which enables you to modify configuration settings for [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] services using a graphical user interface.</span></span>  
  
## <a name="configuring-trace-sources-to-emit-traces"></a><span data-ttu-id="11938-129">Configurazione delle origini di traccia per la generazione di tracce</span><span class="sxs-lookup"><span data-stu-id="11938-129">Configuring Trace Sources to Emit Traces</span></span>  
 [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)]<span data-ttu-id="11938-130"> definisce un'origine di traccia per ogni assembly.</span><span class="sxs-lookup"><span data-stu-id="11938-130"> defines a trace source for each assembly.</span></span> <span data-ttu-id="11938-131">I listener definiti per tale origine accedono alle tracce generate all'interno di un assembly.</span><span class="sxs-lookup"><span data-stu-id="11938-131">Traces generated within an assembly are accessed by the listeners defined for that source.</span></span> <span data-ttu-id="11938-132">Vengono definite le origini di traccia seguenti:</span><span class="sxs-lookup"><span data-stu-id="11938-132">The following trace sources are defined:</span></span>  
  
-   <span data-ttu-id="11938-133">System.ServiceModel: registra tutte le fasi dell'elaborazione [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)], ovvero le operazioni di lettura della configurazione, l'elaborazione di un messaggio nel trasporto, l'elaborazione della protezione, l'invio di un messaggio nel codice utente e così via.</span><span class="sxs-lookup"><span data-stu-id="11938-133">System.ServiceModel: Logs all stages of [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] processing, whenever configuration is read, a message is processed in transport, security processing, a message is dispatched in user code, and so on.</span></span>  
  
-   <span data-ttu-id="11938-134">System.ServiceModel.MessageLogging: registra tutti i messaggi propagati nel sistema.</span><span class="sxs-lookup"><span data-stu-id="11938-134">System.ServiceModel.MessageLogging: Logs all messages that flow through the system.</span></span>  
  
-   <span data-ttu-id="11938-135">System.IdentityModel.</span><span class="sxs-lookup"><span data-stu-id="11938-135">System.IdentityModel.</span></span>  
  
-   <span data-ttu-id="11938-136">System.ServiceModel.Activation.</span><span class="sxs-lookup"><span data-stu-id="11938-136">System.ServiceModel.Activation.</span></span>  
  
-   <span data-ttu-id="11938-137">System.IO.Log: registrazione per l'interfaccia .NET Framework nel Common Log File System (CLFS).</span><span class="sxs-lookup"><span data-stu-id="11938-137">System.IO.Log: Logging for the .NET Framework interface to the Common Log File System (CLFS).</span></span>  
  
-   <span data-ttu-id="11938-138">System.Runtime.Serialization: registra quando gli oggetti vengono letti o scritti.</span><span class="sxs-lookup"><span data-stu-id="11938-138">System.Runtime.Serialization: Logs when objects are read or written.</span></span>  
  
-   <span data-ttu-id="11938-139">CardSpace.</span><span class="sxs-lookup"><span data-stu-id="11938-139">CardSpace.</span></span>  
  
 <span data-ttu-id="11938-140">È possibile configurare ogni origine di traccia per l'utilizzo dello stesso listener (condiviso), come indicato nell'esempio di configurazione seguente.</span><span class="sxs-lookup"><span data-stu-id="11938-140">You can configure each trace source to use the same (shared) listener, as indicated in the following configuration example.</span></span>  
  
```xml  
<configuration>  
    <system.diagnostics>  
        <sources>  
            <source name="System.ServiceModel"   
                    switchValue="Information, ActivityTracing"  
                    propagateActivity="true">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="CardSpace">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.IO.Log">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.Runtime.Serialization">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.IdentityModel">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
        </sources>  
  
        <sharedListeners>  
            <add name="xml"  
                 type="System.Diagnostics.XmlWriterTraceListener"  
                 initializeData="c:\log\Traces.svclog" />  
        </sharedListeners>  
    </system.diagnostics>  
</configuration>  
```  
  
 <span data-ttu-id="11938-141">È inoltre possibile aggiungere origini di traccia definite dall'utente, come dimostrato nell'esempio seguente, in modo che vengano create tracce di codice utente.</span><span class="sxs-lookup"><span data-stu-id="11938-141">In addition, you can add user-defined trace sources, as demonstrated by the following example, to emit user code traces.</span></span>  
  
```xml  
<system.diagnostics>  
   <sources>  
       <source name="UserTraceSource" switchValue="Warning, ActivityTracing" >  
          <listeners>  
              <add name="xml"  
                 type="System.Diagnostics.XmlWriterTraceListener"  
                 initializeData="C:\logs\UserTraces.svclog" />  
          </listeners>  
       </source>  
   </sources>  
   <trace autoflush="true" />   
</system.diagnostics>  
```  
  
 [!INCLUDE[crabout](../../../../../includes/crabout-md.md)]<span data-ttu-id="11938-142">Creazione definita dall'utente, le origini di traccia, vedere [estensione traccia](../../../../../docs/framework/wcf/samples/extending-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="11938-142"> creating user-defined trace sources, see [Extending Tracing](../../../../../docs/framework/wcf/samples/extending-tracing.md).</span></span>  
  
## <a name="configuring-trace-listeners-to-consume-traces"></a><span data-ttu-id="11938-143">Configurazione dei listener di traccia per l'utilizzo di tracce</span><span class="sxs-lookup"><span data-stu-id="11938-143">Configuring Trace Listeners to Consume Traces</span></span>  
 <span data-ttu-id="11938-144">In fase di esecuzione, [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] fornisce dati di traccia ai listener che elaborano i dati.</span><span class="sxs-lookup"><span data-stu-id="11938-144">At runtime, [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] feeds trace data to the listeners which process the data.</span></span> [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)]<span data-ttu-id="11938-145"> fornisce vari listener predefiniti per <xref:System.Diagnostics>, diversi a livello del formato utilizzato per l'output.</span><span class="sxs-lookup"><span data-stu-id="11938-145"> provides several predefined listeners for <xref:System.Diagnostics>, which differ in the format they use for output.</span></span> <span data-ttu-id="11938-146">È inoltre possibile aggiungere tipi di listener personalizzati.</span><span class="sxs-lookup"><span data-stu-id="11938-146">You can also add custom listener types.</span></span>  
  
 <span data-ttu-id="11938-147">È possibile utilizzare l'istruzione `add` per specificare il nome e il tipo del listener di traccia che si desidera utilizzare.</span><span class="sxs-lookup"><span data-stu-id="11938-147">You can use `add` to specify the name and type of the trace listener you want to use.</span></span> <span data-ttu-id="11938-148">Nella configurazione di esempio, il listener viene denominato `traceListener` e viene aggiunto il listener di traccia standard di .NET Framework, ovvero `System.Diagnostics.XmlWriterTraceListener`, come tipo da utilizzare.</span><span class="sxs-lookup"><span data-stu-id="11938-148">In our example configuration, we named the Listener `traceListener` and added the standard .NET Framework trace listener (`System.Diagnostics.XmlWriterTraceListener`) as the type we want to use.</span></span> <span data-ttu-id="11938-149">Per ogni origine di traccia è possibile aggiungere il numero desiderato di listener.</span><span class="sxs-lookup"><span data-stu-id="11938-149">You can add any number of trace listeners for each source.</span></span> <span data-ttu-id="11938-150">Se il listener di traccia genera la traccia in un file, nel file di configurazione è necessario specificare il percorso e il nome del file di output.</span><span class="sxs-lookup"><span data-stu-id="11938-150">If the trace listener emits the trace to a file, you must specify the output file location and name in the configuration file.</span></span> <span data-ttu-id="11938-151">A tal fine impostare `initializeData` sul nome del file per quel listener.</span><span class="sxs-lookup"><span data-stu-id="11938-151">This is done by setting `initializeData` to the name of the file for that listener.</span></span> <span data-ttu-id="11938-152">Se non si specifica un nome file, viene generato un nome file a caso in base al tipo di listener utilizzato.</span><span class="sxs-lookup"><span data-stu-id="11938-152">If you do not specify a file name, a random file name is generated based on the listener type used.</span></span> <span data-ttu-id="11938-153">Se viene utilizzato <xref:System.Diagnostics.XmlWriterTraceListener>, viene generato un nome file senza estensione.</span><span class="sxs-lookup"><span data-stu-id="11938-153">If <xref:System.Diagnostics.XmlWriterTraceListener> is used, a file name with no extension is generated.</span></span> <span data-ttu-id="11938-154">Se si implementa un listener personalizzato, è inoltre possibile utilizzare questo attributo per ricevere dati di inizializzazione diversi dal nome file.</span><span class="sxs-lookup"><span data-stu-id="11938-154">If you implement a custom listener, you can also use this attribute to receive initialization data other than a filename.</span></span> <span data-ttu-id="11938-155">È ad esempio possibile specificare un identificatore di database per questo attributo.</span><span class="sxs-lookup"><span data-stu-id="11938-155">For example, you can specify a database identifier for this attribute.</span></span>  
  
 <span data-ttu-id="11938-156">È possibile configurare un listener di traccia personalizzato per l'invio di tracce in transito, ad esempio a un database remoto.</span><span class="sxs-lookup"><span data-stu-id="11938-156">You can configure a custom trace listener to send traces on the wire, for example, to a remote database.</span></span> <span data-ttu-id="11938-157">I distributori di applicazioni devono applicare un apposito controllo di accesso nei log di traccia del computer remoto.</span><span class="sxs-lookup"><span data-stu-id="11938-157">As an application deployer, you should enforce proper access control on the trace logs in the remote machine.</span></span>  
  
 <span data-ttu-id="11938-158">È inoltre possibile configurare un listener di traccia a livello di programmazione.</span><span class="sxs-lookup"><span data-stu-id="11938-158">You can also configure a trace listener programmatically.</span></span> [!INCLUDE[crdefault](../../../../../includes/crdefault-md.md)]<span data-ttu-id="11938-159">[Procedura: creare e inizializzare listener di traccia](http://go.microsoft.com/fwlink/?LinkId=94648) e [la creazione di un listener di traccia personalizzato](http://go.microsoft.com/fwlink/?LinkId=96239).</span><span class="sxs-lookup"><span data-stu-id="11938-159"> [How to: Create and Initialize Trace Listeners](http://go.microsoft.com/fwlink/?LinkId=94648) and [Creating a Custom TraceListener](http://go.microsoft.com/fwlink/?LinkId=96239).</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="11938-160">Poiché `System.Diagnostics.XmlWriterTraceListener` non è thread-safe, è possibile che l'origine di traccia blocchi le risorse in modo esclusivo durante la restituzione di tracce.</span><span class="sxs-lookup"><span data-stu-id="11938-160">Because `System.Diagnostics.XmlWriterTraceListener` is not thread-safe, the trace source may lock resources exclusively when outputting traces.</span></span> <span data-ttu-id="11938-161">Quando molti thread restituiscono tracce a un'origine configurata per l'utilizzo di questo listener, può verificarsi un conflitto di risorse con conseguente calo delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="11938-161">When many threads output traces to a trace source configured to use this listener, resource contention may occur, which results in a significant performance issue.</span></span> <span data-ttu-id="11938-162">Per risolvere il problema, è necessario implementare un listener personalizzato di tipo thread-safe.</span><span class="sxs-lookup"><span data-stu-id="11938-162">To resolve this problem, you should implement a custom listener that is thread-safe.</span></span>  
  
## <a name="trace-level"></a><span data-ttu-id="11938-163">Livello di traccia</span><span class="sxs-lookup"><span data-stu-id="11938-163">Trace Level</span></span>  
 <span data-ttu-id="11938-164">Il livello di traccia viene controllato in base all'impostazione `switchValue` dell'origine di traccia.</span><span class="sxs-lookup"><span data-stu-id="11938-164">The tracing level is controlled by the `switchValue` setting of the trace source.</span></span> <span data-ttu-id="11938-165">Nella tabella seguente viene fornita una descrizione dei livelli di traccia disponibili.</span><span class="sxs-lookup"><span data-stu-id="11938-165">The available tracing levels are described in the following table.</span></span>  
  
|<span data-ttu-id="11938-166">Livello di traccia</span><span class="sxs-lookup"><span data-stu-id="11938-166">Trace Level</span></span>|<span data-ttu-id="11938-167">Natura degli eventi registrati</span><span class="sxs-lookup"><span data-stu-id="11938-167">Nature of the Tracked Events</span></span>|<span data-ttu-id="11938-168">Contenuto degli eventi registrati</span><span class="sxs-lookup"><span data-stu-id="11938-168">Content of the Tracked Events</span></span>|<span data-ttu-id="11938-169">Eventi registrati</span><span class="sxs-lookup"><span data-stu-id="11938-169">Tracked Events</span></span>|<span data-ttu-id="11938-170">Destinazione utente</span><span class="sxs-lookup"><span data-stu-id="11938-170">User Target</span></span>|  
|-----------------|----------------------------------|-----------------------------------|--------------------|-----------------|  
|<span data-ttu-id="11938-171">Disattivato</span><span class="sxs-lookup"><span data-stu-id="11938-171">Off</span></span>|<span data-ttu-id="11938-172">N/D</span><span class="sxs-lookup"><span data-stu-id="11938-172">N/A</span></span>|<span data-ttu-id="11938-173">N/D</span><span class="sxs-lookup"><span data-stu-id="11938-173">N/A</span></span>|<span data-ttu-id="11938-174">Non vengono create tracce.</span><span class="sxs-lookup"><span data-stu-id="11938-174">No traces are emitted.</span></span>|<span data-ttu-id="11938-175">N/D</span><span class="sxs-lookup"><span data-stu-id="11938-175">N/A</span></span>|  
|<span data-ttu-id="11938-176">Critico</span><span class="sxs-lookup"><span data-stu-id="11938-176">Critical</span></span>|<span data-ttu-id="11938-177">Eventi "negativi": eventi che indicano un'elaborazione imprevista o una condizione di errore.</span><span class="sxs-lookup"><span data-stu-id="11938-177">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>||<span data-ttu-id="11938-178">Vengono registrate eccezioni non gestite comprese le seguenti:</span><span class="sxs-lookup"><span data-stu-id="11938-178">Unhandled exceptions including the following are logged:</span></span><br /><br /> <span data-ttu-id="11938-179">-OutOfMemoryException</span><span class="sxs-lookup"><span data-stu-id="11938-179">-   OutOfMemoryException</span></span><br /><span data-ttu-id="11938-180">-Eccezione ThreadAbortException (il CLR richiama qualsiasi ThreadAbortExceptionHandler)</span><span class="sxs-lookup"><span data-stu-id="11938-180">-   ThreadAbortException (the CLR invokes any ThreadAbortExceptionHandler)</span></span><br /><span data-ttu-id="11938-181">-StackOverflowException (non intercettabile)</span><span class="sxs-lookup"><span data-stu-id="11938-181">-   StackOverflowException (cannot be caught)</span></span><br /><span data-ttu-id="11938-182">-ConfigurationErrorsException</span><span class="sxs-lookup"><span data-stu-id="11938-182">-   ConfigurationErrorsException</span></span><br /><span data-ttu-id="11938-183">-SEHException</span><span class="sxs-lookup"><span data-stu-id="11938-183">-   SEHException</span></span><br /><span data-ttu-id="11938-184">-Errori di avvio applicazione</span><span class="sxs-lookup"><span data-stu-id="11938-184">-   Application start errors</span></span><br /><span data-ttu-id="11938-185">-Eventi Failfast</span><span class="sxs-lookup"><span data-stu-id="11938-185">-   Failfast events</span></span><br /><span data-ttu-id="11938-186">-Blocchi di sistema</span><span class="sxs-lookup"><span data-stu-id="11938-186">-   System hangs</span></span><br /><span data-ttu-id="11938-187">-Messaggi non elaborabili: tracce di messaggi che l'applicazione avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="11938-187">-   Poison messages: message traces that cause the application to fail.</span></span>|<span data-ttu-id="11938-188">Amministratori</span><span class="sxs-lookup"><span data-stu-id="11938-188">Administrators</span></span><br /><br /> <span data-ttu-id="11938-189">Sviluppatori di applicazioni</span><span class="sxs-lookup"><span data-stu-id="11938-189">Application developers</span></span>|  
|<span data-ttu-id="11938-190">Errore</span><span class="sxs-lookup"><span data-stu-id="11938-190">Error</span></span>|<span data-ttu-id="11938-191">Eventi "negativi": eventi che indicano un'elaborazione imprevista o una condizione di errore.</span><span class="sxs-lookup"><span data-stu-id="11938-191">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>|<span data-ttu-id="11938-192">Si è verificata un'elaborazione imprevista.</span><span class="sxs-lookup"><span data-stu-id="11938-192">Unexpected processing has happened.</span></span> <span data-ttu-id="11938-193">L'applicazione non è stata in grado di eseguire un'attività come previsto.</span><span class="sxs-lookup"><span data-stu-id="11938-193">The application was not able to perform a task as expected.</span></span> <span data-ttu-id="11938-194">L'applicazione, tuttavia, è ancora in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="11938-194">However, the application is still up and running.</span></span>|<span data-ttu-id="11938-195">Vengono registrate tutte le eccezioni.</span><span class="sxs-lookup"><span data-stu-id="11938-195">All exceptions are logged.</span></span>|<span data-ttu-id="11938-196">Amministratori</span><span class="sxs-lookup"><span data-stu-id="11938-196">Administrators</span></span><br /><br /> <span data-ttu-id="11938-197">Sviluppatori di applicazioni</span><span class="sxs-lookup"><span data-stu-id="11938-197">Application developers</span></span>|  
|<span data-ttu-id="11938-198">Avviso</span><span class="sxs-lookup"><span data-stu-id="11938-198">Warning</span></span>|<span data-ttu-id="11938-199">Eventi "negativi": eventi che indicano un'elaborazione imprevista o una condizione di errore.</span><span class="sxs-lookup"><span data-stu-id="11938-199">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>|<span data-ttu-id="11938-200">Un possibile problema si è verificato o potrebbe verificarsi, ma l'applicazione funziona ancora correttamente.</span><span class="sxs-lookup"><span data-stu-id="11938-200">A possible problem has occurred or may occur, but the application still functions correctly.</span></span> <span data-ttu-id="11938-201">Tuttavia, potrebbe smettere di farlo.</span><span class="sxs-lookup"><span data-stu-id="11938-201">However, it may not continue to work properly.</span></span>|<span data-ttu-id="11938-202">-L'applicazione riceve più richieste superiore a quello consentiranno dalle impostazioni di limitazione.</span><span class="sxs-lookup"><span data-stu-id="11938-202">-   The application is receiving more requests than its throttling settings allow.</span></span><br /><span data-ttu-id="11938-203">-La coda di ricezione è prossimo alla capacità massima configurata.</span><span class="sxs-lookup"><span data-stu-id="11938-203">-   The receiving queue is near its maximum configured capacity.</span></span><br /><span data-ttu-id="11938-204">-Tempo scaduto.</span><span class="sxs-lookup"><span data-stu-id="11938-204">-   Timeout has exceeded.</span></span><br /><span data-ttu-id="11938-205">-Le credenziali sono rifiutate.</span><span class="sxs-lookup"><span data-stu-id="11938-205">-   Credentials are rejected.</span></span>|<span data-ttu-id="11938-206">Amministratori</span><span class="sxs-lookup"><span data-stu-id="11938-206">Administrators</span></span><br /><br /> <span data-ttu-id="11938-207">Sviluppatori di applicazioni</span><span class="sxs-lookup"><span data-stu-id="11938-207">Application developers</span></span>|  
|<span data-ttu-id="11938-208">Informazioni</span><span class="sxs-lookup"><span data-stu-id="11938-208">Information</span></span>|<span data-ttu-id="11938-209">Eventi "Positivi": eventi che contrassegnano attività cardine eseguite correttamente</span><span class="sxs-lookup"><span data-stu-id="11938-209">"Positive" events: events that mark successful milestones</span></span>|<span data-ttu-id="11938-210">Attività cardine importanti e corrette di esecuzione dell'applicazione, indipendentemente dal funzionamento corretto o non corretto dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="11938-210">Important and successful milestones of application execution, regardless of whether the application is working properly or not.</span></span>|<span data-ttu-id="11938-211">In generale il sistema genera messaggi informativi utili per il monitoraggio e la diagnosi dello stato di sistema, la valutazione delle prestazioni o il profiling.</span><span class="sxs-lookup"><span data-stu-id="11938-211">In general, messages helpful for monitoring and diagnosing system status, measuring performance or profiling are generated.</span></span> <span data-ttu-id="11938-212">È possibile utilizzare queste informazioni per la pianificazione della capacità e la gestione delle prestazioni:</span><span class="sxs-lookup"><span data-stu-id="11938-212">You can use such information for capacity planning and performance management:</span></span><br /><br /> <span data-ttu-id="11938-213">-Vengono creati canali.</span><span class="sxs-lookup"><span data-stu-id="11938-213">-   Channels are created.</span></span><br /><span data-ttu-id="11938-214">-Listener endpoint vengono creati.</span><span class="sxs-lookup"><span data-stu-id="11938-214">-   Endpoint listeners are created.</span></span><br /><span data-ttu-id="11938-215">-Messaggio entra o abbandona il trasporto.</span><span class="sxs-lookup"><span data-stu-id="11938-215">-   Message enters/leaves transport.</span></span><br /><span data-ttu-id="11938-216">Token di sicurezza viene recuperato.</span><span class="sxs-lookup"><span data-stu-id="11938-216">-   Security token is retrieved.</span></span><br /><span data-ttu-id="11938-217">-Impostazione di configurazione viene letto.</span><span class="sxs-lookup"><span data-stu-id="11938-217">-   Configuration setting is read.</span></span>|<span data-ttu-id="11938-218">Amministratori</span><span class="sxs-lookup"><span data-stu-id="11938-218">Administrators</span></span><br /><br /> <span data-ttu-id="11938-219">Sviluppatori di applicazioni</span><span class="sxs-lookup"><span data-stu-id="11938-219">Application developers</span></span><br /><br /> <span data-ttu-id="11938-220">Sviluppatori di prodotti</span><span class="sxs-lookup"><span data-stu-id="11938-220">Product developers.</span></span>|  
|<span data-ttu-id="11938-221">Dettagliato</span><span class="sxs-lookup"><span data-stu-id="11938-221">Verbose</span></span>|<span data-ttu-id="11938-222">Eventi "Positivi": eventi che contrassegnano attività cardine eseguite correttamente.</span><span class="sxs-lookup"><span data-stu-id="11938-222">"Positive" events: events that mark successful milestones.</span></span>|<span data-ttu-id="11938-223">Vengono generati eventi di basso livello per codice utente e manutenzione.</span><span class="sxs-lookup"><span data-stu-id="11938-223">Low level events for both user code and servicing are emitted.</span></span>|<span data-ttu-id="11938-224">In genere è possibile utilizzare questo livello per il debug o l'ottimizzazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="11938-224">In general, you can use this level for debugging or application optimization.</span></span><br /><br /> <span data-ttu-id="11938-225">-Intestazione del messaggio riconosciuta.</span><span class="sxs-lookup"><span data-stu-id="11938-225">-   Understood message header.</span></span>|<span data-ttu-id="11938-226">Amministratori</span><span class="sxs-lookup"><span data-stu-id="11938-226">Administrators</span></span><br /><br /> <span data-ttu-id="11938-227">Sviluppatori di applicazioni</span><span class="sxs-lookup"><span data-stu-id="11938-227">Application developers</span></span><br /><br /> <span data-ttu-id="11938-228">Sviluppatori di prodotti</span><span class="sxs-lookup"><span data-stu-id="11938-228">Product developers.</span></span>|  
|<span data-ttu-id="11938-229">ActivityTracing</span><span class="sxs-lookup"><span data-stu-id="11938-229">ActivityTracing</span></span>||<span data-ttu-id="11938-230">Eventi di flusso tra attività di elaborazione e componenti.</span><span class="sxs-lookup"><span data-stu-id="11938-230">Flow events between processing activities and components.</span></span>|<span data-ttu-id="11938-231">Questo livello consente ad amministratori e sviluppatori di mettere in correlazione applicazioni nello stesso dominio applicazione:</span><span class="sxs-lookup"><span data-stu-id="11938-231">This level allows administrators and developers to correlate applications in the same application domain:</span></span><br /><br /> <span data-ttu-id="11938-232">-Le tracce per limiti di attività, ad esempio avviare o arrestare.</span><span class="sxs-lookup"><span data-stu-id="11938-232">-   Traces for activity boundaries, such as start/stop.</span></span><br /><span data-ttu-id="11938-233">-Tracce per trasferimenti.</span><span class="sxs-lookup"><span data-stu-id="11938-233">-   Traces for transfers.</span></span>|<span data-ttu-id="11938-234">Tutti</span><span class="sxs-lookup"><span data-stu-id="11938-234">All</span></span>|  
|<span data-ttu-id="11938-235">Tutti</span><span class="sxs-lookup"><span data-stu-id="11938-235">All</span></span>||<span data-ttu-id="11938-236">L'applicazione può funzionare correttamente.</span><span class="sxs-lookup"><span data-stu-id="11938-236">Application may function properly.</span></span> <span data-ttu-id="11938-237">Vengono generati tutti gli eventi.</span><span class="sxs-lookup"><span data-stu-id="11938-237">All events are emitted.</span></span>|<span data-ttu-id="11938-238">Tutti gli eventi precedenti.</span><span class="sxs-lookup"><span data-stu-id="11938-238">All previous events.</span></span>|<span data-ttu-id="11938-239">Tutti</span><span class="sxs-lookup"><span data-stu-id="11938-239">All</span></span>|  
  
 <span data-ttu-id="11938-240">I livelli da Dettagliato a Critico sono inclusi l'uno dentro l'altro, ovvero ogni livello di traccia comprende tutti i livelli che lo precedono ad eccezione del livello Disattivo.</span><span class="sxs-lookup"><span data-stu-id="11938-240">The levels from Verbose to Critical are stacked on top of each other, that is, each trace level includes all levels above it except the Off level.</span></span> <span data-ttu-id="11938-241">Un listener in ascolto al livello Avviso, ad esempio, riceve le tracce Critico, Errore e Avviso.</span><span class="sxs-lookup"><span data-stu-id="11938-241">For example, a listener listening at the Warning level receives Critical, Error, and Warning traces.</span></span> <span data-ttu-id="11938-242">Il livello Tutto comprende gli eventi da Dettagliato a Critico ed eventi di Traccia attività.</span><span class="sxs-lookup"><span data-stu-id="11938-242">The All level includes events from Verbose to Critical and Activity tracing events.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="11938-243">I livelli Informazioni, Dettagliato e ActivityTracing generano molte tracce che possono influire negativamente sulla velocità effettiva dei messaggi se tutte le risorse disponibili nel computer sono esaurite.</span><span class="sxs-lookup"><span data-stu-id="11938-243">The Information, Verbose, and ActivityTracing levels generate a lot of traces, which may negatively impact message throughput if you have used up all available resources on the machine.</span></span>  
  
## <a name="configuring-activity-tracing-and-propagation-for-correlation"></a><span data-ttu-id="11938-244">Configurazione della traccia e della propagazione di attività a fini di correlazione</span><span class="sxs-lookup"><span data-stu-id="11938-244">Configuring Activity Tracing and Propagation for Correlation</span></span>  
 <span data-ttu-id="11938-245">Il valore `activityTracing` specificato per l'attributo `switchValue` consente di attivare la traccia di attività, che genera tracce per limiti e trasferimenti di attività all'interno di endpoint.</span><span class="sxs-lookup"><span data-stu-id="11938-245">The `activityTracing` value specified for the `switchValue` attribute is used to enable activity tracing, which emits traces for activity boundaries and transfers within endpoints.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="11938-246">Quando si utilizzano determinate funzioni di estensibilità in [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)], potrebbe venire generata la classe <xref:System.NullReferenceException> se la traccia attività è attiva.</span><span class="sxs-lookup"><span data-stu-id="11938-246">When you use certain extensibility features in [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)], you might get a <xref:System.NullReferenceException> when activity tracing is enabled.</span></span> <span data-ttu-id="11938-247">Per risolvere questo problema, controllare il file di configurazione dell'applicazione e verificare che l'attributo `switchValue` per l'origine di traccia non sia impostato su `activityTracing`.</span><span class="sxs-lookup"><span data-stu-id="11938-247">To fix this problem, check your application's configuration file and ensure that the `switchValue` attribute for your trace source is not set to `activityTracing`.</span></span>  
  
 <span data-ttu-id="11938-248">L'attributo `propagateActivity` indica se l'attività deve essere propagata ad altri endpoint che partecipano nello scambio di messaggi.</span><span class="sxs-lookup"><span data-stu-id="11938-248">The `propagateActivity` attribute indicates whether the activity should be propagated to other endpoints that participate in the message exchange.</span></span> <span data-ttu-id="11938-249">Impostando questo valore su `true`, è possibile osservare file di traccia generati da due endpoint qualsiasi e notare come un set di tracce in un endpoint venga propagato a un set di tracce in un altro endpoint.</span><span class="sxs-lookup"><span data-stu-id="11938-249">By setting this value to `true`, you can take trace files generated by any two endpoints and observe how a set of traces on one endpoint flowed to a set of traces on another endpoint.</span></span>  
  
 [!INCLUDE[crabout](../../../../../includes/crabout-md.md)]<span data-ttu-id="11938-250">traccia delle attività e propagazione, vedere [propagazione](../../../../../docs/framework/wcf/diagnostics/tracing/propagation.md).</span><span class="sxs-lookup"><span data-stu-id="11938-250"> activity tracing and propagation, see [Propagation](../../../../../docs/framework/wcf/diagnostics/tracing/propagation.md).</span></span>  
  
 <span data-ttu-id="11938-251">Entrambi `propagateActivity` e `ActivityTracing` booleani valori validi per la proprietà TraceSource System. ServiceModel.</span><span class="sxs-lookup"><span data-stu-id="11938-251">Both `propagateActivity` and `ActivityTracing` Boolean values apply to the System.ServiceModel TraceSource.</span></span> <span data-ttu-id="11938-252">Il `ActivityTracing` valore si applica anche a qualsiasi origine di traccia, tra cui [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] o quelli definiti dall'utente.</span><span class="sxs-lookup"><span data-stu-id="11938-252">The `ActivityTracing` value also applies to any trace source, including [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] or user-defined ones.</span></span>  
  
 <span data-ttu-id="11938-253">Non è possibile utilizzare l'attributo `propagateActivity` con le origini di traccia definite dall'utente.</span><span class="sxs-lookup"><span data-stu-id="11938-253">You cannot use the `propagateActivity` attribute with user-defined trace sources.</span></span> <span data-ttu-id="11938-254">Per la propagazione di ID attività di codice utente, accertarsi di non impostare l'attributo `ActivityTracing` di ServiceModel, mantenendo l'attributo `propagateActivity` di ServiceModel impostato su `true`.</span><span class="sxs-lookup"><span data-stu-id="11938-254">For user code activity ID propagation, make sure you do not set ServiceModel `ActivityTracing`, while still having ServiceModel `propagateActivity` attribute set to `true`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="11938-255">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="11938-255">See Also</span></span>  
 [<span data-ttu-id="11938-256">Traccia</span><span class="sxs-lookup"><span data-stu-id="11938-256">Tracing</span></span>](../../../../../docs/framework/wcf/diagnostics/tracing/index.md)  
 [<span data-ttu-id="11938-257">Amministrazione e diagnostica</span><span class="sxs-lookup"><span data-stu-id="11938-257">Administration and Diagnostics</span></span>](../../../../../docs/framework/wcf/diagnostics/index.md)  
 [<span data-ttu-id="11938-258">Procedura: creare e inizializzare listener di traccia</span><span class="sxs-lookup"><span data-stu-id="11938-258">How to: Create and Initialize Trace Listeners</span></span>](http://go.microsoft.com/fwlink/?LinkId=94648)  
 [<span data-ttu-id="11938-259">Creazione di un listener di traccia personalizzato</span><span class="sxs-lookup"><span data-stu-id="11938-259">Creating a Custom TraceListener</span></span>](http://go.microsoft.com/fwlink/?LinkId=96239)
