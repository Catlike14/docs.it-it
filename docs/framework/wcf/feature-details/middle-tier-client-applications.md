---
title: Applicazioni client di livello intermedio
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f9714a64-d0ae-4a98-bca0-5d370fdbd631
caps.latest.revision: "11"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 893fa027d2f1eb4fa3782b9119f6ae2d4a78d700
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/18/2017
---
# <a name="middle-tier-client-applications"></a><span data-ttu-id="de23b-102">Applicazioni client di livello intermedio</span><span class="sxs-lookup"><span data-stu-id="de23b-102">Middle-Tier Client Applications</span></span>
<span data-ttu-id="de23b-103">In questo argomento vengono analizzati alcuni aspetti specifici delle applicazioni client di livello intermedio che usano [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="de23b-103">This topic discusses various issues specific to middle-tier client applications that use [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)].</span></span>  
  
## <a name="increasing-middle-tier-client-performance"></a><span data-ttu-id="de23b-104">Miglioramento delle prestazioni dei client di livello intermedio</span><span class="sxs-lookup"><span data-stu-id="de23b-104">Increasing Middle-Tier Client Performance</span></span>  
 <span data-ttu-id="de23b-105">Paragonata alle tecnologie di comunicazione precedenti, ad esempio i servizi Web che usano [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], la creazione di un'istanza client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] può essere più complessa a causa del vasto set di funzionalità di [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="de23b-105">Compared to previous communications technologies, such as Web services using [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], the creation of a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client instance can be more complex due to the rich feature set of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span></span> <span data-ttu-id="de23b-106">Ad esempio, quando un oggetto <xref:System.ServiceModel.ChannelFactory%601> viene aperto può stabilire una sessione protetta con il servizio, una procedura che aumenta il tempo di avvio per l'istanza client.</span><span class="sxs-lookup"><span data-stu-id="de23b-106">For example, when a <xref:System.ServiceModel.ChannelFactory%601> object is opened it can establish a secure session with the service, a procedure that increases the startup time for the client instance.</span></span> <span data-ttu-id="de23b-107">In genere queste funzionalità aggiuntive non influiscono significativamente sulle applicazioni client in quanto il client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] effettua più chiamate e quindi viene chiuso.</span><span class="sxs-lookup"><span data-stu-id="de23b-107">Typically, these additional feature capabilities do not affect client applications greatly since the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client makes several calls, and then closes.</span></span>  
  
 <span data-ttu-id="de23b-108">Le applicazioni client di livello intermedio possono tuttavia creare rapidamente molti oggetti client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] e devono quindi soddisfare maggiori requisiti di inizializzazione.</span><span class="sxs-lookup"><span data-stu-id="de23b-108">Middle-tier client applications, however, can create many [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client objects quickly and, as a result, experience increased initialization requirements.</span></span> <span data-ttu-id="de23b-109">Per migliorare le prestazioni delle applicazioni di livello intermedio durante le chiamate ai servizi è possibile seguire principalmente due diversi approcci:</span><span class="sxs-lookup"><span data-stu-id="de23b-109">There are two main approaches to increasing the performance of middle-tier applications when calling services:</span></span>  
  
-   <span data-ttu-id="de23b-110">Memorizzare nella cache l'oggetto client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] e riutilizzarlo, se possibile, per chiamate successive.</span><span class="sxs-lookup"><span data-stu-id="de23b-110">Cache the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client object and reuse it for subsequent calls where possible.</span></span>  
  
-   <span data-ttu-id="de23b-111">Creare un oggetto <xref:System.ServiceModel.ChannelFactory%601> e usarlo per creare nuovi oggetti di canale client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] per ogni chiamata.</span><span class="sxs-lookup"><span data-stu-id="de23b-111">Create a <xref:System.ServiceModel.ChannelFactory%601> object and then use that object to create new [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channel objects for each call.</span></span>  
  
 <span data-ttu-id="de23b-112">Quando si seguono queste procedure è opportuno considerare gli aspetti seguenti:</span><span class="sxs-lookup"><span data-stu-id="de23b-112">Issues to consider when using these approaches include:</span></span>  
  
-   <span data-ttu-id="de23b-113">Se il servizio gestisce uno stato specifico del client usando una sessione, non è possibile riutilizzare il client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] di livello intermedio con richieste di client di vari livelli poiché lo stato del servizio è associato allo stato del client di livello intermedio.</span><span class="sxs-lookup"><span data-stu-id="de23b-113">If the service is maintaining a client-specific state by using a session, then you cannot reuse the middle-tier [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client with multiple-client tier requests because the service's state is tied to that of the middle-tier client.</span></span>  
  
-   <span data-ttu-id="de23b-114">Se il servizio deve eseguire l'autenticazione per ogni singolo client, è necessario creare un nuovo client per ogni richiesta in ingresso nel livello intermedio anziché riutilizzare il client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] di livello intermedio (o l'oggetto di canale client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] ) perché le credenziali client del livello intermedio non possono essere modificate dopo che il client (o [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]) <xref:System.ServiceModel.ChannelFactory%601> è stato creato.</span><span class="sxs-lookup"><span data-stu-id="de23b-114">If the service must perform authentication on a per-client basis, you must create a new client for each incoming request on the middle tier instead of reusing the middle-tier [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client (or [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channel object) because the client credentials of the middle tier cannot be modified after the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client (or <xref:System.ServiceModel.ChannelFactory%601>) has been created.</span></span>  
  
-   <span data-ttu-id="de23b-115">Sebbene i canali e i client creati dai canali siano thread-safe, è possibile che non supportino la scrittura di più messaggi in rete contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="de23b-115">While channels and clients created by the channels are thread-safe, they might not support writing more than one message to the wire concurrently.</span></span> <span data-ttu-id="de23b-116">Se vengono inviati messaggi di grandi dimensioni, in particolare se viene eseguito il flusso, l'operazione di invio potrebbe bloccarsi in attesa del completamento di un'altra operazione di invio.</span><span class="sxs-lookup"><span data-stu-id="de23b-116">If you are sending large messages, particularly if streaming, the send operation might block waiting for another send to complete.</span></span> <span data-ttu-id="de23b-117">Ciò causa due tipi di problemi: la mancanza di concorrenza e la possibilità di deadlock se il flusso di controllo torna al servizio riutilizzando il canale (ovvero, il client condiviso chiama un servizio il cui percorso di codice comporta un callback al client condiviso).</span><span class="sxs-lookup"><span data-stu-id="de23b-117">This causes two sorts of problems: a lack of concurrency and the possibility of deadlock if the flow of control returns to the service reusing the channel (that is, the shared client calls a service whose code path results in a callback to the shared client).</span></span> <span data-ttu-id="de23b-118">Questa situazione si verifica indipendentemente dal tipo di client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] che si riutilizza.</span><span class="sxs-lookup"><span data-stu-id="de23b-118">This is true regardless of the type of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client you reuse.</span></span>  
  
-   <span data-ttu-id="de23b-119">È necessario gestire i canali in stato di errore indipendentemente dal fatto che si condivida o meno il canale.</span><span class="sxs-lookup"><span data-stu-id="de23b-119">You must handle faulted channels regardless of whether you share the channel.</span></span> <span data-ttu-id="de23b-120">Quando i canali vengono riutilizzati, un canale in stato di errore può tuttavia annullare più richieste o operazioni di invio in sospeso.</span><span class="sxs-lookup"><span data-stu-id="de23b-120">When channels are reused, however, a faulting channel can take down more than one pending request or send.</span></span>  
  
 <span data-ttu-id="de23b-121">Per un esempio che illustra le procedure consigliate per il riutilizzo di un client di più richieste, vedere [Data Binding in un Client ASP.NET](../../../../docs/framework/wcf/samples/data-binding-in-an-aspnet-client.md).</span><span class="sxs-lookup"><span data-stu-id="de23b-121">For an example that demonstrates best practices for reusing a client for multiple requests, see [Data Binding in an ASP.NET Client](../../../../docs/framework/wcf/samples/data-binding-in-an-aspnet-client.md).</span></span>  
  
 <span data-ttu-id="de23b-122">È anche possibile migliorare le prestazioni di avvio per i client che usano tipi di dati serializzabili usando la classe <xref:System.Xml.Serialization.XmlSerializer> per generare e compilare il codice di serializzazione per questi tipi di dati in fase di esecuzione. Questa procedura può comportare una riduzione delle prestazioni di avvio.</span><span class="sxs-lookup"><span data-stu-id="de23b-122">In addition, you can increase the startup performance for those clients that use data types that are serializable using the <xref:System.Xml.Serialization.XmlSerializer> generate and compile serialization code for those data types at runtime, which can result in slow start-up performance.</span></span> <span data-ttu-id="de23b-123">Il [strumento ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) può migliorare le prestazioni di avvio per queste applicazioni per la generazione del codice di serializzazione necessari dagli assembly compilati per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="de23b-123">The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) can improve start-up performance for these applications by generating the necessary serialization code from the compiled assemblies for the application.</span></span> <span data-ttu-id="de23b-124">Per ulteriori informazioni, vedere [procedura: migliorare l'avvio del tempo di applicazioni Client WCF usando XmlSerializer](../../../../docs/framework/wcf/feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span><span class="sxs-lookup"><span data-stu-id="de23b-124">For more information, see [How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer](../../../../docs/framework/wcf/feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="de23b-125">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="de23b-125">See Also</span></span>  
 [<span data-ttu-id="de23b-126">Accesso ai servizi tramite client WCF</span><span class="sxs-lookup"><span data-stu-id="de23b-126">Accessing Services Using a WCF Client</span></span>](../../../../docs/framework/wcf/feature-details/accessing-services-using-a-client.md)
