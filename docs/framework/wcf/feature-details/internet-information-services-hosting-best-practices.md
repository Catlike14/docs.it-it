---
title: Procedure consigliate per l'hosting in Internet Information Services (IIS)
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 0834768e-9665-46bf-86eb-d4b09ab91af5
caps.latest.revision: "22"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 60d703336aeac3471e4b554f65998621b5cc8ef8
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/21/2017
---
# <a name="internet-information-services-hosting-best-practices"></a><span data-ttu-id="3a0ff-102">Procedure consigliate per l'hosting in Internet Information Services (IIS)</span><span class="sxs-lookup"><span data-stu-id="3a0ff-102">Internet Information Services Hosting Best Practices</span></span>
<span data-ttu-id="3a0ff-103">In questo argomento vengono illustrate alcune procedure consigliate per l'hosting di servizi [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3a0ff-103">This topic outlines some best practices for hosting [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services.</span></span>  
  
## <a name="implementing-wcf-services-as-dlls"></a><span data-ttu-id="3a0ff-104">Implementazione di servizi WCF come DLL</span><span class="sxs-lookup"><span data-stu-id="3a0ff-104">Implementing WCF Services as DLLs</span></span>  
 <span data-ttu-id="3a0ff-105">L'implementazione di un servizio [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] come DLL distribuita alla directory \bin di un'applicazione Web consente di riutilizzare il servizio al di fuori del modello dell'applicazione Web, ad esempio in un ambiente di test in cui Internet Information Services (IIS) potrebbe non essere distribuito.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-105">Implementing a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service as a DLL that is deployed to the \bin directory of a Web application allows you reuse the service outside of the Web application model, for example, in a test environment that may not have Internet Information Services (IIS) deployed.</span></span>  
  
## <a name="service-hosts-in-iis-hosted-applications"></a><span data-ttu-id="3a0ff-106">Host di servizi in applicazioni ospitate da IIS</span><span class="sxs-lookup"><span data-stu-id="3a0ff-106">Service Hosts in IIS-Hosted Applications</span></span>  
 <span data-ttu-id="3a0ff-107">Non utilizzare API indipendenti imperative per creare nuovi host di servizi che ascoltano sulla rete trasporti non supportati a livello nativo dall'ambiente host IIS (ad esempio, [!INCLUDE[iis601](../../../../includes/iis601-md.md)] per ospitare servizi TCP, perché la comunicazione TCP non è supportata a livello nativo su [!INCLUDE[iis601](../../../../includes/iis601-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="3a0ff-107">Do not use the imperative self-host APIs to create new service hosts that listen on network transports not natively supported by the IIS hosting environment (For example, [!INCLUDE[iis601](../../../../includes/iis601-md.md)] to host TCP services, because TCP communication is not natively supported on [!INCLUDE[iis601](../../../../includes/iis601-md.md)]).</span></span> <span data-ttu-id="3a0ff-108">Questo approccio non è consigliato.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-108">This approach is not recommended.</span></span> <span data-ttu-id="3a0ff-109">Gli host di servizi creati in modo imperativo non sono conosciuti all'interno dell'ambiente host IIS.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-109">Service hosts created imperatively are not known within the IIS hosting environment.</span></span> <span data-ttu-id="3a0ff-110">Il punto critico è il fatto che l'elaborazione eseguita da servizi creati in modo imperativo non viene considerata da IIS quando determina se il pool di applicazioni host è inattivo.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-110">The critical point is that processing done by imperatively created services is not accounted for by IIS when it determines whether the hosting application pool is idle.</span></span> <span data-ttu-id="3a0ff-111">Di conseguenza, le applicazioni con host di servizi creati in modo imperativo hanno un ambiente host IIS che elimina bruscamente i processi host IIS.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-111">The result is that applications that have such imperatively created service hosts have an IIS hosting environment that aggressively disposes of IIS host processes.</span></span>  
  
## <a name="uris-and-iis-hosted-endpoints"></a><span data-ttu-id="3a0ff-112">URI ed endpoint ospitati da IIS</span><span class="sxs-lookup"><span data-stu-id="3a0ff-112">URIs and IIS-Hosted Endpoints</span></span>  
 <span data-ttu-id="3a0ff-113">Gli endpoint per un servizio ospitato da IIS devono essere configurati tramite URI (Uniform Resource Identifier), non tramite indirizzi assoluti.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-113">Endpoints for an IIS-hosted service should be configured using relative Uniform Resource Identifiers (URIs), not absolute addresses.</span></span> <span data-ttu-id="3a0ff-114">Ciò garantisce che l'indirizzo endpoint rientri nel set di indirizzi URI che appartengono all'applicazione host e assicurano che l'attivazione basata su messaggi si verifichi come previsto.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-114">This guarantees that the endpoint address falls within the set of URI addresses that belong to the hosting application and ensures that message-based activation happens as expected.</span></span>  
  
## <a name="state-management-and-process-recycling"></a><span data-ttu-id="3a0ff-115">Riciclo del processo e della gestione dello stato</span><span class="sxs-lookup"><span data-stu-id="3a0ff-115">State Management and Process Recycling</span></span>  
 <span data-ttu-id="3a0ff-116">L'ambiente host IIS è ottimizzato per servizi che non mantengono lo stato locale in memoria.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-116">The IIS hosting environment is optimized for services that do not maintain local state in memory.</span></span> <span data-ttu-id="3a0ff-117">IIS ricicla il processo host in risposta a numerosi eventi esterni e interni, causando la perdita di qualsiasi stato volatile archiviato esclusivamente in memoria.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-117">IIS recycles the host process in response to a variety of external and internal events, causing any volatile state stored exclusively in memory to be lost.</span></span> <span data-ttu-id="3a0ff-118">I servizi ospitati in IIS devono archiviare il proprio stato fuori dal processo (ad esempio, in un database) o in una cache in memoria che può essere ricreata facilmente se si verifica un evento di riciclo dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-118">Services hosted in IIS should store their state external to the process (for example, in a database) or in an in-memory cache that can easily be re-created if an application recycle event occurs.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3a0ff-119">I protocolli utilizzati da [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] per l'affidabilità e la sicurezza a livello di messaggi utilizzano lo stato in memoria volatile.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-119">The protocols [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] uses for message-layer reliability and security make use of the volatile in-memory state.</span></span> <span data-ttu-id="3a0ff-120">Le sessioni affidabili e le sessioni di sicurezza di [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] potrebbero terminare in modo imprevisto a causa dei ricicli delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-120">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] reliable sessions and security sessions may terminate unexpectedly due to application recycles.</span></span> <span data-ttu-id="3a0ff-121">Le applicazioni ospitate da IIS che si avvalgono di questi protocolli devono dipendere da qualcosa che non sia la chiave di sessione fornita da [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] per correlare lo stato a livello di applicazione (ad esempio, un costrutto a livello di applicazione o un'intestazione di correlazione personalizzata) oppure devono disabilitare il riciclo del processo IIS per l'applicazione ospitata.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-121">IIS-hosted applications that make use of these protocols should either depend on something other than the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]-provided session key for correlating application-layer state (for example, an application-layer construct or custom correlation header) or disable IIS process recycling for the hosted application.</span></span>  
  
## <a name="optimizing-performance-in-middle-tier-scenarios"></a><span data-ttu-id="3a0ff-122">Ottimizzazione delle prestazioni in scenari di livello intermedio</span><span class="sxs-lookup"><span data-stu-id="3a0ff-122">Optimizing Performance in Middle-Tier Scenarios</span></span>  
 <span data-ttu-id="3a0ff-123">Per ottenere prestazioni ottimali in un *scenario di livello intermedio*: un servizio che chiama altri servizi in risposta ai messaggi in arrivo, creare un'istanza di [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] una volta del servizio client al servizio remoto e riutilizzarla in più richieste in ingresso.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-123">For optimal performance in a *middle-tier scenario*—a service that calls out to other services in response to incoming messages—instantiate the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service client to the remote service once and reuse it across multiple incoming requests.</span></span> <span data-ttu-id="3a0ff-124">La creazione di un'istanza dei client del servizio di [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] è un'operazione dispendiosa per quanto riguarda l'esecuzione di una chiamata al servizio su un'istanza client preesistente e gli scenari di livello intermedio offrono notevoli vantaggi a livello di prestazioni memorizzando nella cache i client remoti tra le richieste.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-124">Instantiating [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service clients is an expensive operation relative to making a service call on a pre-existing client instance, and middle-tier scenarios produce distinct performance gains by caching remote clients across requests.</span></span> <span data-ttu-id="3a0ff-125">I client del servizio di [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] sono thread-safe, pertanto non è necessario sincronizzare l'accesso a un client su più thread.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-125">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service clients are thread-safe, so it is not necessary to synchronize access to a client across multiple threads.</span></span>  
  
 <span data-ttu-id="3a0ff-126">Gli scenari di livello intermedio offrono vantaggi a livello di prestazioni anche utilizzando le API asincrone generate dall'opzione `svcutil /a`.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-126">Middle-tier scenarios also produce performance gains by using the asynchronous APIs generated by the `svcutil /a` option.</span></span> <span data-ttu-id="3a0ff-127">Il `/a` opzione cause di [strumento ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) per generare `BeginXXX/EndXXX` metodi per ogni operazione del servizio, consentendo potenzialmente lunga chiamate ai servizi remoti in thread in background.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-127">The `/a` option causes the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to generate `BeginXXX/EndXXX` methods for each service operation, which allows potentially long-running calls to remote services to be made on background threads.</span></span>  
  
## <a name="wcf-in-multi-homed-or-multi-named-scenarios"></a><span data-ttu-id="3a0ff-128">WCF in scenari multihomed o con nomi multipli</span><span class="sxs-lookup"><span data-stu-id="3a0ff-128">WCF in Multi-Homed or Multi-named scenarios</span></span>  
 <span data-ttu-id="3a0ff-129">È possibile distribuire servizi [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] all'interno di una Web farm IIS, in cui un set di computer condividono un nome esterno comune (ad esempio http://www.contoso.com) ma sono indirizzati individualmente tramite nomi host diversi (ad esempio, http://www.contoso.com potrebbe indirizzare il traffico a due computer diversi denominati http://machine1.internal.contoso.com e http://machine2.internal.contoso.com).</span><span class="sxs-lookup"><span data-stu-id="3a0ff-129">You can deploy [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services inside of an IIS Web farm, where a set of computers share a common external name (such as http://www.contoso.com) but are individually addressed by different hostnames (for example, http://www.contoso.com might direct traffic to two different machines named http://machine1.internal.contoso.com and http://machine2.internal.contoso.com).</span></span> <span data-ttu-id="3a0ff-130">Questo scenario di distribuzione è supportato pienamente da [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], ma richiede la configurazione speciale del sito Web IIS che ospita servizi [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] per visualizzare il nome host corretto (esterno) nei metadati del servizio (Web Services Description Language).</span><span class="sxs-lookup"><span data-stu-id="3a0ff-130">This deployment scenario is fully supported by [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], but requires special configuration of the IIS Web site hosting [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services to display the correct (external) hostname in the service's metadata (Web Services Description Language).</span></span>  
  
 <span data-ttu-id="3a0ff-131">Per assicurare che nei metadati del servizio generati da [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] venga visualizzato il nome host corretto, configurare l'identità predefinita per il sito Web IIS che ospita servizi [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] in modo che venga utilizzato un nome host esplicito.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-131">To ensure that the correct hostname appears in the service metadata [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] generates, configure the default identity for the IIS Web site that hosts [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services to use an explicit hostname.</span></span> <span data-ttu-id="3a0ff-132">Computer che risiedono all'interno della farm www.contoso.com, ad esempio, deve utilizzare un'associazione del sito IIS di *: 80: www.contoso.com per HTTP e \*: 443:www.contoso.com per HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-132">For example, computers that reside inside of the www.contoso.com farm should use an IIS site binding of *:80:www.contoso.com for HTTP and \*:443:www.contoso.com for HTTPS.</span></span>  
  
 <span data-ttu-id="3a0ff-133">È possibile configurare le associazioni del sito Web IIS utilizzando lo snap-in IIS Microsoft Management Console (MMC).</span><span class="sxs-lookup"><span data-stu-id="3a0ff-133">You can configure IIS Web site bindings by using the IIS Microsoft Management Console (MMC) snap-in.</span></span>  
  
## <a name="application-pools-running-in-different-user-contexts-overwrite-assemblies-from-other-accounts-in-the-temporary-folder"></a><span data-ttu-id="3a0ff-134">I pool di applicazioni che sono in esecuzione in contesti utente diversi sovrascrivono gli assembly da altri account nella cartella temporanea</span><span class="sxs-lookup"><span data-stu-id="3a0ff-134">Application Pools Running in Different User Contexts Overwrite Assemblies from Other Accounts in the Temporary Folder</span></span>  
 <span data-ttu-id="3a0ff-135">Per assicurare che i pool di applicazioni in esecuzione in contesti utente diversi non possano sovrascrivere gli assembly da altri account nella cartella temporanea dei file [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], utilizzare identità diverse e cartelle temporanee per le diverse applicazioni.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-135">To ensure that application pools running in different user contexts cannot overwrite assemblies from other accounts in the temporary [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] files folder, use different identities and temporary folders for different applications.</span></span> <span data-ttu-id="3a0ff-136">Se si hanno, ad esempio, due applicazioni virtuali /Application1 e / Application2, è possibile creare due pool Application, A e B, con due identità diverse.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-136">For example, if you have two virtual applications /Application1 and / Application2, you can create two Application pools, A and B, with two different identities.</span></span> <span data-ttu-id="3a0ff-137">Il pool dell'applicazione A può essere eseguito sotto un'identità utente (user1) mentre il pool dell'applicazione B può essere eseguito sotto un'altra identità utente (user2). Configurare inoltre /Application1 in modo che utilizzi A e /Application2 in modo che utilizzi B.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-137">Application pool A can run under one user identity (user1) while application pool B can run under another user identity (user2), and configure /Application1 to use A and /Application2 to use B.</span></span>  
  
 <span data-ttu-id="3a0ff-138">In Web. config, è possibile configurare la cartella temporanea utilizzando \< system.web/compilation/@tempFolder>.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-138">In Web.config, you can configure the temporary folder using \<system.web/compilation/@tempFolder>.</span></span> <span data-ttu-id="3a0ff-139">Per /Application1, può essere "c:\tempForUser1" e per application2 può essere "c:\tempForUser2".</span><span class="sxs-lookup"><span data-stu-id="3a0ff-139">For /Application1, it can be "c:\tempForUser1" and for application2 it can be "c:\tempForUser2".</span></span> <span data-ttu-id="3a0ff-140">Concedere a queste due cartelle l'autorizzazione di scrittura corrispondente per le due identità.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-140">Grant corresponding write permission to these folders for the two identities.</span></span>  
  
 <span data-ttu-id="3a0ff-141">Di conseguenza, user2 non può modificare la cartella di generazione del codice per /application2 (sotto c:\tempForUser1).</span><span class="sxs-lookup"><span data-stu-id="3a0ff-141">Then user2 cannot change the code-generation folder for /application2 (under c:\tempForUser1).</span></span>  
  
## <a name="enabling-asynchronous-processing"></a><span data-ttu-id="3a0ff-142">Abilitazione dell'elaborazione asincrona</span><span class="sxs-lookup"><span data-stu-id="3a0ff-142">Enabling asynchronous processing</span></span>  
 <span data-ttu-id="3a0ff-143">Per impostazione predefinita, i messaggi inviati a un servizio di [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] ospitato in IIS 6.0 o versioni precedenti vengono processati in modo sincrono.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-143">By default messages sent to a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service hosted under IIS 6.0 and earlier are processed in a synchronous manner.</span></span> <span data-ttu-id="3a0ff-144">In ASP.NET viene eseguita una chiamata a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] nel thread di lavoro di ASP.NET e in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] viene utilizzato un altro thread per elaborare la richiesta.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-144">ASP.NET calls into [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] on its own thread (the ASP.NET worker thread) and [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] uses another thread to process the request.</span></span> [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="3a0ff-145"> mantiene il thread di lavoro di ASP.NET fino al completamento dell'elaborazione,</span><span class="sxs-lookup"><span data-stu-id="3a0ff-145"> holds onto the ASP.NET worker thread until it completes its processing.</span></span> <span data-ttu-id="3a0ff-146">le richieste vengono elaborate in modo sincrono.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-146">This leads to synchronous processing of requests.</span></span> <span data-ttu-id="3a0ff-147">L'elaborazione asincrona delle richieste consente una scalabilità maggiore poiché riduce il numero di thread necessari per l'elaborazione stessa. In [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] infatti non viene mantenuto il thread ASP.NET durante l'elaborazione della richiesta.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-147">Processing requests asynchronously enables greater scalability because it reduces the number of threads required to process a request –[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] does not hold on to the ASP.NET thread while processing the request.</span></span> <span data-ttu-id="3a0ff-148">Non è consigliabile usare il comportamento asincrono per i computer che eseguono IIS 6.0 poiché non è possibile limitare le richieste in ingresso che espongono il server a *Denial Of Service* attacchi DOS ().</span><span class="sxs-lookup"><span data-stu-id="3a0ff-148">Use of asynchronous behavior is not recommended for machines running IIS 6.0 because there is no way to throttle incoming requests that open up the server to *Denial Of Service* (DOS) attacks.</span></span> <span data-ttu-id="3a0ff-149">A partire da IIS 7.0, è stato introdotto un limite al numero di richieste simultanee, ovvero `[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\2.0.50727.0]"MaxConcurrentRequestsPerCpu`.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-149">Starting with IIS 7.0, a concurrent request throttle has been introduced: `[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\2.0.50727.0]"MaxConcurrentRequestsPerCpu`.</span></span> <span data-ttu-id="3a0ff-150">Grazie a questo nuovo limite, è possibile utilizzare l'elaborazione asincrona in modo sicuro.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-150">With this new throttle it is safe to use the asynchronous processing.</span></span>  <span data-ttu-id="3a0ff-151">Per impostazione predefinita, in IIS 7.0 il gestore asincrono e il modulo sono registrati.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-151">By default in IIS 7.0, the asynchronous handler and module are registered.</span></span> <span data-ttu-id="3a0ff-152">Se l'elaborazione asincrona di richieste è stata disattivata, è possibile abilitarla manualmente nel file Web.config dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-152">If this has been turned off, you can manually enable asynchronous processing of requests in your application's Web.config file.</span></span> <span data-ttu-id="3a0ff-153">Le impostazioni da utilizzare dipendono dall'impostazione `aspNetCompatibilityEnabled`.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-153">The settings you use depend on your `aspNetCompatibilityEnabled` setting.</span></span> <span data-ttu-id="3a0ff-154">Se `aspNetCompatibilityEnabled` è impostato su `false`, configurare `System.ServiceModel.Activation.ServiceHttpModule` come illustrato nel frammento di configurazione seguente.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-154">If you have `aspNetCompatibilityEnabled` set to `false`, configure the `System.ServiceModel.Activation.ServiceHttpModule` as shown in the following configuration snippet.</span></span>  
  
```xml  
<system.serviceModel>  
    <serviceHostingEnvironment aspNetCompatibilityEnabled="false" />      
  </system.serviceModel>  
  <system.webServer>  
    <modules>  
      <remove name="ServiceModel"/>  
      <add name="ServiceModel"   
           preCondition="integratedMode,runtimeVersionv2.0"   
           type="System.ServiceModel.Activation.ServiceHttpModule, System.ServiceModel,Version=3.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>  
    </modules>  
    </system.webServer>  
```  
  
 <span data-ttu-id="3a0ff-155">Se `aspNetCompatibilityEnabled` è impostato su `true`, configurare `System.ServiceModel.Activation.ServiceHttpHandlerFactory` come illustrato nel frammento di configurazione seguente.</span><span class="sxs-lookup"><span data-stu-id="3a0ff-155">If you have `aspNetCompatibilityEnabled` set to `true`, configure the `System.ServiceModel.Activation.ServiceHttpHandlerFactory` as shown in the following config snippet.</span></span>  
  
```xml  
<system.serviceModel>  
    <serviceHostingEnvironment aspNetCompatibilityEnabled="true" />      
  </system.serviceModel>  
  <system.webServer>  
    <handlers>  
          <clear/>  
          <add name="TestAsyncHttpHandler"   
               path="*.svc"   
               verb="*"   
               type="System.ServiceModel.Activation.ServiceHttpHandlerFactory, System.ServiceModel, Version=3.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"           
               />  
    </handlers>      
  </system.webServer>  
```  
  
## <a name="see-also"></a><span data-ttu-id="3a0ff-156">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="3a0ff-156">See Also</span></span>  
 [<span data-ttu-id="3a0ff-157">Esempi del servizio di Hosting</span><span class="sxs-lookup"><span data-stu-id="3a0ff-157">Service Hosting Samples</span></span>](http://msdn.microsoft.com/en-us/f703a3f6-0fba-418a-a92f-7ce75ccfa47e)  
 [<span data-ttu-id="3a0ff-158">Windows Server AppFabric con funzionalità di Hosting</span><span class="sxs-lookup"><span data-stu-id="3a0ff-158">Windows Server App Fabric Hosting Features</span></span>](http://go.microsoft.com/fwlink/?LinkId=201276)
