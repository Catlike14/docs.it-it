---
title: 'Procedura: creare un client di Windows Communication Foundation'
ms.date: 03/30/2017
helpviewer_keywords:
- clients [WCF], running
- WCF clients [WCF], running
ms.assetid: a67884cc-1c4b-416b-8c96-5c954099f19f
ms.openlocfilehash: d2932293536f875d8986d8d49842cddc196ced0f
ms.sourcegitcommit: 15109844229ade1c6449f48f3834db1b26907824
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/07/2018
ms.locfileid: "33806273"
---
# <a name="how-to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="30106-102">Procedura: creare un client di Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="30106-102">How to: Create a Windows Communication Foundation Client</span></span>
<span data-ttu-id="30106-103">Questa è la quarta delle sei attività necessarie per creare un'applicazione Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="30106-103">This is the fourth of six tasks required to create a Windows Communication Foundation (WCF) application.</span></span> <span data-ttu-id="30106-104">Per una panoramica di tutte e sei le attività, vedere il [esercitazione introduttiva](../../../docs/framework/wcf/getting-started-tutorial.md) argomento.</span><span class="sxs-lookup"><span data-stu-id="30106-104">For an overview of all six of the tasks, see the [Getting Started Tutorial](../../../docs/framework/wcf/getting-started-tutorial.md) topic.</span></span>  
  
 <span data-ttu-id="30106-105">In questo argomento viene descritto come recuperare i metadati da un servizio WCF e utilizzarlo per creare un proxy WCF che possa accedere al servizio.</span><span class="sxs-lookup"><span data-stu-id="30106-105">This topic describes how to retrieve metadata from a WCF service and use it to create a WCF proxy that can access the service.</span></span> <span data-ttu-id="30106-106">Questa attività viene completata utilizzando la funzionalità Aggiungi riferimento al servizio fornita da Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="30106-106">This task is completed by using the Add Service Reference functionality provided by Visual Studio .</span></span> <span data-ttu-id="30106-107">Con questo strumento si ottengono i metadati dall'endpoint MEX del servizio e si genera un file di codice sorgente gestito per un proxy client nel linguaggio scelto (per impostazione predefinita C#).</span><span class="sxs-lookup"><span data-stu-id="30106-107">This tool obtains the metadata from the service’s MEX endpoint and generates a managed source code file for a client proxy in the language you have chosen (C# by default).</span></span> <span data-ttu-id="30106-108">Oltre a creare il proxy client, lo strumento crea o aggiorna anche il file di configurazione client che consente all'applicazione client di connettersi al servizio su uno dei relativi endpoint.</span><span class="sxs-lookup"><span data-stu-id="30106-108">In addition to creating the client proxy, the tool also creates or updates the client configuration file which enables the client application to connect to the service at one of its endpoints.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="30106-109">È inoltre possibile utilizzare il [strumento ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) strumento per generare la classe proxy e configurazione invece di usare Aggiungi riferimento al servizio all'interno di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="30106-109">You can also use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool to generate the proxy class and configuration instead of using Add Service Reference inside of Visual Studio.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="30106-110">Quando si chiama un servizio WCF da un progetto libreria di classi in [!INCLUDE[vs_current_long](../../../includes/vs-current-long-md.md)] è possibile utilizzare la funzionalità Aggiungi riferimento al servizio per generare automaticamente un proxy e file di configurazione associato.</span><span class="sxs-lookup"><span data-stu-id="30106-110">When calling a WCF service from a class library project in [!INCLUDE[vs_current_long](../../../includes/vs-current-long-md.md)] you can use the Add Service Reference feature to automatically generate a proxy and associated configuration file.</span></span>  <span data-ttu-id="30106-111">Il file di configurazione non sarà utilizzato dal progetto Libreria di classi.</span><span class="sxs-lookup"><span data-stu-id="30106-111">The configuration file will not be used by the class library project.</span></span> <span data-ttu-id="30106-112">Sarà necessario aggiungere le impostazioni del file di configurazione generato nel file app.config per il file eseguibile che chiamerà la libreria di classi.</span><span class="sxs-lookup"><span data-stu-id="30106-112">You will need to add the settings in the generated configuration file to the app.config file for the executable that will call the class library.</span></span>  
  
 <span data-ttu-id="30106-113">L'applicazione client utilizza la classe proxy generata per comunicare con il servizio.</span><span class="sxs-lookup"><span data-stu-id="30106-113">The client application uses the generated proxy class to communicate with the service.</span></span> <span data-ttu-id="30106-114">Questa procedura è descritta [procedura: utilizzare un Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span><span class="sxs-lookup"><span data-stu-id="30106-114">This procedure is described in [How to: Use a Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span></span>  
  
### <a name="to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="30106-115">Per creare un client Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="30106-115">To create a Windows Communication Foundation client</span></span>  
  
1.  <span data-ttu-id="30106-116">Creare un nuovo progetto applicazione console facendo clic su una soluzione di introduzione, se si seleziona, **Aggiungi**, **nuovo progetto**.</span><span class="sxs-lookup"><span data-stu-id="30106-116">Create a new console application project by right-clicking on the Getting Started solution, selecting, **Add**, **New Project**.</span></span> <span data-ttu-id="30106-117">Nel **Aggiungi nuovo progetto** sul lato sinistro della finestra di dialogo Seleziona **Windows** in **c#** o **VB**.</span><span class="sxs-lookup"><span data-stu-id="30106-117">In the **Add New Project** dialog on the left hand side of the dialog select **Windows** under **C#** or **VB**.</span></span> <span data-ttu-id="30106-118">Nella sezione centrale della finestra di dialogo selezionare **applicazione Console**.</span><span class="sxs-lookup"><span data-stu-id="30106-118">In the center section of the dialog select **Console Application**.</span></span> <span data-ttu-id="30106-119">Denominare il progetto `GettingStartedClient`.</span><span class="sxs-lookup"><span data-stu-id="30106-119">Name the project `GettingStartedClient`.</span></span>  
  
2.  <span data-ttu-id="30106-120">Impostare il framework di destinazione del progetto GettingStartedClient su .NET Framework 4.5 facendo clic su **GettingStartedClient** in Esplora soluzioni e selezionando **proprietà**.</span><span class="sxs-lookup"><span data-stu-id="30106-120">Set the target framework of the GettingStartedClient project to .NET Framework 4.5 by right clicking on **GettingStartedClient** in the Solution Explorer and selecting **Properties**.</span></span> <span data-ttu-id="30106-121">Nella casella a discesa **Framework di destinazione** selezionare **.NET Framework 4.5**.</span><span class="sxs-lookup"><span data-stu-id="30106-121">In the dropdown box labeled **Target Framework** select **.NET Framework 4.5**.</span></span> <span data-ttu-id="30106-122">Il framework di destinazione per un progetto VB è leggermente diverso. nella finestra di dialogo Proprietà progetto GettingStartedClient fare clic su di **compilare** scheda sul lato sinistro della schermata e quindi scegliere il **avanzate Opzioni** pulsante nell'angolo inferiore sinistro della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="30106-122">Setting the target framework for a VB project is a little different, in the GettingStartedClient project properties dialog, click the **Compile** tab on the left-hand side of the screen, and then click the **Advanced Compile Options** button at the lower left-hand corner of the dialog.</span></span> <span data-ttu-id="30106-123">Selezionare quindi **.NET Framework 4.5** nella casella a discesa **Framework di destinazione**.</span><span class="sxs-lookup"><span data-stu-id="30106-123">Then select **.NET Framework 4.5** in the dropdown box labeled **Target Framework**.</span></span>  
  
     <span data-ttu-id="30106-124">Il framework di destinazione che impostare Visual Studio 2011 ricaricamento della soluzione, premere **OK** quando richiesto.</span><span class="sxs-lookup"><span data-stu-id="30106-124">Setting the target framework will cause Visual Studio 2011 to reload the solution, press **OK** when prompted.</span></span>  
  
3.  <span data-ttu-id="30106-125">Aggiungere un riferimento a System. ServiceModel nel progetto GettingStartedClient facendo clic con il **riferimento** cartella nel progetto GettingStartedClient in Esplora soluzioni e selezionare **Aggiungi** Riferimento.</span><span class="sxs-lookup"><span data-stu-id="30106-125">Add a reference to System.ServiceModel to the GettingStartedClient project by right-clicking the **Reference** folder under the GettingStartedClient project in Solution Explorer and select **Add** Reference.</span></span> <span data-ttu-id="30106-126">Nel **Aggiungi riferimento** finestra di dialogo selezionare **Framework** sul lato sinistro della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="30106-126">In the **Add Reference** dialog select **Framework** on the left-hand side of the dialog.</span></span> <span data-ttu-id="30106-127">Nella casella di testo di ricerca degli assembly digitare `System.ServiceModel`.</span><span class="sxs-lookup"><span data-stu-id="30106-127">In the Search Assemblies textbox, type in `System.ServiceModel`.</span></span> <span data-ttu-id="30106-128">Nella sezione centrale della finestra di dialogo selezionare **System. ServiceModel**, fare clic su di **Aggiungi** pulsante, quindi scegliere il **Chiudi** pulsante.</span><span class="sxs-lookup"><span data-stu-id="30106-128">In the center section of the dialog select **System.ServiceModel**, click the **Add** button, and click the **Close** button.</span></span> <span data-ttu-id="30106-129">Salvare la soluzione scegliendo il **Salva tutto** pulsante sotto il menu principale.</span><span class="sxs-lookup"><span data-stu-id="30106-129">Save the solution by clicking the **Save All** button below the main menu.</span></span>  
  
4.  <span data-ttu-id="30106-130">Successivamente, verrà aggiunto un riferimento al servizio calcolatrice.</span><span class="sxs-lookup"><span data-stu-id="30106-130">Next you wlll add a service reference to the Calculator Service.</span></span> <span data-ttu-id="30106-131">Prima di poter eseguire questa operazione, è necessario avviare l'applicazione console GettingStartedHost.</span><span class="sxs-lookup"><span data-stu-id="30106-131">Before you can do that, you must start up the GettingStartedHost console application.</span></span> <span data-ttu-id="30106-132">Quando l'host è in esecuzione è possibile fare clic con il pulsante destro cartella riferimenti nel progetto GettingStartedClient in Esplora soluzioni e selezionare Aggiungi riferimento al servizio; digitare l'URL seguente nella casella dell'indirizzo della finestra di dialogo Aggiungi riferimento al servizio: collegamento ipertestuale "http://localhost:8000/ServiceModelSamples/Service" http://localhost:8000/ServiceModelSamples/Service e fare clic sui **Go** pulsante.</span><span class="sxs-lookup"><span data-stu-id="30106-132">Once the host is running you can right click the References folder under the GettingStartedClient project in the Solution Explorer and select Add Service Reference and type in the following URL in the address box of the Add Service Reference dialog:  HYPERLINK "http://localhost:8000/ServiceModelSamples/Service" http://localhost:8000/ServiceModelSamples/Service and   click the **Go** button.</span></span> <span data-ttu-id="30106-133">CalculatorService dovrebbe quindi essere visualizzato nella casella di riepilogo dei servizi. Fare doppio clic su CalculatorService in modo che venga espanso e vengano visualizzati i contratti di servizio implementati dal servizio.</span><span class="sxs-lookup"><span data-stu-id="30106-133">The CalculatorService should then be displayed in the Services list box, Double click CalculatorService and it will expand and show the service contracts implemented by the service.</span></span> <span data-ttu-id="30106-134">Spazio dei nomi predefinito e scegliere di lasciare il **OK** pulsante.</span><span class="sxs-lookup"><span data-stu-id="30106-134">Leave the default namespace as is and click the **OK** button.</span></span>  
  
     <span data-ttu-id="30106-135">Quando si aggiunge un riferimento a un servizio utilizzando Visual Studio, nel progetto GettingStartedClient della cartella Riferimenti del servizio in Esplora soluzioni viene visualizzato un nuovo elemento.</span><span class="sxs-lookup"><span data-stu-id="30106-135">When you add a reference to a service using Visual Studio a new item will appear in the Solution Explorer under the Service References folder under the GettingStartedClient project.</span></span>  <span data-ttu-id="30106-136">Se si utilizza il [strumento ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) strumento verrà generati un file di codice sorgente e il file app. config.</span><span class="sxs-lookup"><span data-stu-id="30106-136">If you use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool a source code file and app.config file will be generated.</span></span>  
  
     <span data-ttu-id="30106-137">È inoltre possibile utilizzare lo strumento da riga di comando [strumento ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) con le opzioni appropriate per creare il codice client.</span><span class="sxs-lookup"><span data-stu-id="30106-137">You can also use the command-line tool [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) with the appropriate switches to create the client code.</span></span> <span data-ttu-id="30106-138">Nell'esempio seguente viene illustrato un file di codice e un file di configurazione per il servizio.</span><span class="sxs-lookup"><span data-stu-id="30106-138">The following example generates a code file and a configuration file for the service.</span></span> <span data-ttu-id="30106-139">Nel primo esempio viene illustrato come generare il proxy in VB e nel secondo come effettuare la stessa operazione in C#:</span><span class="sxs-lookup"><span data-stu-id="30106-139">The first example shows how to generate the proxy in VB and the second shows how to generated the proxy in C#:</span></span>  
  
    ```  
    svcutil.exe /language:vb /out:generatedProxy.vb /config:app.config http://localhost:8000/ServiceModelSamples/service  
    ```  
  
    ```csharp  
    svcutil.exe /language:cs /out:generatedProxy.cs /config:app.config http://localhost:8000/ServiceModelSamples/service  
    ```  
  
 <span data-ttu-id="30106-140">A questo punto è stato creato il proxy che sarà utilizzato dall'applicazione client per chiamare il servizio calcolatrice.</span><span class="sxs-lookup"><span data-stu-id="30106-140">You have now created the proxy that the client application will use to call the calculator service.</span></span> <span data-ttu-id="30106-141">Passare all'argomento successivo nella serie: [procedura: configurare un Client](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)</span><span class="sxs-lookup"><span data-stu-id="30106-141">Proceed to the next topic in the series: [How to: Configure a Client](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="30106-142">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="30106-142">See Also</span></span>  
 [<span data-ttu-id="30106-143">Strumento ServiceModel Metadata Utility Tool (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="30106-143">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)  
 [<span data-ttu-id="30106-144">Introduzione</span><span class="sxs-lookup"><span data-stu-id="30106-144">Getting Started</span></span>](../../../docs/framework/wcf/samples/getting-started-sample.md)  
 [<span data-ttu-id="30106-145">Servizio indipendente</span><span class="sxs-lookup"><span data-stu-id="30106-145">Self-Host</span></span>](../../../docs/framework/wcf/samples/self-host.md)  
 [<span data-ttu-id="30106-146">Procedura: Pubblicare metadati per un servizio usando un file di configurazione</span><span class="sxs-lookup"><span data-stu-id="30106-146">How to: Publish Metadata for a Service Using a Configuration File</span></span>](../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md)  
 [<span data-ttu-id="30106-147">Procedura: Usare Svcutil.exe per scaricare documenti di metadati</span><span class="sxs-lookup"><span data-stu-id="30106-147">How to: Use Svcutil.exe to Download Metadata Documents</span></span>](../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-download-metadata-documents.md)
