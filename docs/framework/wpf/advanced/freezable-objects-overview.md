---
title: Cenni preliminari sugli oggetti Freezable
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- Freezable objects [WPF], description
- unfreezing Freezable objects [WPF]
- classes [WPF], Freezable
ms.assetid: 89c71692-4f43-4057-b611-67c6a8a863a2
caps.latest.revision: "30"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 49778dc9551652ee4a4d36426b4b396652b9dcd2
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/21/2017
---
# <a name="freezable-objects-overview"></a><span data-ttu-id="c1b02-102">Cenni preliminari sugli oggetti Freezable</span><span class="sxs-lookup"><span data-stu-id="c1b02-102">Freezable Objects Overview</span></span>
<span data-ttu-id="c1b02-103">In questo argomento viene descritto come creare e utilizzare in modo efficace <xref:System.Windows.Freezable> oggetti, che forniscono funzionalità speciali che consentono di migliorare le prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c1b02-103">This topic describes how to effectively use and create <xref:System.Windows.Freezable> objects, which provide special features that can help improve application performance.</span></span> <span data-ttu-id="c1b02-104">Sono esempi di oggetti freezable pennelli, penne, trasformazioni, geometrie e animazioni.</span><span class="sxs-lookup"><span data-stu-id="c1b02-104">Examples of freezable objects include brushes, pens, transformations, geometries, and animations.</span></span>  
  
<a name="whatisafreezable"></a>   
## <a name="what-is-a-freezable"></a><span data-ttu-id="c1b02-105">Che cos'è un oggetto Freezable?</span><span class="sxs-lookup"><span data-stu-id="c1b02-105">What Is a Freezable?</span></span>  
 <span data-ttu-id="c1b02-106">Oggetto <xref:System.Windows.Freezable> è un tipo speciale di oggetto che presenta due stati: non bloccato e bloccato.</span><span class="sxs-lookup"><span data-stu-id="c1b02-106">A <xref:System.Windows.Freezable> is a special type of object that has two states: unfrozen and frozen.</span></span> <span data-ttu-id="c1b02-107">Quando non è bloccato, un <xref:System.Windows.Freezable> si comporta come qualsiasi altro oggetto.</span><span class="sxs-lookup"><span data-stu-id="c1b02-107">When unfrozen, a <xref:System.Windows.Freezable> appears to behave like any other object.</span></span> <span data-ttu-id="c1b02-108">Quando è bloccato, un <xref:System.Windows.Freezable> non può più essere modificato.</span><span class="sxs-lookup"><span data-stu-id="c1b02-108">When frozen, a <xref:System.Windows.Freezable> can no longer be modified.</span></span>  
  
 <span data-ttu-id="c1b02-109">Oggetto <xref:System.Windows.Freezable> fornisce un <xref:System.Windows.Freezable.Changed> evento per notificare agli osservatori di tutte le modifiche all'oggetto.</span><span class="sxs-lookup"><span data-stu-id="c1b02-109">A <xref:System.Windows.Freezable> provides a <xref:System.Windows.Freezable.Changed> event to notify observers of any modifications to the object.</span></span> <span data-ttu-id="c1b02-110">Il blocco di un <xref:System.Windows.Freezable> può migliorare le prestazioni, poiché non è più necessario impiegare le risorse nelle notifiche di modifica.</span><span class="sxs-lookup"><span data-stu-id="c1b02-110">Freezing a <xref:System.Windows.Freezable> can improve its performance, because it no longer needs to spend resources on change notifications.</span></span> <span data-ttu-id="c1b02-111">Un oggetto bloccato <xref:System.Windows.Freezable> possono anche essere condivise tra thread mentre ciò <xref:System.Windows.Freezable> non è possibile.</span><span class="sxs-lookup"><span data-stu-id="c1b02-111">A frozen <xref:System.Windows.Freezable> can also be shared across threads, while an unfrozen <xref:System.Windows.Freezable> cannot.</span></span>  
  
 <span data-ttu-id="c1b02-112">Sebbene il <xref:System.Windows.Freezable> classe dispone di molte applicazioni, più <xref:System.Windows.Freezable> oggetti [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] sono correlati al sottosistema di grafica.</span><span class="sxs-lookup"><span data-stu-id="c1b02-112">Although the <xref:System.Windows.Freezable> class has many applications, most <xref:System.Windows.Freezable> objects in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] are related to the graphics sub-system.</span></span>  
  
 <span data-ttu-id="c1b02-113">La <xref:System.Windows.Freezable> classe semplifica l'utilizzo di alcuni oggetti di sistema di grafica e consente di migliorare le prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c1b02-113">The <xref:System.Windows.Freezable> class makes it easier to use certain graphics system objects and can help improve application performance.</span></span> <span data-ttu-id="c1b02-114">Esempi di tipi che ereditano da <xref:System.Windows.Freezable> includono il <xref:System.Windows.Media.Brush>, <xref:System.Windows.Media.Transform>, e <xref:System.Windows.Media.Geometry> classi.</span><span class="sxs-lookup"><span data-stu-id="c1b02-114">Examples of types that inherit from <xref:System.Windows.Freezable> include the <xref:System.Windows.Media.Brush>, <xref:System.Windows.Media.Transform>, and <xref:System.Windows.Media.Geometry> classes.</span></span> <span data-ttu-id="c1b02-115">In quanto contengono le risorse non gestite, il sistema deve monitorare questi oggetti per le modifiche e quindi aggiornare le risorse non gestite quando viene apportata una modifica all'oggetto originale.</span><span class="sxs-lookup"><span data-stu-id="c1b02-115">Because they contain unmanaged resources, the system must monitor these objects for modifications, and then update their corresponding unmanaged resources when there is a change to the original object.</span></span> <span data-ttu-id="c1b02-116">Anche se non viene effettivamente modificato un oggetto di sistema di grafica, il sistema deve comunque impiegare alcune delle relative risorse, l'oggetto di monitoraggio nel caso in cui vengono modificate.</span><span class="sxs-lookup"><span data-stu-id="c1b02-116">Even if you don't actually modify a graphics system object, the system must still spend some of its resources monitoring the object, in case you do change it.</span></span>  
  
 <span data-ttu-id="c1b02-117">Si supponga, ad esempio, creare un <xref:System.Windows.Media.SolidColorBrush> pennello da utilizzare per disegnare lo sfondo di un pulsante.</span><span class="sxs-lookup"><span data-stu-id="c1b02-117">For example, suppose you create a <xref:System.Windows.Media.SolidColorBrush> brush and use it to paint the background of a button.</span></span>  
  
 [!code-csharp[freezablesample_procedural#FrozenExamplePart1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#frozenexamplepart1)]
 [!code-vb[freezablesample_procedural#FrozenExamplePart1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#frozenexamplepart1)]  
  
 <span data-ttu-id="c1b02-118">Quando viene eseguito il rendering sul pulsante, il [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sottosistema grafico utilizza le informazioni fornite per disegnare un gruppo di pixel per definire l'aspetto di un pulsante.</span><span class="sxs-lookup"><span data-stu-id="c1b02-118">When the button is rendered, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] graphics sub-system uses the information you provided to paint a group of pixels to create the appearance of a button.</span></span> <span data-ttu-id="c1b02-119">Anche se è stata utilizzata per descrivere come il pulsante deve essere disegnato un pennello tinta unita, il pennello tinta unita non esegue effettivamente il disegno.</span><span class="sxs-lookup"><span data-stu-id="c1b02-119">Although you used a solid color brush to describe how the button should be painted, your solid color brush doesn't actually do the painting.</span></span> <span data-ttu-id="c1b02-120">Il sistema grafico genera oggetti veloci di basso livello per il pulsante e il pennello, ed è tali oggetti che vengono visualizzati sullo schermo.</span><span class="sxs-lookup"><span data-stu-id="c1b02-120">The graphics system generates fast, low-level objects for the button and the brush, and it is those objects that actually appear on the screen.</span></span>  
  
 <span data-ttu-id="c1b02-121">Se fosse necessario modificare il pennello, dovranno essere rigenerati gli oggetti di basso livello.</span><span class="sxs-lookup"><span data-stu-id="c1b02-121">If you were to modify the brush, those low-level objects would have to be regenerated.</span></span> <span data-ttu-id="c1b02-122">La classe oggetto freezable è un pennello cosa offre la possibilità di trovare gli oggetti di basso livello generati corrispondenti e aggiornarli in caso di modifiche.</span><span class="sxs-lookup"><span data-stu-id="c1b02-122">The freezable class is what gives a brush the ability to find its corresponding generated, low-level objects and to update them when it changes.</span></span> <span data-ttu-id="c1b02-123">Quando questa funzionalità è abilitata, il pennello è definito "non bloccato".</span><span class="sxs-lookup"><span data-stu-id="c1b02-123">When this ability is enabled, the brush is said to be "unfrozen."</span></span>  
  
 <span data-ttu-id="c1b02-124">Un oggetto freezable <xref:System.Windows.Freezable.Freeze%2A> metodo consente di disabilitare questa possibilità di aggiornamento automatico.</span><span class="sxs-lookup"><span data-stu-id="c1b02-124">A freezable's <xref:System.Windows.Freezable.Freeze%2A> method enables you to disable this self-updating ability.</span></span> <span data-ttu-id="c1b02-125">È possibile utilizzare questo metodo per rendere il pennello diventano "bloccata" o non modificabile.</span><span class="sxs-lookup"><span data-stu-id="c1b02-125">You can use this method to make the brush become "frozen," or unmodifiable.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c1b02-126">Non tutti gli oggetti Freezable possono essere bloccato.</span><span class="sxs-lookup"><span data-stu-id="c1b02-126">Not every Freezable object can be frozen.</span></span> <span data-ttu-id="c1b02-127">Per evitare di generare un <xref:System.InvalidOperationException>, controllare il valore dell'oggetto Freezable <xref:System.Windows.Freezable.CanFreeze%2A> proprietà per determinare se può essere bloccata prima di provare a bloccare.</span><span class="sxs-lookup"><span data-stu-id="c1b02-127">To avoid throwing an <xref:System.InvalidOperationException>, check the value of the Freezable object's <xref:System.Windows.Freezable.CanFreeze%2A> property to determine whether it can be frozen before attempting to freeze it.</span></span>  
  
 [!code-csharp[freezablesample_procedural#FrozenExamplePart2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#frozenexamplepart2)]
 [!code-vb[freezablesample_procedural#FrozenExamplePart2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#frozenexamplepart2)]  
  
 <span data-ttu-id="c1b02-128">Quando non è necessario modificare un oggetto freezable, bloccandolo offre i vantaggi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="c1b02-128">When you no longer need to modify a freezable, freezing it provides performance benefits.</span></span> <span data-ttu-id="c1b02-129">Se è necessario bloccare il pennello in questo esempio, il sistema grafico sarebbe non più necessario verificare la presenza di modifiche.</span><span class="sxs-lookup"><span data-stu-id="c1b02-129">If you were to freeze the brush in this example, the graphics system would no longer need to monitor it for changes.</span></span> <span data-ttu-id="c1b02-130">Il sistema grafico può inoltre effettuare altre ottimizzazioni, poiché che il pennello non cambia.</span><span class="sxs-lookup"><span data-stu-id="c1b02-130">The graphics system can also make other optimizations, because it knows the brush won't change.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c1b02-131">Per comodità, gli oggetti freezable restano non bloccati a meno che non si blocca in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="c1b02-131">For convenience, freezable objects remain unfrozen unless you explicitly freeze them.</span></span>  
  
<a name="frozenfreezables"></a>   
## <a name="using-freezables"></a><span data-ttu-id="c1b02-132">Utilizzo degli oggetti Freezable</span><span class="sxs-lookup"><span data-stu-id="c1b02-132">Using Freezables</span></span>  
 <span data-ttu-id="c1b02-133">Utilizzando un sbloccata freezable è simile all'utilizzo di qualsiasi altro tipo di oggetto.</span><span class="sxs-lookup"><span data-stu-id="c1b02-133">Using an unfrozen freezable is like using any other type of object.</span></span> <span data-ttu-id="c1b02-134">Nell'esempio seguente, il colore di un <xref:System.Windows.Media.SolidColorBrush> viene modificata da giallo a rosso dopo essere stato utilizzato per disegnare lo sfondo di un pulsante.</span><span class="sxs-lookup"><span data-stu-id="c1b02-134">In the following example, the color of a <xref:System.Windows.Media.SolidColorBrush> is changed from yellow to red after it's used to paint the background of a button.</span></span> <span data-ttu-id="c1b02-135">Il sistema grafico funziona in background per modificare automaticamente il pulsante da giallo a rosso alla successiva che la schermata viene aggiornata.</span><span class="sxs-lookup"><span data-stu-id="c1b02-135">The graphics system works behind the scenes to automatically change the button from yellow to red the next time the screen is refreshed.</span></span>  
  
 [!code-csharp[freezablesample_procedural#UnFrozenExampleShort](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#unfrozenexampleshort)]
 [!code-vb[freezablesample_procedural#UnFrozenExampleShort](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#unfrozenexampleshort)]  
  
### <a name="freezing-a-freezable"></a><span data-ttu-id="c1b02-136">Il blocco di un oggetto Freezable</span><span class="sxs-lookup"><span data-stu-id="c1b02-136">Freezing a Freezable</span></span>  
 <span data-ttu-id="c1b02-137">Per rendere un <xref:System.Windows.Freezable> non modificabile, chiamare il relativo <xref:System.Windows.Freezable.Freeze%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="c1b02-137">To make a <xref:System.Windows.Freezable> unmodifiable, you call its <xref:System.Windows.Freezable.Freeze%2A> method.</span></span> <span data-ttu-id="c1b02-138">Quando si blocca un oggetto che contiene gli oggetti freezable, vengono bloccati anche tali oggetti.</span><span class="sxs-lookup"><span data-stu-id="c1b02-138">When you freeze an object that contains freezable objects, those objects are frozen as well.</span></span> <span data-ttu-id="c1b02-139">Ad esempio, se si blocca un <xref:System.Windows.Media.PathGeometry>, le figure e i segmenti in esso contenuti vengono bloccate anche.</span><span class="sxs-lookup"><span data-stu-id="c1b02-139">For example, if you freeze a <xref:System.Windows.Media.PathGeometry>, the figures and segments it contains would be frozen too.</span></span>  
  
 <span data-ttu-id="c1b02-140">Un oggetto Freezable **Impossibile** essere bloccato se una delle seguenti sono vere:</span><span class="sxs-lookup"><span data-stu-id="c1b02-140">A Freezable **can't** be frozen if any of the following are true:</span></span>  
  
-   <span data-ttu-id="c1b02-141">È stata eseguita l'animazione o la proprietà con associazione a dati.</span><span class="sxs-lookup"><span data-stu-id="c1b02-141">It has animated or data bound properties.</span></span>  
  
-   <span data-ttu-id="c1b02-142">Include le proprietà impostate da una risorsa dinamica.</span><span class="sxs-lookup"><span data-stu-id="c1b02-142">It has properties set by a dynamic resource.</span></span> <span data-ttu-id="c1b02-143">(Vedere il [risorse XAML](../../../../docs/framework/wpf/advanced/xaml-resources.md) per ulteriori informazioni sulle risorse dinamiche.)</span><span class="sxs-lookup"><span data-stu-id="c1b02-143">(See the [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md) for more information about dynamic resources.)</span></span>  
  
-   <span data-ttu-id="c1b02-144">Contiene <xref:System.Windows.Freezable> oggetti secondari che non possono essere bloccati.</span><span class="sxs-lookup"><span data-stu-id="c1b02-144">It contains <xref:System.Windows.Freezable> sub-objects that can't be frozen.</span></span>  
  
 <span data-ttu-id="c1b02-145">Se queste condizioni sono false e non si desidera modificare il <xref:System.Windows.Freezable>, quindi è necessario bloccare in modo da migliorare le prestazioni descritte in precedenza.</span><span class="sxs-lookup"><span data-stu-id="c1b02-145">If these conditions are false, and you don't intend to modify the <xref:System.Windows.Freezable>, then you should freeze it to gain the performance benefits described earlier.</span></span>  
  
 <span data-ttu-id="c1b02-146">Dopo aver chiamato un oggetto freezable <xref:System.Windows.Freezable.Freeze%2A> metodo, non può più essere modificato.</span><span class="sxs-lookup"><span data-stu-id="c1b02-146">Once you call a freezable's <xref:System.Windows.Freezable.Freeze%2A> method, it can no longer be modified.</span></span> <span data-ttu-id="c1b02-147">Il tentativo di modificare un oggetto bloccato dell'oggetto cause un <xref:System.InvalidOperationException> generata.</span><span class="sxs-lookup"><span data-stu-id="c1b02-147">Attempting to modify a frozen object causes an <xref:System.InvalidOperationException> to be thrown.</span></span> <span data-ttu-id="c1b02-148">Il codice seguente genera un'eccezione, perché si tenta di modificare il pennello dopo che è stato bloccato.</span><span class="sxs-lookup"><span data-stu-id="c1b02-148">The following code throws an exception, because we attempt to modify the brush after it's been frozen.</span></span>  
  
 [!code-csharp[freezablesample_procedural#ExceptionExample](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#exceptionexample)]
 [!code-vb[freezablesample_procedural#ExceptionExample](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#exceptionexample)]  
  
 <span data-ttu-id="c1b02-149">Per evitare di generare questa eccezione, è possibile utilizzare il <xref:System.Windows.Freezable.IsFrozen%2A> metodo per determinare se un <xref:System.Windows.Freezable> è bloccata.</span><span class="sxs-lookup"><span data-stu-id="c1b02-149">To avoid throwing this exception, you can use the <xref:System.Windows.Freezable.IsFrozen%2A> method to determine whether a <xref:System.Windows.Freezable> is frozen.</span></span>  
  
 [!code-csharp[freezablesample_procedural#CheckIsFrozenExample](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#checkisfrozenexample)]
 [!code-vb[freezablesample_procedural#CheckIsFrozenExample](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#checkisfrozenexample)]  
  
 <span data-ttu-id="c1b02-150">Nell'esempio di codice precedente è stata eseguita una copia modificabile di un oggetto bloccato utilizzando il <xref:System.Windows.Freezable.Clone%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="c1b02-150">In the preceding code example, a modifiable copy was made of a frozen object using the <xref:System.Windows.Freezable.Clone%2A> method.</span></span> <span data-ttu-id="c1b02-151">La sezione successiva illustra la clonazione in modo più dettagliato.</span><span class="sxs-lookup"><span data-stu-id="c1b02-151">The next section discusses cloning in more detail.</span></span>  
  
 <span data-ttu-id="c1b02-152">**Nota** perché un oggetto bloccato freezable non possono essere animata, il sistema di animazione crea automaticamente cloni modificabili di bloccata <xref:System.Windows.Freezable> oggetti quando si tenta di aggiungere un'animazione con un <xref:System.Windows.Media.Animation.Storyboard>.</span><span class="sxs-lookup"><span data-stu-id="c1b02-152">**Note** Because a frozen freezable cannot be animated, the animation system will automatically create modifiable clones of frozen <xref:System.Windows.Freezable> objects when you try to animate them with a <xref:System.Windows.Media.Animation.Storyboard>.</span></span> <span data-ttu-id="c1b02-153">Per eliminare le prestazioni overhead causata dalla clonazione, lasciare non bloccato se si intende animare l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="c1b02-153">To eliminate the performance overhead caused by cloning, leave an object unfrozen if you intend to animate it.</span></span> <span data-ttu-id="c1b02-154">Per ulteriori informazioni sull'animazione con storyboard, vedere il [Storyboards Overview](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c1b02-154">For more information about animating with storyboards, see the [Storyboards Overview](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).</span></span>  
  
### <a name="freezing-from-markup"></a><span data-ttu-id="c1b02-155">Blocco dal Markup</span><span class="sxs-lookup"><span data-stu-id="c1b02-155">Freezing from Markup</span></span>  
 <span data-ttu-id="c1b02-156">Per bloccare un <xref:System.Windows.Freezable> oggetto dichiarato nel markup, si utilizza il `PresentationOptions:Freeze` attributo.</span><span class="sxs-lookup"><span data-stu-id="c1b02-156">To freeze a <xref:System.Windows.Freezable> object declared in markup, you use the `PresentationOptions:Freeze` attribute.</span></span> <span data-ttu-id="c1b02-157">Nell'esempio seguente, un <xref:System.Windows.Media.SolidColorBrush> è dichiarato come una risorsa di pagina e bloccato.</span><span class="sxs-lookup"><span data-stu-id="c1b02-157">In the following example, a <xref:System.Windows.Media.SolidColorBrush> is declared as a page resource and frozen.</span></span> <span data-ttu-id="c1b02-158">E viene quindi utilizzato per impostare lo sfondo di un pulsante.</span><span class="sxs-lookup"><span data-stu-id="c1b02-158">It is then used to set the background of a button.</span></span>  
  
 [!code-xaml[FreezableSample#FreezeFromMarkupWholePage](../../../../samples/snippets/csharp/VS_Snippets_Wpf/FreezableSample/CS/FreezeFromMarkupExample.xaml#freezefrommarkupwholepage)]  
  
 <span data-ttu-id="c1b02-159">Utilizzare il `Freeze` attributo, è necessario eseguire il mapping allo spazio dei nomi di opzioni di presentazione: `http://schemas.microsoft.com/winfx/2006/xaml/presentation/options`.</span><span class="sxs-lookup"><span data-stu-id="c1b02-159">To use the `Freeze` attribute, you must map to the presentation options namespace: `http://schemas.microsoft.com/winfx/2006/xaml/presentation/options`.</span></span> <span data-ttu-id="c1b02-160">`PresentationOptions`è il prefisso consigliato per il mapping di questo spazio dei nomi:</span><span class="sxs-lookup"><span data-stu-id="c1b02-160">`PresentationOptions` is the recommended prefix for mapping this namespace:</span></span>  
  
```  
xmlns:PresentationOptions="http://schemas.microsoft.com/winfx/2006/xaml/presentation/options"   
```  
  
 <span data-ttu-id="c1b02-161">Poiché non tutti i reader XAML riconoscono questo attributo, è consigliabile utilizzare il [mc: attributo Ignorable](../../../../docs/framework/wpf/advanced/mc-ignorable-attribute.md) per contrassegnare il `Presentation:Freeze` attributo ignorable:</span><span class="sxs-lookup"><span data-stu-id="c1b02-161">Because not all XAML readers recognize this attribute, it's recommended that you use the [mc:Ignorable Attribute](../../../../docs/framework/wpf/advanced/mc-ignorable-attribute.md) to mark the `Presentation:Freeze` attribute as ignorable:</span></span>  
  
```  
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"  
mc:Ignorable="PresentationOptions"  
```  
  
 <span data-ttu-id="c1b02-162">Per ulteriori informazioni, vedere il [mc: attributo Ignorable](../../../../docs/framework/wpf/advanced/mc-ignorable-attribute.md) pagina.</span><span class="sxs-lookup"><span data-stu-id="c1b02-162">For more information, see the [mc:Ignorable Attribute](../../../../docs/framework/wpf/advanced/mc-ignorable-attribute.md) page.</span></span>  
  
### <a name="unfreezing-a-freezable"></a><span data-ttu-id="c1b02-163">"L'operazione di sblocco" un oggetto Freezable</span><span class="sxs-lookup"><span data-stu-id="c1b02-163">"Unfreezing" a Freezable</span></span>  
 <span data-ttu-id="c1b02-164">Una volta bloccato, un <xref:System.Windows.Freezable> non può essere modificata o non è bloccato; tuttavia, è possibile creare un clone non bloccato utilizzando il <xref:System.Windows.Freezable.Clone%2A> o <xref:System.Windows.Freezable.CloneCurrentValue%2A> (metodo).</span><span class="sxs-lookup"><span data-stu-id="c1b02-164">Once frozen, a <xref:System.Windows.Freezable> can never be modified or unfrozen; however, you can create an unfrozen clone using the <xref:System.Windows.Freezable.Clone%2A> or <xref:System.Windows.Freezable.CloneCurrentValue%2A> method.</span></span>  
  
 <span data-ttu-id="c1b02-165">Nell'esempio seguente, lo sfondo del pulsante viene impostato con un pennello e che quindi è bloccato.</span><span class="sxs-lookup"><span data-stu-id="c1b02-165">In the following example, the button's background is set with a brush and that brush is then frozen.</span></span> <span data-ttu-id="c1b02-166">È una copia non bloccata del pennello utilizzando il <xref:System.Windows.Freezable.Clone%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="c1b02-166">An unfrozen copy is made of the brush using the <xref:System.Windows.Freezable.Clone%2A> method.</span></span> <span data-ttu-id="c1b02-167">Il clone viene modificato e utilizzato per modificare lo sfondo del pulsante da giallo a rosso.</span><span class="sxs-lookup"><span data-stu-id="c1b02-167">The clone is modified and used to change the button's background from yellow to red.</span></span>  
  
 [!code-csharp[freezablesample_procedural#CloneExample](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#cloneexample)]
 [!code-vb[freezablesample_procedural#CloneExample](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#cloneexample)]  
  
> [!NOTE]
>  <span data-ttu-id="c1b02-168">Indipendentemente dal fatto il metodo clone da utilizzare, le animazioni non vengono mai copiate nel nuovo <xref:System.Windows.Freezable>.</span><span class="sxs-lookup"><span data-stu-id="c1b02-168">Regardless of which clone method you use, animations are never copied to the new <xref:System.Windows.Freezable>.</span></span>  
  
 <span data-ttu-id="c1b02-169">Il <xref:System.Windows.Freezable.Clone%2A> e <xref:System.Windows.Freezable.CloneCurrentValue%2A> producano copie complete dell'oggetto freezable.</span><span class="sxs-lookup"><span data-stu-id="c1b02-169">The <xref:System.Windows.Freezable.Clone%2A> and <xref:System.Windows.Freezable.CloneCurrentValue%2A> methods produce deep copies of the freezable.</span></span> <span data-ttu-id="c1b02-170">Se l'oggetto contiene altri oggetti freezable bloccati, sono anche duplicate e resi modificabili.</span><span class="sxs-lookup"><span data-stu-id="c1b02-170">If the freezable contains other frozen freezable objects, they are also cloned and made modifiable.</span></span> <span data-ttu-id="c1b02-171">Ad esempio, se si clona un oggetto bloccato <xref:System.Windows.Media.PathGeometry> per renderlo modificabile, le figure e i segmenti in esso contenuti vengono inoltre copiati e resi modificabili.</span><span class="sxs-lookup"><span data-stu-id="c1b02-171">For example, if you clone a frozen <xref:System.Windows.Media.PathGeometry> to make it modifiable, the figures and segments it contains are also copied and made modifiable.</span></span>  
  
<a name="createyourownfreezableclass"></a>   
## <a name="creating-your-own-freezable-class"></a><span data-ttu-id="c1b02-172">Creazione di una classe oggetto Freezable</span><span class="sxs-lookup"><span data-stu-id="c1b02-172">Creating Your Own Freezable Class</span></span>  
 <span data-ttu-id="c1b02-173">Una classe che deriva da <xref:System.Windows.Freezable> Ottiene le funzionalità seguenti.</span><span class="sxs-lookup"><span data-stu-id="c1b02-173">A class that derives from <xref:System.Windows.Freezable> gains the following features.</span></span>  
  
-   <span data-ttu-id="c1b02-174">Stati speciali: sola lettura (bloccato) e uno stato accessibile in scrittura.</span><span class="sxs-lookup"><span data-stu-id="c1b02-174">Special states: a read-only (frozen) and a writable state.</span></span>  
  
-   <span data-ttu-id="c1b02-175">Sicurezza dei thread: un oggetto bloccato <xref:System.Windows.Freezable> può essere condivisa tra thread.</span><span class="sxs-lookup"><span data-stu-id="c1b02-175">Thread safety: a frozen <xref:System.Windows.Freezable> can be shared across threads.</span></span>  
  
-   <span data-ttu-id="c1b02-176">Notifica dettagliata delle modifiche: a differenza degli altri <xref:System.Windows.DependencyObject>s, gli oggetti Freezable forniscono le notifiche di modifica quando cambiano i valori delle sottoproprietà.</span><span class="sxs-lookup"><span data-stu-id="c1b02-176">Detailed change notification: Unlike other <xref:System.Windows.DependencyObject>s, Freezable objects provide change notifications when sub-property values change.</span></span>  
  
-   <span data-ttu-id="c1b02-177">Clonazione facile: la classe Freezable ha già implementato diversi metodi che producono cloni.</span><span class="sxs-lookup"><span data-stu-id="c1b02-177">Easy cloning: the Freezable class has already implemented several methods that produce deep clones.</span></span>  
  
 <span data-ttu-id="c1b02-178">Oggetto <xref:System.Windows.Freezable> è un tipo di <xref:System.Windows.DependencyObject>e pertanto viene usato il sistema di proprietà di dipendenza.</span><span class="sxs-lookup"><span data-stu-id="c1b02-178">A <xref:System.Windows.Freezable> is a type of <xref:System.Windows.DependencyObject>, and therefore uses the dependency property system.</span></span> <span data-ttu-id="c1b02-179">Le proprietà di classe non debbano di proprietà di dipendenza, ma utilizzando proprietà di dipendenza consente di ridurre la quantità di codice da scrivere, poiché è il <xref:System.Windows.Freezable> classe è stata progettata tenendo presenti le proprietà di dipendenza.</span><span class="sxs-lookup"><span data-stu-id="c1b02-179">Your class properties don't have to be dependency properties, but using dependency properties will reduce the amount of code you have to write, because the <xref:System.Windows.Freezable> class was designed with dependency properties in mind.</span></span> <span data-ttu-id="c1b02-180">Per ulteriori informazioni sul sistema di proprietà di dipendenza, vedere il [Cenni preliminari sulle proprietà di dipendenza](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c1b02-180">For more information about the dependency property system, see the [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).</span></span>  
  
 <span data-ttu-id="c1b02-181">Ogni <xref:System.Windows.Freezable> sottoclasse deve eseguire l'override di <xref:System.Windows.Freezable.CreateInstanceCore%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="c1b02-181">Every <xref:System.Windows.Freezable> subclass must override the <xref:System.Windows.Freezable.CreateInstanceCore%2A> method.</span></span> <span data-ttu-id="c1b02-182">Se la classe utilizza le proprietà di dipendenza per tutti i relativi dati, si è finito.</span><span class="sxs-lookup"><span data-stu-id="c1b02-182">If your class uses dependency properties for all its data, you're finished.</span></span>  
  
 <span data-ttu-id="c1b02-183">Se la classe contiene membri dati della proprietà di non dipendenza, è inoltre necessario sostituire i metodi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c1b02-183">If your class contains non-dependency property data members, you must also override the following methods:</span></span>  
  
-   <xref:System.Windows.Freezable.CloneCore%2A>  
  
-   <xref:System.Windows.Freezable.CloneCurrentValueCore%2A>  
  
-   <xref:System.Windows.Freezable.GetAsFrozenCore%2A>  
  
-   <xref:System.Windows.Freezable.GetCurrentValueAsFrozenCore%2A>  
  
-   <xref:System.Windows.Freezable.FreezeCore%2A>  
  
 <span data-ttu-id="c1b02-184">Inoltre, è necessario osservare le seguenti regole per l'accesso e la scrittura in membri di dati che non sono proprietà di dipendenza:</span><span class="sxs-lookup"><span data-stu-id="c1b02-184">You must also observe the following rules for accessing and writing to data members that are not dependency properties:</span></span>  
  
-   <span data-ttu-id="c1b02-185">All'inizio di qualsiasi [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] che legge i membri dati della proprietà di non dipendenza, chiamare il <xref:System.Windows.Freezable.ReadPreamble%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="c1b02-185">At the beginning of any [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] that reads non-dependency property data members, call the <xref:System.Windows.Freezable.ReadPreamble%2A> method.</span></span>  
  
-   <span data-ttu-id="c1b02-186">All'inizio di qualsiasi API che scrive i membri dati della proprietà di non dipendenza, chiamare il <xref:System.Windows.Freezable.WritePreamble%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="c1b02-186">At the beginning of any API that writes non-dependency property data members, call the <xref:System.Windows.Freezable.WritePreamble%2A> method.</span></span> <span data-ttu-id="c1b02-187">(Dopo aver chiamato <xref:System.Windows.Freezable.WritePreamble%2A> in un [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], non è necessario effettuare una chiamata aggiuntiva al <xref:System.Windows.Freezable.ReadPreamble%2A> se leggere anche i membri dati della proprietà di non dipendenza.)</span><span class="sxs-lookup"><span data-stu-id="c1b02-187">(Once you've called <xref:System.Windows.Freezable.WritePreamble%2A> in an [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], you don't need to make an additional call to <xref:System.Windows.Freezable.ReadPreamble%2A> if you also read non-dependency property data members.)</span></span>  
  
-   <span data-ttu-id="c1b02-188">Chiamare il <xref:System.Windows.Freezable.WritePostscript%2A> metodo prima di uscire dai metodi che scrivono in membri dati della proprietà di non dipendenza.</span><span class="sxs-lookup"><span data-stu-id="c1b02-188">Call the <xref:System.Windows.Freezable.WritePostscript%2A> method before exiting methods that write to non-dependency property data members.</span></span>  
  
 <span data-ttu-id="c1b02-189">Se la classe contiene membri dati della proprietà di dipendenza non <xref:System.Windows.DependencyObject> oggetti, è necessario chiamare anche il <xref:System.Windows.Freezable.OnFreezablePropertyChanged%2A> metodo ogni volta che viene modificato uno dei relativi valori, anche se il membro viene impostato su `null`.</span><span class="sxs-lookup"><span data-stu-id="c1b02-189">If your class contains non-dependency-property data members that are <xref:System.Windows.DependencyObject> objects, you must also call the <xref:System.Windows.Freezable.OnFreezablePropertyChanged%2A> method each time you change on of their values, even if you're setting the member to `null`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c1b02-190">È molto importante iniziare ogni <xref:System.Windows.Freezable> metodo si esegue l'override con una chiamata all'implementazione di base.</span><span class="sxs-lookup"><span data-stu-id="c1b02-190">It's very important that you begin each <xref:System.Windows.Freezable> method you override with a call to the base implementation.</span></span>  
  
 <span data-ttu-id="c1b02-191">Per un esempio di un oggetto personalizzato <xref:System.Windows.Freezable> classe, vedere il [esempio di animazione personalizzata](http://go.microsoft.com/fwlink/?LinkID=159981).</span><span class="sxs-lookup"><span data-stu-id="c1b02-191">For an example of a custom <xref:System.Windows.Freezable> class, see the [Custom Animation Sample](http://go.microsoft.com/fwlink/?LinkID=159981).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c1b02-192">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="c1b02-192">See Also</span></span>  
 <xref:System.Windows.Freezable>  
 [<span data-ttu-id="c1b02-193">Esempio di animazione personalizzata</span><span class="sxs-lookup"><span data-stu-id="c1b02-193">Custom Animation Sample</span></span>](http://go.microsoft.com/fwlink/?LinkID=159981)  
 [<span data-ttu-id="c1b02-194">Panoramica sulle proprietà di dipendenza</span><span class="sxs-lookup"><span data-stu-id="c1b02-194">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)  
 [<span data-ttu-id="c1b02-195">Proprietà di dipendenza personalizzate</span><span class="sxs-lookup"><span data-stu-id="c1b02-195">Custom Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)
