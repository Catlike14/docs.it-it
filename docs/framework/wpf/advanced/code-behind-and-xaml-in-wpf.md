---
title: Code-behind e XAML in WPF
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [WPF], code-behind
- code-behind files [WPF], XAML
ms.assetid: 9df6d3c9-aed3-471c-af36-6859b19d999f
ms.openlocfilehash: 09d4f010ca53c5e3d2d9dede172e7ae2102261b9
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/04/2018
ms.locfileid: "33541548"
---
# <a name="code-behind-and-xaml-in-wpf"></a><span data-ttu-id="1b9a8-102">Code-behind e XAML in WPF</span><span class="sxs-lookup"><span data-stu-id="1b9a8-102">Code-Behind and XAML in WPF</span></span>
<a name="introduction"></a> <span data-ttu-id="1b9a8-103">Code-behind è un termine usato per descrivere il codice che viene unito con oggetti definiti dal markup, quando un [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pagina viene compilato dal markup.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-103">Code-behind is a term used to describe the code that is joined with markup-defined objects, when a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page is markup-compiled.</span></span> <span data-ttu-id="1b9a8-104">In questo argomento vengono descritti i requisiti per il code-behind, nonché un meccanismo di codice inline alternativo per il codice in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1b9a8-104">This topic describes requirements for code-behind as well as an alternative inline code mechanism for code in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
 <span data-ttu-id="1b9a8-105">Di seguito sono elencate le diverse sezioni di questo argomento:</span><span class="sxs-lookup"><span data-stu-id="1b9a8-105">This topic contains the following sections:</span></span>  
  
-   [<span data-ttu-id="1b9a8-106">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="1b9a8-106">Prerequisites</span></span>](#Prerequisites)  
  
-   [<span data-ttu-id="1b9a8-107">Code-Behind e il linguaggio XAML</span><span class="sxs-lookup"><span data-stu-id="1b9a8-107">Code-Behind and the XAML Language</span></span>](#codebehind_and_the_xaml_language)  
  
-   [<span data-ttu-id="1b9a8-108">Code-behind, gestore eventi e i requisiti di classe parziale in WPF</span><span class="sxs-lookup"><span data-stu-id="1b9a8-108">Code-behind, Event Handler, and Partial Class Requirements in WPF</span></span>](#Code_behind__Event_Handler__and_Partial_Class)  
  
-   [<span data-ttu-id="1b9a8-109">X:code</span><span class="sxs-lookup"><span data-stu-id="1b9a8-109">x:Code</span></span>](#x_Code)  
  
-   [<span data-ttu-id="1b9a8-110">Limitazioni del codice inline</span><span class="sxs-lookup"><span data-stu-id="1b9a8-110">Inline Code Limitations</span></span>](#Inline_Code_Limitations)  
  
<a name="Prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="1b9a8-111">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="1b9a8-111">Prerequisites</span></span>  
 <span data-ttu-id="1b9a8-112">Questo argomento si presuppone di avere letto il [Panoramica di XAML (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) e avere una conoscenza di base di [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] e programmazione orientata a oggetti.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-112">This topic assumes that you have read the [XAML Overview (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) and have some basic knowledge of the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] and object-oriented programming.</span></span>  
  
<a name="codebehind_and_the_xaml_language"></a>   
## <a name="code-behind-and-the-xaml-language"></a><span data-ttu-id="1b9a8-113">Code-Behind e il linguaggio XAML</span><span class="sxs-lookup"><span data-stu-id="1b9a8-113">Code-Behind and the XAML Language</span></span>  
 <span data-ttu-id="1b9a8-114">Il linguaggio XAML include le funzionalità a livello di linguaggio che consentono di associare i file di codice con i file di markup, dal lato del file di markup.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-114">The XAML language includes language-level features that make it possible to associate code files with markup files, from the markup file side.</span></span> <span data-ttu-id="1b9a8-115">In particolare, il linguaggio XAML definisce le funzionalità del linguaggio [direttiva X:Class](../../../../docs/framework/xaml-services/x-class-directive.md), [direttiva X:Subclass](../../../../docs/framework/xaml-services/x-subclass-directive.md), e [direttiva X:ClassModifier](../../../../docs/framework/xaml-services/x-classmodifier-directive.md).</span><span class="sxs-lookup"><span data-stu-id="1b9a8-115">Specifically, the XAML language defines the language features [x:Class Directive](../../../../docs/framework/xaml-services/x-class-directive.md), [x:Subclass Directive](../../../../docs/framework/xaml-services/x-subclass-directive.md), and [x:ClassModifier Directive](../../../../docs/framework/xaml-services/x-classmodifier-directive.md).</span></span> <span data-ttu-id="1b9a8-116">Esattamente come il codice deve essere prodotta e come integrare markup e il codice non fa parte di ciò che specifica il linguaggio XAML.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-116">Exactly how the code should be produced, and how to integrate markup and code, is not part of what the XAML language specifies.</span></span> <span data-ttu-id="1b9a8-117">È compito del Framework, ad esempio WPF per determinare la modalità di integrazione del codice, come da usare è XAML nell'applicazione e i modelli di programmazione e la compilazione azioni o altro supporto che tutto ciò richiede.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-117">It is left up to frameworks such as WPF to determine how to integrate the code, how to use XAML in the application and programming models, and the build actions or other support that all this requires.</span></span>  
  
<a name="Code_behind__Event_Handler__and_Partial_Class"></a>   
## <a name="code-behind-event-handler-and-partial-class-requirements-in-wpf"></a><span data-ttu-id="1b9a8-118">Code-behind, gestore eventi e i requisiti di classe parziale in WPF</span><span class="sxs-lookup"><span data-stu-id="1b9a8-118">Code-behind, Event Handler, and Partial Class Requirements in WPF</span></span>  
  
-   <span data-ttu-id="1b9a8-119">La classe parziale deve derivare dal tipo che supporta l'elemento radice.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-119">The partial class must derive from the type that backs the root element.</span></span>  
  
-   <span data-ttu-id="1b9a8-120">Si noti che con il comportamento predefinito di azioni di compilazione di markup, è possibile lasciare vuota la derivazione nella definizione di classe parziale sul lato di codice.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-120">Note that under the default behavior of the markup compile build actions, you can leave the derivation blank in the partial class definition on the code-behind side.</span></span> <span data-ttu-id="1b9a8-121">Il risultato compilato presuppone che il tipo di supporto della radice della pagina per essere la base per la classe parziale, anche se non specificato.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-121">The compiled result will assume the page root's backing type to be the basis for the partial class, even if it not specified.</span></span> <span data-ttu-id="1b9a8-122">Tuttavia, basarsi su questo comportamento non è consigliata.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-122">However, relying on this behavior is not a best practice.</span></span>  
  
-   <span data-ttu-id="1b9a8-123">I gestori di eventi che si scrive nel code-behind devono essere metodi di istanza e non possono essere metodi statici.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-123">The event handlers you write in the code behind must be instance methods and cannot be static methods.</span></span> <span data-ttu-id="1b9a8-124">Questi metodi devono essere definiti dalla classe parziale nello spazio dei nomi CLR identificato da `x:Class`.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-124">These methods must be defined by the partial class within the CLR namespace identified by `x:Class`.</span></span> <span data-ttu-id="1b9a8-125">Non è possibile qualificare il nome di un gestore eventi per indicare un [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processore di cercare un gestore eventi per il collegamento di eventi in un ambito di classe diversa.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-125">You cannot qualify the name of an event handler to instruct a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor to look for an event handler for event wiring in a different class scope.</span></span>  
  
-   <span data-ttu-id="1b9a8-126">Il gestore deve corrispondere il delegato per l'evento appropriato nel sistema di tipi di backup.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-126">The handler must match the delegate for the appropriate event in the backing type system.</span></span>  
  
-   <span data-ttu-id="1b9a8-127">Per la lingua di Microsoft Visual Basic in particolare, è possibile utilizzare la specifica della lingua `Handles` parola chiave da associare gestori eventi nella dichiarazione del gestore, anziché associare gestori di eventi con gli attributi e le istanze [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1b9a8-127">For the Microsoft Visual Basic language specifically, you can use the language-specific `Handles` keyword to associate handlers with instances and events in the handler declaration, instead of attaching handlers with attributes in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="1b9a8-128">Tuttavia, questa tecnica presenta alcune limitazioni perché il `Handles` (parola chiave) non supporta tutte le funzionalità specifiche del [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sistema di eventi, ad esempio alcuni scenari di eventi indirizzati o gli eventi associati.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-128">However, this technique does have some limitations because the `Handles` keyword cannot support all of the specific features of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event system, such as certain routed event scenarios or attached events.</span></span> <span data-ttu-id="1b9a8-129">Per informazioni dettagliate, vedere [Visual Basic e la gestione degli eventi di WPF](../../../../docs/framework/wpf/advanced/visual-basic-and-wpf-event-handling.md).</span><span class="sxs-lookup"><span data-stu-id="1b9a8-129">For details, see [Visual Basic and WPF Event Handling](../../../../docs/framework/wpf/advanced/visual-basic-and-wpf-event-handling.md).</span></span>  
  
<a name="x_Code"></a>   
## <a name="xcode"></a><span data-ttu-id="1b9a8-130">X:code</span><span class="sxs-lookup"><span data-stu-id="1b9a8-130">x:Code</span></span>  
 <span data-ttu-id="1b9a8-131">[X:code](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md) è un elemento della direttiva definito in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1b9a8-131">[x:Code](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md) is a directive element defined in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="1b9a8-132">Un `x:Code` direttiva elemento può contenere codice di programmazione inline.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-132">An `x:Code` directive element can contain inline programming code.</span></span> <span data-ttu-id="1b9a8-133">Il codice che viene definito inline può interagire con il [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] nella stessa pagina.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-133">The code that is defined inline can interact with the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] on the same page.</span></span> <span data-ttu-id="1b9a8-134">Nell'esempio seguente viene illustrato il codice c# inline.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-134">The following example illustrates inline C# code.</span></span> <span data-ttu-id="1b9a8-135">Si noti che il codice si trova all'interno di `x:Code` elemento e che il codice deve essere racchiusa tra parentesi `<CDATA[`... `]]>` per eseguire l'escape del contenuto per [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)], in modo che un [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processore (interpretazione sia il [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] dello schema o [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] schema) non tenterà di interpretare il contenuto letteralmente come [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1b9a8-135">Notice that the code is inside the `x:Code` element and that the code must be surrounded by `<CDATA[`...`]]>` to escape the contents for [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)], so that a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor (interpreting either the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] schema or the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] schema) will not try to interpret the contents literally as [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)].</span></span>  
  
 [!code-xaml[XAMLOvwSupport#ButtonWithInlineCode](../../../../samples/snippets/csharp/VS_Snippets_Wpf/XAMLOvwSupport/CSharp/page4.xaml#buttonwithinlinecode)]  
  
<a name="Inline_Code_Limitations"></a>   
## <a name="inline-code-limitations"></a><span data-ttu-id="1b9a8-136">Limitazioni del codice inline</span><span class="sxs-lookup"><span data-stu-id="1b9a8-136">Inline Code Limitations</span></span>  
 <span data-ttu-id="1b9a8-137">È consigliabile evitare o limitare l'utilizzo di codice inline.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-137">You should consider avoiding or limiting the use of inline code.</span></span> <span data-ttu-id="1b9a8-138">In termini di architettura e codifica, la gestione di una separazione tra markup e code-behind mantiene i ruoli di progettazione e sviluppo più distinti.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-138">In terms of architecture and coding philosophy, maintaining a separation between markup and code-behind keeps the designer and developer roles much more distinct.</span></span> <span data-ttu-id="1b9a8-139">A un livello più tecnico, il codice scritto per il codice inline può essere difficile, perché vengono sempre scritte nel [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] classe parziale generata e possono usare solo il mapping dello spazio dei nomi XML predefinito.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-139">On a more technical level, the code that you write for inline code can be awkward to write, because you are always writing into the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] generated partial class, and can only use the default XML namespace mappings.</span></span> <span data-ttu-id="1b9a8-140">Poiché non è possibile aggiungere `using` istruzioni, è necessario qualificare molti il [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] chiamate effettuate.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-140">Because you cannot add `using` statements, you must fully qualify many of the [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] calls that you make.</span></span> <span data-ttu-id="1b9a8-141">Il valore predefinito [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] mapping includono la maggior parte ma non tutte [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] gli spazi dei nomi che sono presenti nel [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] degli assembly, è necessario qualificare completamente le chiamate a tipi e membri contenuti all'interno di altri spazi dei nomi CLR.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-141">The default [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] mappings include most but not all [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] namespaces that are present in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] assemblies; you will have to fully qualify calls to types and members contained within the other CLR namespaces.</span></span> <span data-ttu-id="1b9a8-142">È inoltre possibile definire qualsiasi elemento che la classe parziale nel codice inline e si fa riferimento a tutte le entità di codice utente deve esistere come un membro o una variabile all'interno della classe parziale generata.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-142">You also cannot define anything beyond the partial class in the inline code, and all user code entities you reference must exist as a member or variable within the generated partial class.</span></span> <span data-ttu-id="1b9a8-143">Altre funzionalità specifiche del linguaggio programmazione, ad esempio le macro o `#ifdef` nelle variabili globali o variabili di compilazione, non sono disponibili.</span><span class="sxs-lookup"><span data-stu-id="1b9a8-143">Other language specific programming features, such as macros or `#ifdef` against global variables or build variables, are also not available.</span></span> <span data-ttu-id="1b9a8-144">Per ulteriori informazioni, vedere [tipo XAML intrinseco X:code](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md).</span><span class="sxs-lookup"><span data-stu-id="1b9a8-144">For more information, see [x:Code Intrinsic XAML Type](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1b9a8-145">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="1b9a8-145">See Also</span></span>  
 [<span data-ttu-id="1b9a8-146">Cenni preliminari su XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="1b9a8-146">XAML Overview (WPF)</span></span>](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)  
 [<span data-ttu-id="1b9a8-147">Tipo XAML intrinseco x:Code</span><span class="sxs-lookup"><span data-stu-id="1b9a8-147">x:Code Intrinsic XAML Type</span></span>](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md)  
 [<span data-ttu-id="1b9a8-148">Compilazione di un'applicazione WPF</span><span class="sxs-lookup"><span data-stu-id="1b9a8-148">Building a WPF Application</span></span>](../../../../docs/framework/wpf/app-development/building-a-wpf-application-wpf.md)  
 [<span data-ttu-id="1b9a8-149">Descrizione dettagliata della sintassi XAML</span><span class="sxs-lookup"><span data-stu-id="1b9a8-149">XAML Syntax In Detail</span></span>](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md)
