---
title: Cenni preliminari sulla gestione di applicazioni
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- application management [WPF]
ms.assetid: 32b1c054-5aca-423b-b4b5-ed8dc4dc637d
caps.latest.revision: 
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: a881793c50a4ce506e752774e70e0904e30525c1
ms.sourcegitcommit: c0dd436f6f8f44dc80dc43b07f6841a00b74b23f
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/19/2018
---
# <a name="application-management-overview"></a><span data-ttu-id="dd1ba-102">Cenni preliminari sulla gestione di applicazioni</span><span class="sxs-lookup"><span data-stu-id="dd1ba-102">Application Management Overview</span></span>
<span data-ttu-id="dd1ba-103">Tutte le applicazioni tendono a condividere un set comune di funzionalità relative all'implementazione e alla gestione di applicazioni.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-103">All applications tend to share a common set of functionality that applies to application implementation and management.</span></span> <span data-ttu-id="dd1ba-104">In questo argomento viene fornita una panoramica delle funzionalità di <xref:System.Windows.Application> classe per la creazione e la gestione delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-104">This topic provides an overview of the functionality in the <xref:System.Windows.Application> class for creating and managing applications.</span></span>  
   
  
## <a name="the-application-class"></a><span data-ttu-id="dd1ba-105">Classe Application</span><span class="sxs-lookup"><span data-stu-id="dd1ba-105">The Application Class</span></span>  
 <span data-ttu-id="dd1ba-106">In [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)], le funzionalità comuni con ambito di applicazione sono incapsulata nel <xref:System.Windows.Application> classe.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-106">In [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)], common application-scoped functionality is encapsulated in the <xref:System.Windows.Application> class.</span></span> <span data-ttu-id="dd1ba-107">La <xref:System.Windows.Application> classe include le funzionalità seguenti:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-107">The <xref:System.Windows.Application> class includes the following functionality:</span></span>  
  
-   <span data-ttu-id="dd1ba-108">Interazione con il ciclo di vita dell'applicazione e relativa verifica.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-108">Tracking and interacting with application lifetime.</span></span>  
  
-   <span data-ttu-id="dd1ba-109">Recupero ed elaborazione di parametri della riga di comando.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-109">Retrieving and processing command-line parameters.</span></span>  
  
-   <span data-ttu-id="dd1ba-110">Rilevamento delle eccezioni non gestite e riposta a tali eccezioni.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-110">Detecting and responding to unhandled exceptions.</span></span>  
  
-   <span data-ttu-id="dd1ba-111">Condivisione di proprietà e risorse con ambito di applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-111">Sharing application-scope properties and resources.</span></span>  
  
-   <span data-ttu-id="dd1ba-112">Gestione delle finestre in applicazioni autonome.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-112">Managing windows in standalone applications.</span></span>  
  
-   <span data-ttu-id="dd1ba-113">Verifica e gestione della navigazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-113">Tracking and managing navigation.</span></span>  
  
<a name="The_Application_Class"></a>   
## <a name="how-to-perform-common-tasks-using-the-application-class"></a><span data-ttu-id="dd1ba-114">Come eseguire attività comuni con la classe Application</span><span class="sxs-lookup"><span data-stu-id="dd1ba-114">How to Perform Common Tasks Using the Application Class</span></span>  
 <span data-ttu-id="dd1ba-115">Se non si è interessati a tutti i dettagli del <xref:System.Windows.Application> (classe), nella tabella seguente sono elencate alcune delle attività comuni per <xref:System.Windows.Application> e viene descritto come eseguirle.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-115">If you are not interested in all of the details of the <xref:System.Windows.Application> class, the following table lists some of the common tasks for <xref:System.Windows.Application> and how to accomplish them.</span></span> <span data-ttu-id="dd1ba-116">Visualizzando l'API e gli argomenti correlati, è possibile trovare altre informazioni e il codice di esempio.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-116">By viewing the related API and topics, you can find more information and sample code.</span></span>  
  
|<span data-ttu-id="dd1ba-117">Attività</span><span class="sxs-lookup"><span data-stu-id="dd1ba-117">Task</span></span>|<span data-ttu-id="dd1ba-118">Approccio</span><span class="sxs-lookup"><span data-stu-id="dd1ba-118">Approach</span></span>|  
|----------|--------------|  
|<span data-ttu-id="dd1ba-119">Ottenere un oggetto che rappresenta l'applicazione corrente</span><span class="sxs-lookup"><span data-stu-id="dd1ba-119">Get an object that represents the current application</span></span>|<span data-ttu-id="dd1ba-120">Usare la proprietà <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-120">Use the <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> property.</span></span>|  
|<span data-ttu-id="dd1ba-121">Aggiungere una schermata di avvio a un'applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-121">Add a startup screen to an application</span></span>|<span data-ttu-id="dd1ba-122">Vedere [aggiungere una schermata in un'applicazione WPF](../../../../docs/framework/wpf/app-development/how-to-add-a-splash-screen-to-a-wpf-application.md).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-122">See [Add a Splash Screen to a WPF Application](../../../../docs/framework/wpf/app-development/how-to-add-a-splash-screen-to-a-wpf-application.md).</span></span>|  
|<span data-ttu-id="dd1ba-123">Avviare un'applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-123">Start an application</span></span>|<span data-ttu-id="dd1ba-124">Usare il metodo <xref:System.Windows.Application.Run%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-124">Use the <xref:System.Windows.Application.Run%2A?displayProperty=nameWithType> method.</span></span>|  
|<span data-ttu-id="dd1ba-125">Arrestare un'applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-125">Stop an application</span></span>|<span data-ttu-id="dd1ba-126">Utilizzare il <xref:System.Windows.Application.Shutdown%2A> metodo il <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> oggetto.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-126">Use the <xref:System.Windows.Application.Shutdown%2A> method of the <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> object.</span></span>|  
|<span data-ttu-id="dd1ba-127">Ottenere argomenti dalla riga di comando</span><span class="sxs-lookup"><span data-stu-id="dd1ba-127">Get arguments from the command line</span></span>|<span data-ttu-id="dd1ba-128">Gestire il <xref:System.Windows.Application.Startup?displayProperty=nameWithType> evento e l'utilizzo di <xref:System.Windows.StartupEventArgs.Args%2A?displayProperty=nameWithType> proprietà.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-128">Handle the <xref:System.Windows.Application.Startup?displayProperty=nameWithType> event and use the <xref:System.Windows.StartupEventArgs.Args%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="dd1ba-129">Per un esempio, vedere il <xref:System.Windows.Application.Startup?displayProperty=nameWithType> evento.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-129">For an example, see the <xref:System.Windows.Application.Startup?displayProperty=nameWithType> event.</span></span>|  
|<span data-ttu-id="dd1ba-130">Ottenere e impostare il codice di uscita dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-130">Get and set the application exit code</span></span>|<span data-ttu-id="dd1ba-131">Impostare il <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A?displayProperty=nameWithType> proprietà il <xref:System.Windows.Application.Exit?displayProperty=nameWithType> gestore eventi o chiamare il <xref:System.Windows.Application.Shutdown%2A> (metodo) e passare un numero intero.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-131">Set the <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A?displayProperty=nameWithType> property in the <xref:System.Windows.Application.Exit?displayProperty=nameWithType> event handler or call the <xref:System.Windows.Application.Shutdown%2A> method and pass in an integer.</span></span>|  
|<span data-ttu-id="dd1ba-132">Rilevare eccezioni non gestite e rispondervi</span><span class="sxs-lookup"><span data-stu-id="dd1ba-132">Detect and respond to unhandled exceptions</span></span>|<span data-ttu-id="dd1ba-133">Gestire il <xref:System.Windows.Application.DispatcherUnhandledException> evento.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-133">Handle the <xref:System.Windows.Application.DispatcherUnhandledException> event.</span></span>|  
|<span data-ttu-id="dd1ba-134">Ottenere e impostare le risorse con ambito di applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-134">Get and set application-scoped resources</span></span>|<span data-ttu-id="dd1ba-135">Usare la proprietà <xref:System.Windows.Application.Resources%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-135">Use the <xref:System.Windows.Application.Resources%2A?displayProperty=nameWithType> property.</span></span>|  
|<span data-ttu-id="dd1ba-136">Usare un dizionario risorse con ambito di applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-136">Use an application-scope resource dictionary</span></span>|<span data-ttu-id="dd1ba-137">Vedere [utilizzare un dizionario risorse applicazione](../../../../docs/framework/wpf/app-development/how-to-use-an-application-scope-resource-dictionary.md).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-137">See [Use an Application-Scope Resource Dictionary](../../../../docs/framework/wpf/app-development/how-to-use-an-application-scope-resource-dictionary.md).</span></span>|  
|<span data-ttu-id="dd1ba-138">Ottenere e impostare proprietà con ambito di applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-138">Get and set application-scoped properties</span></span>|<span data-ttu-id="dd1ba-139">Usare la proprietà <xref:System.Windows.Application.Properties%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-139">Use the <xref:System.Windows.Application.Properties%2A?displayProperty=nameWithType> property.</span></span>|  
|<span data-ttu-id="dd1ba-140">Ottenere e salvare lo stato di un'applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-140">Get and save an application's state</span></span>|<span data-ttu-id="dd1ba-141">Vedere [persistente e ripristinare le proprietà dell'ambito di applicazione tra le sessioni dell'applicazione](../../../../docs/framework/wpf/app-development/persist-and-restore-application-scope-properties.md).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-141">See [Persist and Restore Application-Scope Properties Across Application Sessions](../../../../docs/framework/wpf/app-development/persist-and-restore-application-scope-properties.md).</span></span>|  
|<span data-ttu-id="dd1ba-142">Gestire file di dati non di codice, tra cui file di risorse, file di contenuto e file del sito di origine.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-142">Manage non-code data files, including resource files, content files, and site-of-origin files.</span></span>|<span data-ttu-id="dd1ba-143">Vedere [risorse dell'applicazione WPF, contenuto e i file di dati](../../../../docs/framework/wpf/app-development/wpf-application-resource-content-and-data-files.md).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-143">See [WPF Application Resource, Content, and Data Files](../../../../docs/framework/wpf/app-development/wpf-application-resource-content-and-data-files.md).</span></span>|  
|<span data-ttu-id="dd1ba-144">Gestire le finestre in applicazioni autonome</span><span class="sxs-lookup"><span data-stu-id="dd1ba-144">Manage windows in standalone applications</span></span>|<span data-ttu-id="dd1ba-145">Vedere [Cenni preliminari sulle finestre WPF](../../../../docs/framework/wpf/app-development/wpf-windows-overview.md).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-145">See [WPF Windows Overview](../../../../docs/framework/wpf/app-development/wpf-windows-overview.md).</span></span>|  
|<span data-ttu-id="dd1ba-146">Verificare e gestire la navigazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-146">Track and manage navigation</span></span>|<span data-ttu-id="dd1ba-147">Vedere [Cenni preliminari sulla navigazione](../../../../docs/framework/wpf/app-development/navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-147">See [Navigation Overview](../../../../docs/framework/wpf/app-development/navigation-overview.md).</span></span>|  
  
<a name="The_Application_Definition"></a>   
## <a name="the-application-definition"></a><span data-ttu-id="dd1ba-148">Definizione dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-148">The Application Definition</span></span>  
 <span data-ttu-id="dd1ba-149">Utilizzare la funzionalità del <xref:System.Windows.Application> (classe), è necessario implementare una definizione di applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-149">To utilize the functionality of the <xref:System.Windows.Application> class, you must implement an application definition.</span></span> <span data-ttu-id="dd1ba-150">Oggetto [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] definizione dell'applicazione è una classe che deriva da <xref:System.Windows.Application> ed è configurato con una speciale [!INCLUDE[TLA#tla_msbuild](../../../../includes/tlasharptla-msbuild-md.md)] impostazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-150">A [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application definition is a class that derives from <xref:System.Windows.Application> and is configured with a special [!INCLUDE[TLA#tla_msbuild](../../../../includes/tlasharptla-msbuild-md.md)] setting.</span></span>  
  
### <a name="implementing-an-application-definition"></a><span data-ttu-id="dd1ba-151">Implementazione di una definizione di applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-151">Implementing an Application Definition</span></span>  
 <span data-ttu-id="dd1ba-152">Una tipica [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] definizione dell'applicazione viene implementata utilizzando sia markup e code-behind.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-152">A typical [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application definition is implemented using both markup and code-behind.</span></span> <span data-ttu-id="dd1ba-153">Questo approccio permette di usare il markup per impostare in modo dichiarativo proprietà e risorse dell'applicazione e registrare eventi, gestendo gli eventi e implementando il comportamento specifico dell'applicazione nel code-behind.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-153">This allows you to use markup to declaratively set application properties, resources, and register events, while handling events and implementing application-specific behavior in code-behind.</span></span>  
  
 <span data-ttu-id="dd1ba-154">L'esempio seguente mostra come implementare una definizione di applicazione tramite markup e code-behind:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-154">The following example shows how to implement an application definition using both markup and code-behind:</span></span>  
  
 [!code-xaml[ApplicationSnippets#ApplicationXAML](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSnippets/CSharp/App.xaml#applicationxaml)]  
  
 [!code-csharp[ApplicationSnippets#ApplicationCODEBEHIND](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSnippets/CSharp/App.xaml.cs#applicationcodebehind)]
 [!code-vb[ApplicationSnippets#ApplicationCODEBEHIND](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationSnippets/visualbasic/application.xaml.vb#applicationcodebehind)]  
  
 <span data-ttu-id="dd1ba-155">Per poter usare un file di markup e un file code-behind insieme, devono verificarsi le condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-155">To allow a markup file and code-behind file to work together, the following needs to happen:</span></span>  
  
-   <span data-ttu-id="dd1ba-156">Nel markup di `Application` elemento deve includere il `x:Class` attributo.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-156">In markup, the `Application` element must include the `x:Class` attribute.</span></span> <span data-ttu-id="dd1ba-157">Quando l'applicazione viene compilata, l'esistenza di `x:Class` nel markup file fa sì che [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] per creare un `partial` classe che deriva da <xref:System.Windows.Application> e ha il nome specificato per il `x:Class` attributo.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-157">When the application is built, the existence of `x:Class` in the markup file causes [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] to create a `partial` class that derives from <xref:System.Windows.Application> and has the name that is specified by the `x:Class` attribute.</span></span> <span data-ttu-id="dd1ba-158">Questa operazione richiede l'aggiunta di un [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] dichiarazione dello spazio dei nomi per il [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] dello schema ( `xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"` ).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-158">This requires the addition of an [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] namespace declaration for the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] schema ( `xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"` ).</span></span>  
  
-   <span data-ttu-id="dd1ba-159">Nel code-behind, la classe deve essere un `partial` classe con lo stesso nome specificato per il `x:Class` attributo nel markup e deve derivare da <xref:System.Windows.Application>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-159">In code-behind, the class must be a `partial` class with the same name that is specified by the `x:Class` attribute in markup and must derive from <xref:System.Windows.Application>.</span></span> <span data-ttu-id="dd1ba-160">In questo modo il file code-behind può essere associato il `partial` classe generata per il file di markup quando l'applicazione viene compilata (vedere [compilazione di un'applicazione WPF](../../../../docs/framework/wpf/app-development/building-a-wpf-application-wpf.md)).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-160">This allows the code-behind file to be associated with the `partial` class that is generated for the markup file when the application is built (see [Building a WPF Application](../../../../docs/framework/wpf/app-development/building-a-wpf-application-wpf.md)).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="dd1ba-161">Quando si crea un nuovo progetto applicazione WPF o applicazione Browser WPF utilizzando [!INCLUDE[TLA#tla_visualstu](../../../../includes/tlasharptla-visualstu-md.md)], una definizione di applicazione è incluso per impostazione predefinita e viene definita utilizzando sia markup e code-behind.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-161">When you create a new WPF Application project or WPF Browser Application project using [!INCLUDE[TLA#tla_visualstu](../../../../includes/tlasharptla-visualstu-md.md)], an application definition is included by default and is defined using both markup and code-behind.</span></span>  
  
 <span data-ttu-id="dd1ba-162">Questo codice è quello minimo necessario per implementare una definizione di applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-162">This code is the minimum that is required to implement an application definition.</span></span> <span data-ttu-id="dd1ba-163">Tuttavia, un'ulteriore [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] configurazione deve essere apportata alla definizione dell'applicazione prima di compilare ed eseguire l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-163">However, an additional [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] configuration needs to be made to the application definition before building and running the application.</span></span>  
  
### <a name="configuring-the-application-definition-for-msbuild"></a><span data-ttu-id="dd1ba-164">Configurazione di una definizione di applicazione per MSBuild</span><span class="sxs-lookup"><span data-stu-id="dd1ba-164">Configuring the Application Definition for MSBuild</span></span>  
 <span data-ttu-id="dd1ba-165">Applicazioni autonome e [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)] prima che possano eseguire è necessaria l'implementazione di un determinato livello di infrastruttura.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-165">Standalone applications and [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)] require the implementation of a certain level of infrastructure before they can run.</span></span> <span data-ttu-id="dd1ba-166">La parte più importante di questa infrastruttura è il punto di ingresso.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-166">The most important part of this infrastructure is the entry point.</span></span> <span data-ttu-id="dd1ba-167">Quando un'applicazione viene avviata da un utente, il sistema operativo chiama il punto di ingresso, che è una funzione ben nota per l'avvio delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-167">When an application is launched by a user, the operating system calls the entry point, which is a well-known function for starting applications.</span></span>  
  
 <span data-ttu-id="dd1ba-168">Tradizionalmente, gli sviluppatori hanno sempre dovuto scrivere personalmente questo codice, interamente o in parte, a seconda della tecnologia.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-168">Traditionally, developers have needed to write some or all of this code for themselves, depending on the technology.</span></span> <span data-ttu-id="dd1ba-169">Tuttavia, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] genera questo codice quando il file di markup della definizione di applicazione è configurato come un [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] `ApplicationDefinition` elemento, come illustrato nell'esempio seguente [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] file di progetto:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-169">However, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] generates this code for you when the markup file of your application definition is configured as an [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)]`ApplicationDefinition` item, as shown in the following [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] project file:</span></span>  
  
```xml  
<Project   
  DefaultTargets="Build"  
                        xmlns="http://schemas.microsoft.com/developer/msbuild/2003">  
  ...  
  <ApplicationDefinition Include="App.xaml" />  
  <Compile Include="App.xaml.cs" />  
  ...  
</Project>  
```  
  
 <span data-ttu-id="dd1ba-170">Poiché il file code-behind contiene codice, viene contrassegnato come un [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] `Compile` elemento, come è normale.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-170">Because the code-behind file contains code, it is marked as an [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)]`Compile` item, as is normal.</span></span>  
  
 <span data-ttu-id="dd1ba-171">L'applicazione di questi [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] fa sì che le configurazioni per i file di markup e code-behind di una definizione di applicazione [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] per generare codice simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-171">The application of these [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] configurations to the markup and code-behind files of an application definition causes [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] to generate code like the following:</span></span>  
  
 [!code-csharp[AppDefAugSnippets#AppDefAugCODE1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/AppDefAugSnippets/CSharp/App.cs#appdefaugcode1)]
 [!code-vb[AppDefAugSnippets#AppDefAugCODE1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/AppDefAugSnippets/VisualBasic/App.vb#appdefaugcode1)]  
[!code-csharp[AppDefAugSnippets#AppDefAugCODE2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/AppDefAugSnippets/CSharp/App.cs#appdefaugcode2)]
[!code-vb[AppDefAugSnippets#AppDefAugCODE2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/AppDefAugSnippets/VisualBasic/App.vb#appdefaugcode2)]  
  
 <span data-ttu-id="dd1ba-172">Il codice risultante integra la definizione di applicazione con codice di un'infrastruttura aggiuntiva, che include il metodo del punto di ingresso `Main`.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-172">The resulting code augments your application definition with additional infrastructure code, which includes the entry-point method `Main`.</span></span> <span data-ttu-id="dd1ba-173">Il <xref:System.STAThreadAttribute> attributo viene applicato al `Main` metodo per indicare che principale [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] thread per il [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applicazione è un thread STA, è necessario per [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applicazioni.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-173">The <xref:System.STAThreadAttribute> attribute is applied to the `Main` method to indicate that the main [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] thread for the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application is an STA thread, which is required for [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications.</span></span> <span data-ttu-id="dd1ba-174">Quando viene chiamato, `Main` crea una nuova istanza della `App` prima di chiamare il `InitializeComponent` per registrare gli eventi e impostare le proprietà che vengono implementate nel markup.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-174">When called, `Main` creates a new instance of `App` before calling the `InitializeComponent` method to register the events and set the properties that are implemented in markup.</span></span> <span data-ttu-id="dd1ba-175">Poiché `InitializeComponent` viene generato automaticamente, non è necessario chiamare in modo esplicito `InitializeComponent` da una definizione di applicazione, come avviene invece per <xref:System.Windows.Controls.Page> e <xref:System.Windows.Window> implementazioni.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-175">Because `InitializeComponent` is generated for you, you don't need to explicitly call `InitializeComponent` from an application definition like you do for <xref:System.Windows.Controls.Page> and <xref:System.Windows.Window> implementations.</span></span> <span data-ttu-id="dd1ba-176">Infine, il <xref:System.Windows.Application.Run%2A> metodo viene chiamato per avviare l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-176">Finally, the <xref:System.Windows.Application.Run%2A> method is called to start the application.</span></span>  
  
<a name="Getting_the_Current_Application"></a>   
## <a name="getting-the-current-application"></a><span data-ttu-id="dd1ba-177">Recupero dell'applicazione corrente</span><span class="sxs-lookup"><span data-stu-id="dd1ba-177">Getting the Current Application</span></span>  
 <span data-ttu-id="dd1ba-178">Poiché la funzionalità del <xref:System.Windows.Application> classe vengono condivise tra un'applicazione, può essere presente solo un'istanza del <xref:System.Windows.Application> classe <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-178">Because the functionality of the <xref:System.Windows.Application> class are shared across an application, there can be only one instance of the <xref:System.Windows.Application> class per <xref:System.AppDomain>.</span></span> <span data-ttu-id="dd1ba-179">Per applicare questa operazione, il <xref:System.Windows.Application> classe viene implementata come una classe singleton (vedere [Implementing Singleton in c#](http://go.microsoft.com/fwlink/?LinkId=100567)), che crea una singola istanza di se stesso e fornisce accesso condiviso ai con il `static` <xref:System.Windows.Application.Current%2A> proprietà.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-179">To enforce this, the <xref:System.Windows.Application> class is implemented as a singleton class (see [Implementing Singleton in C#](http://go.microsoft.com/fwlink/?LinkId=100567)), which creates a single instance of itself and provides shared access to it with the `static`<xref:System.Windows.Application.Current%2A> property.</span></span>  
  
 <span data-ttu-id="dd1ba-180">Il codice seguente viene illustrato come acquisire un riferimento di <xref:System.Windows.Application> oggetto per l'oggetto corrente <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-180">The following code shows how to acquire a reference to the <xref:System.Windows.Application> object for the current <xref:System.AppDomain>.</span></span>  
  
 [!code-csharp[ApplicationManagementOverviewSnippets#GetCurrentAppCODE](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/CSharp/MainWindow.xaml.cs#getcurrentappcode)]
 [!code-vb[ApplicationManagementOverviewSnippets#GetCurrentAppCODE](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/VisualBasic/MainWindow.xaml.vb#getcurrentappcode)]  
  
 <span data-ttu-id="dd1ba-181"><xref:System.Windows.Application.Current%2A>Restituisce un riferimento a un'istanza di <xref:System.Windows.Application> classe.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-181"><xref:System.Windows.Application.Current%2A> returns a reference to an instance of the <xref:System.Windows.Application> class.</span></span> <span data-ttu-id="dd1ba-182">Se si desidera un riferimento al <xref:System.Windows.Application> è necessario eseguire il cast di classe derivata di <xref:System.Windows.Application.Current%2A> proprietà, come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-182">If you want a reference to your <xref:System.Windows.Application> derived class you must cast the value of the <xref:System.Windows.Application.Current%2A> property, as shown in the following example.</span></span>  
  
 [!code-csharp[ApplicationManagementOverviewSnippets#GetSTCurrentAppCODE](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/CSharp/MainWindow.xaml.cs#getstcurrentappcode)]
 [!code-vb[ApplicationManagementOverviewSnippets#GetSTCurrentAppCODE](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/VisualBasic/MainWindow.xaml.vb#getstcurrentappcode)]  
  
 <span data-ttu-id="dd1ba-183">È possibile controllare il valore di <xref:System.Windows.Application.Current%2A> in qualsiasi momento nel corso della durata di un <xref:System.Windows.Application> oggetto.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-183">You can inspect the value of <xref:System.Windows.Application.Current%2A> at any point in the lifetime of an <xref:System.Windows.Application> object.</span></span> <span data-ttu-id="dd1ba-184">Tuttavia, è bene fare attenzione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-184">However, you should be careful.</span></span> <span data-ttu-id="dd1ba-185">Dopo il <xref:System.Windows.Application> viene creata un'istanza di classe, non vi è un intervallo durante il quale lo stato del <xref:System.Windows.Application> oggetto non è coerente.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-185">After the <xref:System.Windows.Application> class is instantiated, there is a period during which the state of the <xref:System.Windows.Application> object is inconsistent.</span></span> <span data-ttu-id="dd1ba-186">Durante questo periodo, <xref:System.Windows.Application> esegue le varie attività di inizializzazione necessarie per il codice da eseguire, tra cui stabilire l'infrastruttura dell'applicazione, l'impostazione di proprietà e registrazione degli eventi.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-186">During this period, <xref:System.Windows.Application> is performing the various initialization tasks that are required by your code to run, including establishing application infrastructure, setting properties, and registering events.</span></span> <span data-ttu-id="dd1ba-187">Se si tenta di utilizzare il <xref:System.Windows.Application> oggetto durante questo periodo, il codice potrebbe avere risultati imprevisti, in particolare se le varie dipende <xref:System.Windows.Application> proprietà da impostare.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-187">If you try to use the <xref:System.Windows.Application> object during this period, your code may have unexpected results, particularly if it depends on the various <xref:System.Windows.Application> properties being set.</span></span>  
  
 <span data-ttu-id="dd1ba-188">Quando <xref:System.Windows.Application> completa l'operazione di inizializzazione, la sua durata ha inizio reale.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-188">When <xref:System.Windows.Application> completes its initialization work, its lifetime truly begins.</span></span>  
  
<a name="Application_Lifetime"></a>   
## <a name="application-lifetime"></a><span data-ttu-id="dd1ba-189">Ciclo di vita dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-189">Application Lifetime</span></span>  
 <span data-ttu-id="dd1ba-190">La durata di un [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] contrassegnata da vari eventi generati dall'applicazione <xref:System.Windows.Application> per informare l'utente quando è stata avviata l'applicazione, è stata attivata e disattivata ed è stato chiuso.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-190">The lifetime of a [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application is marked by several events that are raised by <xref:System.Windows.Application> to let you know when your application has started, has been activated and deactivated, and has been shut down.</span></span>  
  
  
<a name="Splash_Screen"></a>   
### <a name="splash-screen"></a><span data-ttu-id="dd1ba-191">Schermata iniziale</span><span class="sxs-lookup"><span data-stu-id="dd1ba-191">Splash Screen</span></span>  
 <span data-ttu-id="dd1ba-192">A partire dal [!INCLUDE[net_v35SP1_short](../../../../includes/net-v35sp1-short-md.md)], è possibile specificare un'immagine da utilizzare in una finestra di avvio, o *schermata*.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-192">Starting in the [!INCLUDE[net_v35SP1_short](../../../../includes/net-v35sp1-short-md.md)], you can specify an image to be used in a startup window, or *splash screen*.</span></span> <span data-ttu-id="dd1ba-193">La <xref:System.Windows.SplashScreen> classe rende facile visualizzare una finestra di avvio durante il caricamento dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-193">The <xref:System.Windows.SplashScreen> class makes it easy to display a startup window while your application is loading.</span></span> <span data-ttu-id="dd1ba-194">Il <xref:System.Windows.SplashScreen> finestra viene creata e visualizzata prima <xref:System.Windows.Application.Run%2A> viene chiamato.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-194">The <xref:System.Windows.SplashScreen> window is created and shown before <xref:System.Windows.Application.Run%2A> is called.</span></span> <span data-ttu-id="dd1ba-195">Per ulteriori informazioni, vedere [tempo di avvio applicazione](../../../../docs/framework/wpf/advanced/application-startup-time.md) e [aggiungere una schermata in un'applicazione WPF](../../../../docs/framework/wpf/app-development/how-to-add-a-splash-screen-to-a-wpf-application.md).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-195">For more information, see [Application Startup Time](../../../../docs/framework/wpf/advanced/application-startup-time.md) and [Add a Splash Screen to a WPF Application](../../../../docs/framework/wpf/app-development/how-to-add-a-splash-screen-to-a-wpf-application.md).</span></span>  
  
<a name="Starting_an_Application"></a>   
### <a name="starting-an-application"></a><span data-ttu-id="dd1ba-196">Avvio di un'applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-196">Starting an Application</span></span>  
 <span data-ttu-id="dd1ba-197">Dopo aver <xref:System.Windows.Application.Run%2A> viene chiamato e l'applicazione viene inizializzato, l'applicazione è pronta per l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-197">After <xref:System.Windows.Application.Run%2A> is called and the application is initialized, the application is ready to run.</span></span> <span data-ttu-id="dd1ba-198">In questo momento corrisponde al momento il <xref:System.Windows.Application.Startup> evento:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-198">This moment is signified when the <xref:System.Windows.Application.Startup> event is raised:</span></span>  
  
 [!code-csharp[ApplicationStartupSnippets#StartupCODEBEHIND1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml.cs#startupcodebehind1)]
 [!code-vb[ApplicationStartupSnippets#StartupCODEBEHIND1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationStartupSnippets/visualbasic/application.xaml.vb#startupcodebehind1)]  
[!code-csharp[ApplicationStartupSnippets#StartupCODEBEHIND2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml.cs#startupcodebehind2)]
[!code-vb[ApplicationStartupSnippets#StartupCODEBEHIND2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationStartupSnippets/visualbasic/application.xaml.vb#startupcodebehind2)]  
  
 <span data-ttu-id="dd1ba-199">A questo punto la durata di un'applicazione, la cosa più comune da fare è mostrare un [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span><span class="sxs-lookup"><span data-stu-id="dd1ba-199">At this point in an application's lifetime, the most common thing to do is to show a [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span>  
  
<a name="Showing_a_User_Interface"></a>   
### <a name="showing-a-user-interface"></a><span data-ttu-id="dd1ba-200">Visualizzazione di un'interfaccia utente</span><span class="sxs-lookup"><span data-stu-id="dd1ba-200">Showing a User Interface</span></span>  
 <span data-ttu-id="dd1ba-201">La maggior parte delle autonomo [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] applicazioni aprono un <xref:System.Windows.Window> all'inizio in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-201">Most standalone [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] applications open a <xref:System.Windows.Window> when they begin running.</span></span> <span data-ttu-id="dd1ba-202">Il <xref:System.Windows.Application.Startup> gestore dell'evento è una posizione da cui è possibile eseguire questa operazione, come illustrato nel codice seguente.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-202">The <xref:System.Windows.Application.Startup> event handler is one location from which you can do this, as demonstrated by the following code.</span></span>  
  
 [!code-xaml[AppShowWindowHardSnippets#StartupEventMARKUP](../../../../samples/snippets/csharp/VS_Snippets_Wpf/AppShowWindowHardSnippets/CSharp/App.xaml#startupeventmarkup)]  
  
 [!code-csharp[AppShowWindowHardSnippets#StartupEventCODEBEHIND](../../../../samples/snippets/csharp/VS_Snippets_Wpf/AppShowWindowHardSnippets/CSharp/App.xaml.cs#startupeventcodebehind)]
 [!code-vb[AppShowWindowHardSnippets#StartupEventCODEBEHIND](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/AppShowWindowHardSnippets/VisualBasic/Application.xaml.vb#startupeventcodebehind)]  
  
> [!NOTE]
>  <span data-ttu-id="dd1ba-203">Il primo <xref:System.Windows.Window> deve essere creata un'istanza in un computer autonomo applicazione diventa la finestra principale dell'applicazione per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-203">The first <xref:System.Windows.Window> to be instantiated in a standalone application becomes the main application window by default.</span></span> <span data-ttu-id="dd1ba-204">Questo <xref:System.Windows.Window> oggetto fa riferimento il <xref:System.Windows.Application.MainWindow%2A?displayProperty=nameWithType> proprietà.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-204">This <xref:System.Windows.Window> object is referenced by the <xref:System.Windows.Application.MainWindow%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="dd1ba-205">Il valore della <xref:System.Windows.Application.MainWindow%2A> proprietà può essere modificata a livello di programmazione se una finestra diversa rispetto alla prima creazione di un'istanza <xref:System.Windows.Window> deve essere la finestra principale.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-205">The value of the <xref:System.Windows.Application.MainWindow%2A> property can be changed programmatically if a different window than the first instantiated <xref:System.Windows.Window> should be the main window.</span></span>  
  
 <span data-ttu-id="dd1ba-206">Quando un [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] inizialmente, è molto probabile che uno spostamento su un <xref:System.Windows.Controls.Page>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-206">When an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] first starts, it will most likely navigate to a <xref:System.Windows.Controls.Page>.</span></span> <span data-ttu-id="dd1ba-207">Questo comportamento viene mostrato nel codice seguente.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-207">This is shown in the following code.</span></span>  
  
 [!code-xaml[XBAPAppStartupSnippets#StartupXBAPMARKUP](../../../../samples/snippets/csharp/VS_Snippets_Wpf/XBAPAppStartupSnippets/CSharp/App.xaml#startupxbapmarkup)]  
  
 [!code-csharp[XBAPAppStartupSnippets#StartupXBAPCODEBEHIND](../../../../samples/snippets/csharp/VS_Snippets_Wpf/XBAPAppStartupSnippets/CSharp/App.xaml.cs#startupxbapcodebehind)]
 [!code-vb[XBAPAppStartupSnippets#StartupXBAPCODEBEHIND](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/XBAPAppStartupSnippets/VisualBasic/Application.xaml.vb#startupxbapcodebehind)]  
  
 <span data-ttu-id="dd1ba-208">Se si gestisce <xref:System.Windows.Application.Startup> di aprire solo un <xref:System.Windows.Window> o passare a un <xref:System.Windows.Controls.Page>, è possibile impostare il `StartupUri` invece dell'attributo nel markup.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-208">If you handle <xref:System.Windows.Application.Startup> to only open a <xref:System.Windows.Window> or navigate to a <xref:System.Windows.Controls.Page>, you can set the `StartupUri` attribute in markup instead.</span></span>  
  
 <span data-ttu-id="dd1ba-209">Nell'esempio seguente viene illustrato come utilizzare il <xref:System.Windows.Application.StartupUri%2A> da un'applicazione autonoma per aprire un <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-209">The following example shows how to use the <xref:System.Windows.Application.StartupUri%2A> from a standalone application to open a <xref:System.Windows.Window>.</span></span>  
  
 [!code-xaml[ApplicationManagementOverviewSnippets#OverviewStartupUriMARKUP](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/CSharp/App.xaml#overviewstartupurimarkup)]  
  
 <span data-ttu-id="dd1ba-210">Nell'esempio seguente viene illustrato come utilizzare <xref:System.Windows.Application.StartupUri%2A> da un [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] per passare a un <xref:System.Windows.Controls.Page>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-210">The following example shows how to use <xref:System.Windows.Application.StartupUri%2A> from an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] to navigate to a <xref:System.Windows.Controls.Page>.</span></span>  
  
 [!code-xaml[PageSnippets#XBAPStartupUriMARKUP](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PageSnippets/CSharp/App.xaml#xbapstartupurimarkup)]  
  
 <span data-ttu-id="dd1ba-211">Questo markup ha lo stesso effetto del codice precedente per l'apertura di una finestra.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-211">This markup has the same effect as the previous code for opening a window.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="dd1ba-212">Per ulteriori informazioni sulla navigazione, vedere [Navigation Overview](../../../../docs/framework/wpf/app-development/navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-212">For more information on navigation, see [Navigation Overview](../../../../docs/framework/wpf/app-development/navigation-overview.md).</span></span>  
  
 <span data-ttu-id="dd1ba-213">È necessario gestire il <xref:System.Windows.Application.Startup> evento per aprire un <xref:System.Windows.Window> se è necessario crearne un'istanza tramite un costruttore non predefinito, è necessario impostare le relative proprietà o sottoscrivere gli eventi prima di visualizzarlo o è necessario elaborare gli argomenti della riga di comando che sono stati forniti quando è stata avviata l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-213">You need to handle the <xref:System.Windows.Application.Startup> event to open a <xref:System.Windows.Window> if you need to instantiate it using a non-default constructor, or you need to set its properties or subscribe to its events before showing it, or you need to process any command-line arguments that were supplied when the application was launched.</span></span>  
  
<a name="Processing_Command_Line_Arguments"></a>   
### <a name="processing-command-line-arguments"></a><span data-ttu-id="dd1ba-214">Elaborazione di argomenti della riga di comando</span><span class="sxs-lookup"><span data-stu-id="dd1ba-214">Processing Command-Line Arguments</span></span>  
 <span data-ttu-id="dd1ba-215">In [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)], applicazioni autonome possono essere avviate da un prompt dei comandi o sul desktop.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-215">In [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)], standalone applications can be launched from either a command prompt or the desktop.</span></span> <span data-ttu-id="dd1ba-216">In entrambi i casi, è possibile passare argomenti della riga di comando all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-216">In both cases, command-line arguments can be passed to the application.</span></span> <span data-ttu-id="dd1ba-217">L'esempio seguente mostra un'applicazione avviata con un singolo argomento della riga di comando, "/StartMinimized":</span><span class="sxs-lookup"><span data-stu-id="dd1ba-217">The following example shows an application that is launched with a single command-line argument, "/StartMinimized":</span></span>  
  
 `wpfapplication.exe /StartMinimized`  
  
 <span data-ttu-id="dd1ba-218">Durante l'inizializzazione dell'applicazione, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] recupera gli argomenti della riga di comando del sistema operativo e li passa al <xref:System.Windows.Application.Startup> gestore tramite il <xref:System.Windows.StartupEventArgs.Args%2A> proprietà del <xref:System.Windows.StartupEventArgs> parametro.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-218">During application initialization, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] retrieves the command-line arguments from the operating system and passes them to the <xref:System.Windows.Application.Startup> event handler via the <xref:System.Windows.StartupEventArgs.Args%2A> property of the <xref:System.Windows.StartupEventArgs> parameter.</span></span> <span data-ttu-id="dd1ba-219">È possibile recuperare e archiviare gli argomenti della riga di comando usando un frammento di codice simile al seguente.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-219">You can retrieve and store the command-line arguments using code like the following.</span></span>  
  
 [!code-xaml[ApplicationStartupSnippets#HandleStartupXAML](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml#handlestartupxaml)]  
  
 [!code-csharp[ApplicationStartupSnippets#HandleStartupCODEBEHIND](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml.cs#handlestartupcodebehind)]
 [!code-vb[ApplicationStartupSnippets#HandleStartupCODEBEHIND](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationStartupSnippets/visualbasic/application.xaml.vb#handlestartupcodebehind)]  
  
 <span data-ttu-id="dd1ba-220">Il codice gestisce <xref:System.Windows.Application.Startup> per verificare se il **/StartMinimized** è stato specificato l'argomento della riga di comando; in caso affermativo, apre la finestra principale con una <xref:System.Windows.WindowState> di <xref:System.Windows.WindowState.Minimized>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-220">The code handles <xref:System.Windows.Application.Startup> to check whether the **/StartMinimized** command-line argument was provided; if so, it opens the main window with a <xref:System.Windows.WindowState> of <xref:System.Windows.WindowState.Minimized>.</span></span> <span data-ttu-id="dd1ba-221">Si noti che poiché il <xref:System.Windows.Window.WindowState%2A> deve essere impostata a livello di programmazione principale <xref:System.Windows.Window> deve essere aperto in modo esplicito nel codice.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-221">Note that because the <xref:System.Windows.Window.WindowState%2A> property must be set programmatically, the main <xref:System.Windows.Window> must be opened explicitly in code.</span></span>  
  
 [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]<span data-ttu-id="dd1ba-222">non è possibile recuperare ed elaborare gli argomenti della riga di comando, poiché vengono avviate tramite [!INCLUDE[TLA#tla_clickonce](../../../../includes/tlasharptla-clickonce-md.md)] distribuzione (vedere [distribuzione di un'applicazione WPF](../../../../docs/framework/wpf/app-development/deploying-a-wpf-application-wpf.md)).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-222"> cannot retrieve and process command-line arguments because they are launched using [!INCLUDE[TLA#tla_clickonce](../../../../includes/tlasharptla-clickonce-md.md)] deployment (see [Deploying a WPF Application](../../../../docs/framework/wpf/app-development/deploying-a-wpf-application-wpf.md)).</span></span> <span data-ttu-id="dd1ba-223">Tuttavia, possono recuperare ed elaborare parametri della stringa di query dagli URL usati per avviarle.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-223">However, they can retrieve and process query string parameters from the URLs that are used to launch them.</span></span>  
  
<a name="Application_Activation_and_Deactivation"></a>   
### <a name="application-activation-and-deactivation"></a><span data-ttu-id="dd1ba-224">Attivazione e disattivazione dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-224">Application Activation and Deactivation</span></span>  
 [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)]<span data-ttu-id="dd1ba-225"> permette agli utenti di passare tra applicazioni diverse.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-225"> allows users to switch between applications.</span></span> <span data-ttu-id="dd1ba-226">A questo scopo, il modo più comune consiste nell'usare la combinazione di tasti ALT+TAB.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-226">The most common way is to use the ALT+TAB key combination.</span></span> <span data-ttu-id="dd1ba-227">Un'applicazione può solo essere attivata se dispone di un oggetto visibile <xref:System.Windows.Window> che un utente può selezionare.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-227">An application can only be switched to if it has a visible <xref:System.Windows.Window> that a user can select.</span></span> <span data-ttu-id="dd1ba-228">Oggetto attualmente selezionato <xref:System.Windows.Window> è il *finestra attiva* (noto anche come il *finestra in primo piano*) ed è il <xref:System.Windows.Window> che riceve l'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-228">The currently selected <xref:System.Windows.Window> is the *active window* (also known as the *foreground window*) and is the <xref:System.Windows.Window> that receives user input.</span></span> <span data-ttu-id="dd1ba-229">L'applicazione con la finestra attiva è il *applicazione attiva* (o *applicazione in primo piano*).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-229">The application with the active window is the *active application* (or *foreground application*).</span></span> <span data-ttu-id="dd1ba-230">Un'applicazione diventa l'applicazione attiva nei casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-230">An application becomes the active application in the following circumstances:</span></span>  
  
-   <span data-ttu-id="dd1ba-231">Viene avviata e viene illustrato un <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-231">It is launched and shows a <xref:System.Windows.Window>.</span></span>  
  
-   <span data-ttu-id="dd1ba-232">Un utente passa da un'altra applicazione selezionando un <xref:System.Windows.Window> nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-232">A user switches from another application by selecting a <xref:System.Windows.Window> in the application.</span></span>  
  
 <span data-ttu-id="dd1ba-233">È possibile rilevare quando un'applicazione diventa attiva gestendo il <xref:System.Windows.Application.Activated?displayProperty=nameWithType> evento.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-233">You can detect when an application becomes active by handling the <xref:System.Windows.Application.Activated?displayProperty=nameWithType> event.</span></span>  
  
 <span data-ttu-id="dd1ba-234">Analogamente, un'applicazione può diventare inattiva nei casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-234">Likewise, an application can become inactive in the following circumstances:</span></span>  
  
-   <span data-ttu-id="dd1ba-235">Un utente passa a un'altra applicazione da quella corrente.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-235">A user switches to another application from the current one.</span></span>  
  
-   <span data-ttu-id="dd1ba-236">L'applicazione viene arrestata.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-236">When the application shuts down.</span></span>  
  
 <span data-ttu-id="dd1ba-237">È possibile rilevare quando un'applicazione diventa inattiva gestendo il <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> evento.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-237">You can detect when an application becomes inactive by handling the <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> event.</span></span>  
  
 <span data-ttu-id="dd1ba-238">Il codice seguente viene illustrato come gestire il <xref:System.Windows.Application.Activated> e <xref:System.Windows.Application.Deactivated> eventi per determinare se un'applicazione è attiva.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-238">The following code shows how to handle the <xref:System.Windows.Application.Activated> and <xref:System.Windows.Application.Deactivated> events to determine whether an application is active.</span></span>  
  
 [!code-xaml[ApplicationActivationSnippets#DetectActivationStateXAML](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationActivationSnippets/CSharp/App.xaml#detectactivationstatexaml)]  
  
 [!code-csharp[ApplicationActivationSnippets#DetectActivationStateCODEBEHIND](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationActivationSnippets/CSharp/App.xaml.cs#detectactivationstatecodebehind)]
 [!code-vb[ApplicationActivationSnippets#DetectActivationStateCODEBEHIND](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationActivationSnippets/visualbasic/application.xaml.vb#detectactivationstatecodebehind)]  
  
 <span data-ttu-id="dd1ba-239">Oggetto <xref:System.Windows.Window> può inoltre essere attivata e disattivata.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-239">A <xref:System.Windows.Window> can also be activated and deactivated.</span></span> <span data-ttu-id="dd1ba-240">Per altre informazioni, vedere <xref:System.Windows.Window.Activated?displayProperty=nameWithType> e <xref:System.Windows.Window.Deactivated?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-240">See <xref:System.Windows.Window.Activated?displayProperty=nameWithType> and <xref:System.Windows.Window.Deactivated?displayProperty=nameWithType> for more information.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="dd1ba-241">Né <xref:System.Windows.Application.Activated?displayProperty=nameWithType> né <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> viene generato per [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="dd1ba-241">Neither <xref:System.Windows.Application.Activated?displayProperty=nameWithType> nor <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> is raised for [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span></span>  
  
<a name="Application_Shutdown"></a>   
### <a name="application-shutdown"></a><span data-ttu-id="dd1ba-242">Arresto dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-242">Application Shutdown</span></span>  
 <span data-ttu-id="dd1ba-243">Il ciclo di vita di un'applicazione termina all'arresto dell'applicazione, che può essere dovuto ai motivi seguenti:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-243">The life of an application ends when it is shut down, which can occur for the following reasons:</span></span>  
  
-   <span data-ttu-id="dd1ba-244">Un utente chiude ogni <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-244">A user closes every <xref:System.Windows.Window>.</span></span>  
  
-   <span data-ttu-id="dd1ba-245">Un utente chiude l'oggetto principale <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-245">A user closes the main <xref:System.Windows.Window>.</span></span>  
  
-   <span data-ttu-id="dd1ba-246">Un utente termina la [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] sessione mediante disconnessione o chiusura.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-246">A user ends the [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session by logging off or shutting down.</span></span>  
  
-   <span data-ttu-id="dd1ba-247">È stata soddisfatta una condizione specifica dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-247">An application-specific condition has been met.</span></span>  
  
 <span data-ttu-id="dd1ba-248">Per gestire la chiusura dell'applicazione, <xref:System.Windows.Application> fornisce il <xref:System.Windows.Application.Shutdown%2A> (metodo), il <xref:System.Windows.Application.ShutdownMode%2A> , proprietà e il <xref:System.Windows.Application.SessionEnding> e <xref:System.Windows.Application.Exit> eventi.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-248">To help you manage application shutdown, <xref:System.Windows.Application> provides the <xref:System.Windows.Application.Shutdown%2A> method, the <xref:System.Windows.Application.ShutdownMode%2A> property, and the <xref:System.Windows.Application.SessionEnding> and <xref:System.Windows.Application.Exit> events.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="dd1ba-249"><xref:System.Windows.Application.Shutdown%2A>può essere chiamato solo da applicazioni che hanno <xref:System.Security.Permissions.UIPermission>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-249"><xref:System.Windows.Application.Shutdown%2A> can only be called from applications that have <xref:System.Security.Permissions.UIPermission>.</span></span> <span data-ttu-id="dd1ba-250">Autonomo [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applicazioni dispongono sempre di questa autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-250">Standalone [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications always have this permission.</span></span> <span data-ttu-id="dd1ba-251">Tuttavia, [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] in esecuzione in una sandbox di sicurezza con attendibilità parziale dell'area Internet non è necessario.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-251">However, [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] running in the Internet zone partial-trust security sandbox do not.</span></span>  
  
#### <a name="shutdown-mode"></a><span data-ttu-id="dd1ba-252">Modalità di arresto</span><span class="sxs-lookup"><span data-stu-id="dd1ba-252">Shutdown Mode</span></span>  
 <span data-ttu-id="dd1ba-253">La maggior parte delle applicazioni viene arrestata quando vengono chiuse tutte le finestre o quando viene chiusa la finestra principale.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-253">Most applications shut down either when all the windows are closed or when the main window is closed.</span></span> <span data-ttu-id="dd1ba-254">A volte, tuttavia, l'arresto può essere determinato da altre condizioni specifiche dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-254">Sometimes, however, other application-specific conditions may determine when an application shuts down.</span></span> <span data-ttu-id="dd1ba-255">È possibile specificare le condizioni in cui l'applicazione verrà chiusa impostando <xref:System.Windows.Application.ShutdownMode%2A> con uno dei seguenti <xref:System.Windows.ShutdownMode> valori di enumerazione:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-255">You can specify the conditions under which your application will shut down by setting <xref:System.Windows.Application.ShutdownMode%2A> with one of the following <xref:System.Windows.ShutdownMode> enumeration values:</span></span>  
  
-   <xref:System.Windows.ShutdownMode.OnLastWindowClose>  
  
-   <xref:System.Windows.ShutdownMode.OnMainWindowClose>  
  
-   <xref:System.Windows.ShutdownMode.OnExplicitShutdown>  
  
 <span data-ttu-id="dd1ba-256">Il valore predefinito di <xref:System.Windows.Application.ShutdownMode%2A> è <xref:System.Windows.ShutdownMode.OnLastWindowClose>, il che significa che un'applicazione viene automaticamente chiuso quando l'ultima finestra nell'applicazione viene chiusa dall'utente.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-256">The default value of <xref:System.Windows.Application.ShutdownMode%2A> is <xref:System.Windows.ShutdownMode.OnLastWindowClose>, which means that an application automatically shuts down when the last window in the application is closed by the user.</span></span> <span data-ttu-id="dd1ba-257">Tuttavia, se l'applicazione deve essere arrestato quando la finestra principale è chiusa, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] in modo che se si imposta <xref:System.Windows.Application.ShutdownMode%2A> a <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-257">However, if your application should be shut down when the main window is closed, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] automatically does that if you set <xref:System.Windows.Application.ShutdownMode%2A> to <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span></span> <span data-ttu-id="dd1ba-258">come illustrato nell'esempio riportato di seguito.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-258">This is shown in the following example.</span></span>  
  
 [!code-xaml[ApplicationShutdownModeSnippets#OnMainWindowCloseMARKUP](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationShutdownModeSnippets/CS/Page1.xaml#onmainwindowclosemarkup)]  
  
 <span data-ttu-id="dd1ba-259">Quando si dispone di condizioni di arresto specifici dell'applicazione, impostare <xref:System.Windows.Application.ShutdownMode%2A> a <xref:System.Windows.ShutdownMode.OnExplicitShutdown>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-259">When you have application-specific shutdown conditions, you set <xref:System.Windows.Application.ShutdownMode%2A> to <xref:System.Windows.ShutdownMode.OnExplicitShutdown>.</span></span> <span data-ttu-id="dd1ba-260">In questo caso, è necessario chiudere un'applicazione in modo esplicito chiamando il <xref:System.Windows.Application.Shutdown%2A> metodo; in caso contrario, l'applicazione continuerà l'esecuzione anche se tutte le finestre vengono chiusi.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-260">In this case, it is your responsibility to shut an application down by explicitly calling the <xref:System.Windows.Application.Shutdown%2A> method; otherwise, your application will continue running even if all the windows are closed.</span></span> <span data-ttu-id="dd1ba-261">Si noti che <xref:System.Windows.Application.Shutdown%2A> viene chiamato in modo implicito quando il <xref:System.Windows.Application.ShutdownMode%2A> è <xref:System.Windows.ShutdownMode.OnLastWindowClose> o <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-261">Note that <xref:System.Windows.Application.Shutdown%2A> is called implicitly when the <xref:System.Windows.Application.ShutdownMode%2A> is either <xref:System.Windows.ShutdownMode.OnLastWindowClose> or <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="dd1ba-262"><xref:System.Windows.Application.ShutdownMode%2A>può essere impostato da un [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)], ma viene ignorato; un [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] viene sempre chiuso quando si ci si sposta in un browser o se il browser che ospita il [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] è chiuso.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-262"><xref:System.Windows.Application.ShutdownMode%2A> can be set from an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)], but it is ignored; an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] is always shut down when it is navigated away from in a browser or when the browser that hosts the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] is closed.</span></span> <span data-ttu-id="dd1ba-263">Per altre informazioni, vedere [Cenni preliminari sulla navigazione](../../../../docs/framework/wpf/app-development/navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-263">For more information, see [Navigation Overview](../../../../docs/framework/wpf/app-development/navigation-overview.md).</span></span>  
  
#### <a name="session-ending"></a><span data-ttu-id="dd1ba-264">Fine della sessione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-264">Session Ending</span></span>  
 <span data-ttu-id="dd1ba-265">Le condizioni di chiusura che sono descritti i <xref:System.Windows.Application.ShutdownMode%2A> proprietà sono specifiche di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-265">The shutdown conditions that are described by the <xref:System.Windows.Application.ShutdownMode%2A> property are specific to an application.</span></span> <span data-ttu-id="dd1ba-266">In alcuni casi, tuttavia, un'applicazione può essere arrestata come conseguenza di una condizione esterna.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-266">In some cases, though, an application may shut down as a result of an external condition.</span></span> <span data-ttu-id="dd1ba-267">La condizione esterna più comune si verifica quando un utente termina la [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] sessione mediante le seguenti azioni:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-267">The most common external condition occurs when a user ends the [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session by the following actions:</span></span>  
  
-   <span data-ttu-id="dd1ba-268">Disconnessione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-268">Logging off</span></span>  
  
-   <span data-ttu-id="dd1ba-269">Arresto</span><span class="sxs-lookup"><span data-stu-id="dd1ba-269">Shutting down</span></span>  
  
-   <span data-ttu-id="dd1ba-270">Riavvio</span><span class="sxs-lookup"><span data-stu-id="dd1ba-270">Restarting</span></span>  
  
-   <span data-ttu-id="dd1ba-271">Ibernazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-271">Hibernating</span></span>  
  
 <span data-ttu-id="dd1ba-272">Per rilevare quando un [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] sessione termina, è possibile gestire il <xref:System.Windows.Application.SessionEnding> evento, come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-272">To detect when a [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session ends, you can handle the <xref:System.Windows.Application.SessionEnding> event, as illustrated in the following example.</span></span>  
  
 [!code-xaml[ApplicationSessionEndingSnippets#HandlingSessionEndingXAML](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSessionEndingSnippets/CSharp/App.xaml#handlingsessionendingxaml)]  
  
 [!code-csharp[ApplicationSessionEndingSnippets#HandlingSessionEndingCODEBEHIND](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSessionEndingSnippets/CSharp/App.xaml.cs#handlingsessionendingcodebehind)]
 [!code-vb[ApplicationSessionEndingSnippets#HandlingSessionEndingCODEBEHIND](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationSessionEndingSnippets/visualbasic/application.xaml.vb#handlingsessionendingcodebehind)]  
  
 <span data-ttu-id="dd1ba-273">In questo esempio, il codice controlla il <xref:System.Windows.SessionEndingCancelEventArgs.ReasonSessionEnding%2A> proprietà per determinare come [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] di chiusura della sessione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-273">In this example, the code inspects the <xref:System.Windows.SessionEndingCancelEventArgs.ReasonSessionEnding%2A> property to determine how the [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session is ending.</span></span> <span data-ttu-id="dd1ba-274">Il codice usa quindi questo valore per visualizzare un messaggio di conferma all'utente.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-274">It uses this value to display a confirmation message to the user.</span></span> <span data-ttu-id="dd1ba-275">Se l'utente non desidera terminare la sessione, il codice imposta <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> a `true` per impedire la [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] sessione da terminare.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-275">If the user does not want the session to end, the code sets <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> to `true` to prevent the [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session from ending.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="dd1ba-276"><xref:System.Windows.Application.SessionEnding>non viene generato per [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="dd1ba-276"><xref:System.Windows.Application.SessionEnding> is not raised for [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span></span>  
  
#### <a name="exit"></a><span data-ttu-id="dd1ba-277">Esci</span><span class="sxs-lookup"><span data-stu-id="dd1ba-277">Exit</span></span>  
 <span data-ttu-id="dd1ba-278">Quando un'applicazione viene arrestata, potrebbe dover eseguire alcune attività di elaborazione, come il salvataggio permanente dello stato dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-278">When an application shuts down, it may need to perform some final processing, such as persisting application state.</span></span> <span data-ttu-id="dd1ba-279">In questi casi, è possibile gestire il <xref:System.Windows.Application.Exit> evento.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-279">For these situations, you can handle the <xref:System.Windows.Application.Exit> event.</span></span>  
  
 [!code-xaml[HOWTOApplicationModelSnippets#PersistRestoreAppScopePropertiesXAML1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/CSharp/App.xaml#persistrestoreappscopepropertiesxaml1)]  
[!code-xaml[HOWTOApplicationModelSnippets#PersistRestoreAppScopePropertiesXAML2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/CSharp/App.xaml#persistrestoreappscopepropertiesxaml2)]  
  
 [!code-csharp[HOWTOApplicationModelSnippets#PersistAppScopePropertiesCODEBEHIND1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/CSharp/App.xaml.cs#persistappscopepropertiescodebehind1)]
 [!code-vb[HOWTOApplicationModelSnippets#PersistAppScopePropertiesCODEBEHIND1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/visualbasic/application.xaml.vb#persistappscopepropertiescodebehind1)]  
[!code-csharp[HOWTOApplicationModelSnippets#PersistAppScopePropertiesCODEBEHIND2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/CSharp/App.xaml.cs#persistappscopepropertiescodebehind2)]
[!code-vb[HOWTOApplicationModelSnippets#PersistAppScopePropertiesCODEBEHIND2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/visualbasic/application.xaml.vb#persistappscopepropertiescodebehind2)]  
  
 <span data-ttu-id="dd1ba-280">Per un esempio completo, vedere [persistente e ripristinare le proprietà dell'ambito dell'applicazione tra sessioni dell'applicazione](../../../../docs/framework/wpf/app-development/persist-and-restore-application-scope-properties.md).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-280">For the complete example, see [Persist and Restore Application-Scope Properties Across Application Sessions](../../../../docs/framework/wpf/app-development/persist-and-restore-application-scope-properties.md).</span></span>  
  
 <span data-ttu-id="dd1ba-281"><xref:System.Windows.Application.Exit>possono essere gestite da applicazioni autonome e [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="dd1ba-281"><xref:System.Windows.Application.Exit> can be handled by both standalone applications and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span></span> <span data-ttu-id="dd1ba-282">Per [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], <xref:System.Windows.Application.Exit> viene generato nei casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-282">For [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], <xref:System.Windows.Application.Exit> is raised when in the following circumstances:</span></span>  
  
-   <span data-ttu-id="dd1ba-283">Un [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] ci si sposta.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-283">An [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] is navigated away from.</span></span>  
  
-   <span data-ttu-id="dd1ba-284">In [!INCLUDE[TLA2#tla_ie7](../../../../includes/tla2sharptla-ie7-md.md)], quando la scheda che ospita il [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] è chiuso.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-284">In [!INCLUDE[TLA2#tla_ie7](../../../../includes/tla2sharptla-ie7-md.md)], when the tab that is hosting the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] is closed.</span></span>  
  
-   <span data-ttu-id="dd1ba-285">Viene chiuso il browser.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-285">When the browser is closed.</span></span>  
  
#### <a name="exit-code"></a><span data-ttu-id="dd1ba-286">Codice di uscita</span><span class="sxs-lookup"><span data-stu-id="dd1ba-286">Exit Code</span></span>  
 <span data-ttu-id="dd1ba-287">Nella maggior parte dei casi, le applicazioni vengono avviate dal sistema operativo in risposta a una richiesta dell'utente.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-287">Applications are mostly launched by the operating system in response to a user request.</span></span> <span data-ttu-id="dd1ba-288">Tuttavia, un'applicazione può essere avviata da un'altra applicazione per l'esecuzione di alcune attività specifiche.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-288">However, an application can be launched by another application to perform some specific task.</span></span> <span data-ttu-id="dd1ba-289">Quando l'applicazione avviata viene arrestata, l'applicazione che ne esegue l'avvio potrebbe voler identificare la condizione in base alla quale è stata arrestata l'applicazione avviata.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-289">When the launched application shuts down, the launching application may want to know the condition under which the launched application shut down.</span></span> <span data-ttu-id="dd1ba-290">In queste situazioni, [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] consente alle applicazioni di restituire un codice di uscita al momento della chiusura.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-290">In these situations, [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] allows applications to return an application exit code on shutdown.</span></span> <span data-ttu-id="dd1ba-291">Per impostazione predefinita, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] le applicazioni di restituire un valore di codice di uscita pari a 0.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-291">By default, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications return an exit code value of 0.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="dd1ba-292">Quando esegue il debug da [!INCLUDE[TLA2#tla_visualstu](../../../../includes/tla2sharptla-visualstu-md.md)], in cui viene visualizzato il codice di uscita di **Output** finestra quando l'applicazione viene arrestato, in un messaggio che sarà simile alla seguente:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-292">When you debug from [!INCLUDE[TLA2#tla_visualstu](../../../../includes/tla2sharptla-visualstu-md.md)], the application exit code is displayed in the     **Output** window when the application shuts down, in a message that looks like the following:</span></span>  
>   
>  `The program '[5340] AWPFApp.vshost.exe: Managed' has exited with code 0 (0x0).`  
>   
>  <span data-ttu-id="dd1ba-293">Si apre il **Output** dalla finestra **Output** sul **vista** menu.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-293">You open the     **Output** window by clicking     **Output** on the     **View** menu.</span></span>  
  
 <span data-ttu-id="dd1ba-294">Per modificare il codice di uscita, è possibile chiamare il <xref:System.Windows.Application.Shutdown%28System.Int32%29> overload che accetta un argomento integer per il codice di uscita:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-294">To change the exit code, you can call the <xref:System.Windows.Application.Shutdown%28System.Int32%29> overload, which accepts an integer argument to be the exit code:</span></span>  
  
 [!code-csharp[ApplicationExitSnippets#AppExitCODE](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationExitSnippets/CSharp/MainWindow.xaml.cs#appexitcode)]
 [!code-vb[ApplicationExitSnippets#AppExitCODE](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationExitSnippets/visualbasic/mainwindow.xaml.vb#appexitcode)]  
  
 <span data-ttu-id="dd1ba-295">È possibile rilevare il valore del codice di uscita e modificarla, gestendo la <xref:System.Windows.Application.Exit> evento.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-295">You can detect the value of the exit code, and change it, by handling the <xref:System.Windows.Application.Exit> event.</span></span> <span data-ttu-id="dd1ba-296">Il <xref:System.Windows.Application.Exit> gestore eventi viene passato un <xref:System.Windows.ExitEventArgs> che fornisce l'accesso al codice di uscita con il <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A> proprietà.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-296">The <xref:System.Windows.Application.Exit> event handler is passed an <xref:System.Windows.ExitEventArgs> which provides access to the exit code with the <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A> property.</span></span> <span data-ttu-id="dd1ba-297">Per altre informazioni, vedere <xref:System.Windows.Application.Exit>.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-297">For more information, see <xref:System.Windows.Application.Exit>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="dd1ba-298">È possibile impostare il codice di uscita in applicazioni autonome e [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="dd1ba-298">You can set the exit code in both standalone applications and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span></span> <span data-ttu-id="dd1ba-299">Tuttavia, il valore del codice di uscita viene ignorato per [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="dd1ba-299">However, the exit code value is ignored for [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span></span>  
  
<a name="Unhandled_Exceptions"></a>   
### <a name="unhandled-exceptions"></a><span data-ttu-id="dd1ba-300">Eccezioni non gestite</span><span class="sxs-lookup"><span data-stu-id="dd1ba-300">Unhandled Exceptions</span></span>  
 <span data-ttu-id="dd1ba-301">A volte un'applicazione può essere arrestata in base a condizioni anomale, ad esempio quando viene generata un'eccezione imprevista.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-301">Sometimes an application may shut down under abnormal conditions, such as when an unanticipated exception is thrown.</span></span> <span data-ttu-id="dd1ba-302">In questo caso, l'applicazione potrebbe non avere il codice per rilevare ed elaborare l'eccezione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-302">In this case, the application may not have the code to detect and process the exception.</span></span> <span data-ttu-id="dd1ba-303">Questo tipo di eccezione è un'eccezione non gestita. Prima che l'applicazione venga chiusa, viene visualizzata una notifica simile a quella mostrata nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-303">This type of exception is an unhandled exception; a notification similar to that shown in the following figure is displayed before the application is closed.</span></span>  
  
 <span data-ttu-id="dd1ba-304">![Notifica di eccezione non gestita](../../../../docs/framework/wpf/app-development/media/applicationmanagementoverviewfigure2.png "ApplicationManagementOverviewFigure2")</span><span class="sxs-lookup"><span data-stu-id="dd1ba-304">![Unhandled exception notification](../../../../docs/framework/wpf/app-development/media/applicationmanagementoverviewfigure2.png "ApplicationManagementOverviewFigure2")</span></span>  
  
 <span data-ttu-id="dd1ba-305">Dal punto di vista dell'esperienza utente, è preferibile per un'applicazione evitare il comportamento predefinito eseguendo alcune o tutte le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="dd1ba-305">From the user experience perspective, it is better for an application to avoid this default behavior by doing some or all of the following:</span></span>  
  
-   <span data-ttu-id="dd1ba-306">Visualizzare informazioni descrittive.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-306">Displaying user-friendly information.</span></span>  
  
-   <span data-ttu-id="dd1ba-307">Tentare di mantenere in esecuzione un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-307">Attempting to keep an application running.</span></span>  
  
-   <span data-ttu-id="dd1ba-308">La registrazione di informazioni dettagliate, semplice, eccezioni di [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] registro eventi.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-308">Recording detailed, developer-friendly, exception information in the [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] event log.</span></span>  
  
 <span data-ttu-id="dd1ba-309">Implementazione di questo supporto dipende in grado di rilevare le eccezioni non gestite, cioè che cosa il <xref:System.Windows.Application.DispatcherUnhandledException> evento viene generato per.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-309">Implementing this support depends on being able to detect unhandled exceptions, which is what the <xref:System.Windows.Application.DispatcherUnhandledException> event is raised for.</span></span>  
  
 [!code-xaml[ApplicationDispatcherUnhandledExceptionSnippets#HandleDispatcherUnhandledExceptionXAML](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/CSharp/App.xaml#handledispatcherunhandledexceptionxaml)]  
  
 [!code-csharp[ApplicationDispatcherUnhandledExceptionSnippets#HandleDispatcherUnhandledExceptionCODEBEHIND1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/CSharp/App.xaml.cs#handledispatcherunhandledexceptioncodebehind1)]
 [!code-vb[ApplicationDispatcherUnhandledExceptionSnippets#HandleDispatcherUnhandledExceptionCODEBEHIND1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/visualbasic/application.xaml.vb#handledispatcherunhandledexceptioncodebehind1)]  
[!code-csharp[ApplicationDispatcherUnhandledExceptionSnippets#HandleDispatcherUnhandledExceptionCODEBEHIND2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/CSharp/App.xaml.cs#handledispatcherunhandledexceptioncodebehind2)]
[!code-vb[ApplicationDispatcherUnhandledExceptionSnippets#HandleDispatcherUnhandledExceptionCODEBEHIND2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/visualbasic/application.xaml.vb#handledispatcherunhandledexceptioncodebehind2)]  
  
 <span data-ttu-id="dd1ba-310">Il <xref:System.Windows.Application.DispatcherUnhandledException> gestore eventi viene passato un <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs> parametro che contiene le informazioni contestuali relative all'eccezione non gestita, inclusa l'eccezione stessa (<xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Exception%2A?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="dd1ba-310">The <xref:System.Windows.Application.DispatcherUnhandledException> event handler is passed a <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs> parameter that contains contextual information regarding the unhandled exception, including the exception itself (<xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Exception%2A?displayProperty=nameWithType>).</span></span> <span data-ttu-id="dd1ba-311">È possibile usare queste informazioni per determinare come gestire l'eccezione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-311">You can use this information to determine how to handle the exception.</span></span>  
  
 <span data-ttu-id="dd1ba-312">Quando si gestisce <xref:System.Windows.Application.DispatcherUnhandledException>, è necessario impostare il <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A?displayProperty=nameWithType> proprietà `true`; in caso contrario, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] ancora considera la generazione dell'eccezione non gestita e viene ripristinato il comportamento predefinito descritto in precedenza.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-312">When you handle <xref:System.Windows.Application.DispatcherUnhandledException>, you should set the <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A?displayProperty=nameWithType> property to `true`; otherwise, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] still considers the exception to be unhandled and reverts to the default behavior described earlier.</span></span> <span data-ttu-id="dd1ba-313">Se viene generata un'eccezione non gestita e la <xref:System.Windows.Application.DispatcherUnhandledException> evento non viene gestito o l'evento è gestito e <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A> è impostato su `false`, l'applicazione viene chiusa immediatamente.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-313">If an unhandled exception is raised and either the <xref:System.Windows.Application.DispatcherUnhandledException> event is not handled, or the event is handled and <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A> is set to `false`, the application shuts down immediately.</span></span> <span data-ttu-id="dd1ba-314">Inoltre, nessun altro <xref:System.Windows.Application> vengono generati eventi.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-314">Furthermore, no other <xref:System.Windows.Application> events are raised.</span></span> <span data-ttu-id="dd1ba-315">Di conseguenza, è necessario gestire <xref:System.Windows.Application.DispatcherUnhandledException> se l'applicazione dispone di codice da eseguita prima l'arresto dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-315">Consequently, you need to handle <xref:System.Windows.Application.DispatcherUnhandledException> if your application has code that must run before the application shuts down.</span></span>  
  
 <span data-ttu-id="dd1ba-316">Benché un'applicazione possa essere arrestata come conseguenza di un'eccezione non gestita, in genere viene arrestata in risposta a una richiesta dell'utente, come descritto nella prossima sezione.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-316">Although an application may shut down as a result of an unhandled exception, an application usually shuts down in response to a user request, as discussed in the next section.</span></span>  
  
<a name="Application_Lifetime_Events"></a>   
### <a name="application-lifetime-events"></a><span data-ttu-id="dd1ba-317">Eventi del ciclo di vita dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-317">Application Lifetime Events</span></span>  
 <span data-ttu-id="dd1ba-318">Applicazioni autonome e [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] non è esattamente la stessa durata.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-318">Standalone applications and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] don't have exactly the same lifetimes.</span></span> <span data-ttu-id="dd1ba-319">La figura seguente mostra gli eventi principali nel ciclo di vita di un'applicazione autonoma, nella sequenza in cui vengono generati.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-319">The following figure illustrates the key events in the lifetime of a standalone application and shows the sequence in which they are raised.</span></span>  
  
 <span data-ttu-id="dd1ba-320">![Applicazione indipendente &#45; Eventi dell'oggetto Application](../../../../docs/framework/wpf/app-development/media/applicationmodeloverview-applicationobjectevents.png "ApplicationModelOverview_ApplicationObjectEvents")</span><span class="sxs-lookup"><span data-stu-id="dd1ba-320">![Standalone Application &#45; Application Object Events](../../../../docs/framework/wpf/app-development/media/applicationmodeloverview-applicationobjectevents.png "ApplicationModelOverview_ApplicationObjectEvents")</span></span>  
  
 <span data-ttu-id="dd1ba-321">Analogamente, la figura seguente illustra gli eventi principali nella durata di un [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]e viene illustrata la sequenza in cui vengono generati.</span><span class="sxs-lookup"><span data-stu-id="dd1ba-321">Likewise, the following figure illustrates the key events in the lifetime of an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)], and shows the sequence in which they are raised.</span></span>  
  
 <span data-ttu-id="dd1ba-322">![XBAP &#45; Eventi dell'oggetto Application](../../../../docs/framework/wpf/app-development/media/applicationmodeloverview-applicationobjectevents-xbap.png "ApplicationModelOverview_ApplicationObjectEvents_xbap")</span><span class="sxs-lookup"><span data-stu-id="dd1ba-322">![XBAP &#45; Application Object Events](../../../../docs/framework/wpf/app-development/media/applicationmodeloverview-applicationobjectevents-xbap.png "ApplicationModelOverview_ApplicationObjectEvents_xbap")</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dd1ba-323">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="dd1ba-323">See Also</span></span>  
 <xref:System.Windows.Application>  
 [<span data-ttu-id="dd1ba-324">Panoramica sulle finestre WPF</span><span class="sxs-lookup"><span data-stu-id="dd1ba-324">WPF Windows Overview</span></span>](../../../../docs/framework/wpf/app-development/wpf-windows-overview.md)  
 [<span data-ttu-id="dd1ba-325">Cenni preliminari sulla navigazione</span><span class="sxs-lookup"><span data-stu-id="dd1ba-325">Navigation Overview</span></span>](../../../../docs/framework/wpf/app-development/navigation-overview.md)  
 [<span data-ttu-id="dd1ba-326">File di dati e di risorse dell'applicazione WPF</span><span class="sxs-lookup"><span data-stu-id="dd1ba-326">WPF Application Resource, Content, and Data Files</span></span>](../../../../docs/framework/wpf/app-development/wpf-application-resource-content-and-data-files.md)  
 [<span data-ttu-id="dd1ba-327">URI di tipo pack in WPF</span><span class="sxs-lookup"><span data-stu-id="dd1ba-327">Pack URIs in WPF</span></span>](../../../../docs/framework/wpf/app-development/pack-uris-in-wpf.md)  
 [<span data-ttu-id="dd1ba-328">Il modello di applicazione: Procedure</span><span class="sxs-lookup"><span data-stu-id="dd1ba-328">Application Model: How-to Topics</span></span>](http://msdn.microsoft.com/library/76771b09-3688-4d1c-8818-9b3f4cf39a30)  
 [<span data-ttu-id="dd1ba-329">Sviluppo di applicazioni</span><span class="sxs-lookup"><span data-stu-id="dd1ba-329">Application Development</span></span>](../../../../docs/framework/wpf/app-development/index.md)
