---
title: Raccolte e tipi di raccolte per XAML
ms.date: 03/30/2017
ms.assetid: 58f8e7c6-9a41-4f25-8551-c042f1315baa
ms.openlocfilehash: 5605c97b13503e18e2f698f2a19f715663052b08
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/04/2018
ms.locfileid: "33562976"
---
# <a name="collections-and-collection-types-for-xaml"></a><span data-ttu-id="3577b-102">Raccolte e tipi di raccolte per XAML</span><span class="sxs-lookup"><span data-stu-id="3577b-102">Collections and Collection Types for XAML</span></span>
<span data-ttu-id="3577b-103">In questo argomento viene descritto come definire le proprietà dei tipi che servono per supportare una raccolta e per supportare la sintassi XAML per creare un'istanza di elementi della raccolta come elementi figlio di un elemento oggetto padre o un elemento di proprietà.</span><span class="sxs-lookup"><span data-stu-id="3577b-103">This topic describes how to define properties of types that are intended to support a collection, and to support the XAML syntax for instantiating collection items as element children of a parent object element or property element.</span></span>  
  
## <a name="xaml-collection-concepts"></a><span data-ttu-id="3577b-104">Concetti di raccolta XAML</span><span class="sxs-lookup"><span data-stu-id="3577b-104">XAML Collection Concepts</span></span>  
 <span data-ttu-id="3577b-105">Concettualmente, tutte le relazioni nel codice XAML in cui sono presenti più elementi figlio all'interno dell'ambito di un elemento oggetto XAML o elemento proprietà XAML deve essere implementata come una raccolta.</span><span class="sxs-lookup"><span data-stu-id="3577b-105">Conceptually, any relationship in XAML where there are multiple child items within the scope of a XAML object element or XAML property element must be implemented as a collection.</span></span> <span data-ttu-id="3577b-106">Tale raccolta deve essere associata a una proprietà XAML specifica del tipo XAML che rappresenta l'elemento padre nella relazione.</span><span class="sxs-lookup"><span data-stu-id="3577b-106">That collection must be associated with a particular XAML property of the XAML type that is the parent in that relationship.</span></span> <span data-ttu-id="3577b-107">La proprietà deve essere una raccolta perché un processore XAML prevede di assegnare a ogni elemento nel markup per un elemento appena aggiunto il supporto della proprietà di raccolta.</span><span class="sxs-lookup"><span data-stu-id="3577b-107">The property must be a collection because a XAML processor expects to assign each item in markup to be a newly added item of the backing collection property.</span></span>  
  
 <span data-ttu-id="3577b-108">A livello di linguaggio XAML, i requisiti specifici di supporto delle raccolte non completamente definiti.</span><span class="sxs-lookup"><span data-stu-id="3577b-108">At the XAML language level, the exact requirements of collection support are not fully defined.</span></span> <span data-ttu-id="3577b-109">Il concetto che può essere una raccolta di un elenco o un dizionario (ma non entrambi) è definito a livello di linguaggio XAML, ma i tipi di supporto rappresentano entrambi gli elenchi o dizionari non è definito dal linguaggio XAML.</span><span class="sxs-lookup"><span data-stu-id="3577b-109">The concept that a collection can be either a list or a dictionary(but not both) is defined at the XAML language level, but which backing types represent either lists or dictionaries is not defined by the XAML language.</span></span>  
  
 <span data-ttu-id="3577b-110">Nei servizi XAML di .NET Framework, il concetto di supporto delle raccolte XAML viene definito in modo più chiaro in termini di tipi di supporto di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3577b-110">In .NET Framework XAML Services, the concept of XAML collection support is more clearly defined in terms of .NET Framework backing types.</span></span> <span data-ttu-id="3577b-111">In particolare, il supporto XAML per raccolte si basa su diversi concetti di .NET Framework e le API che vengono utilizzate per elenchi e dizionari nella programmazione generale di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3577b-111">Specifically, the XAML support for collections is based on several .NET Framework concepts and APIs that are used for lists and dictionaries in general .NET Framework programming.</span></span>  
  
1.  <span data-ttu-id="3577b-112">Il <xref:System.Collections.IList> interfaccia indica una raccolta di elenchi.</span><span class="sxs-lookup"><span data-stu-id="3577b-112">The <xref:System.Collections.IList> interface indicates a list collection.</span></span>  
  
2.  <span data-ttu-id="3577b-113">Il <xref:System.Collections.IDictionary> interfaccia indica un insieme di dicionary.</span><span class="sxs-lookup"><span data-stu-id="3577b-113">The <xref:System.Collections.IDictionary> interface indicates a dicionary collection.</span></span>  
  
3.  <span data-ttu-id="3577b-114"><xref:System.Array> rappresenta una matrice e una matrice supporta <xref:System.Collections.IList> metodi.</span><span class="sxs-lookup"><span data-stu-id="3577b-114"><xref:System.Array> represents an array, and an array supports <xref:System.Collections.IList> methods.</span></span>  
  
 <span data-ttu-id="3577b-115">In ognuno di questi concetti di raccolta, un processore XAML dei servizi XAML di .NET Framework prevede di chiamare il `Add` metodo in un'istanza specifica del tipo della proprietà di raccolta.</span><span class="sxs-lookup"><span data-stu-id="3577b-115">In each of these collection concepts, a .NET Framework XAML Services XAML processor expects to call the `Add` method on a specific instance of the collection property's type.</span></span> <span data-ttu-id="3577b-116">In alternativa, in uno scenario di serializzazione, un processore XAML produce istanze di tipo XAML discrete per ogni elemento nell'elenco, dizionario o della matrice basata sul concetto di specifiche di ogni raccolta di "Elementi".</span><span class="sxs-lookup"><span data-stu-id="3577b-116">Or, in a serialization scenario, a XAML processor produces discrete XAML-type instances for each item found in the list, dictionary or array based on each collection's specific concept of "Items".</span></span> <span data-ttu-id="3577b-117">Questi sono: <xref:System.Collections.IList.Item%2A>; <xref:System.Collections.IDictionary.Item%2A>; esplicita <xref:System.Array.System%23Collections%23IList%23Item%2A> per <xref:System.Array>.</span><span class="sxs-lookup"><span data-stu-id="3577b-117">These are : <xref:System.Collections.IList.Item%2A>; <xref:System.Collections.IDictionary.Item%2A>; the explicit <xref:System.Array.System%23Collections%23IList%23Item%2A> for <xref:System.Array>.</span></span>  
  
## <a name="generic-collections"></a><span data-ttu-id="3577b-118">Raccolte generiche</span><span class="sxs-lookup"><span data-stu-id="3577b-118">Generic Collections</span></span>  
 <span data-ttu-id="3577b-119">Raccolte generiche possono essere utile per la programmazione generale di .NET Framework e utilizzabili per le proprietà di raccolta XAML.</span><span class="sxs-lookup"><span data-stu-id="3577b-119">Generic collections can be useful for general .NET Framework programming, and can also be used for XAML collection properties.</span></span> <span data-ttu-id="3577b-120">Tuttavia, il generico interfacce <xref:System.Collections.Generic.IList%601> e <xref:System.Collections.Generic.IDictionary%602> non sono identificate dai processori XAML dei servizi XAML di .NET Framework equivalenti al non generico <xref:System.Collections.IList> o <xref:System.Collections.IDictionary>.</span><span class="sxs-lookup"><span data-stu-id="3577b-120">However, the generic interfaces <xref:System.Collections.Generic.IList%601> and <xref:System.Collections.Generic.IDictionary%602> are not identified by .NET Framework XAML Services XAML processors as being equivalent to the non-generic <xref:System.Collections.IList> or <xref:System.Collections.IDictionary>.</span></span> <span data-ttu-id="3577b-121">Anziché implementare le interfacce, un approccio consigliato per i tipi di proprietà di raccolta generica è derivano dalle classi <xref:System.Collections.Generic.List%601> o <xref:System.Collections.Generic.Dictionary%602>.</span><span class="sxs-lookup"><span data-stu-id="3577b-121">Rather than implementing the interfaces, a recommended approach for generic collection property types is to derive from the classes <xref:System.Collections.Generic.List%601> or <xref:System.Collections.Generic.Dictionary%602>.</span></span> <span data-ttu-id="3577b-122">Queste classi implementano le interfacce non generiche e pertanto includono il supporto previsto per le raccolte XAML nell'implementazione di base.</span><span class="sxs-lookup"><span data-stu-id="3577b-122">These classes implement the non-generic interfaces and thus include the expected support for XAML collections in the base implementation.</span></span>  
  
## <a name="read-only-collections-and-initialization-logic"></a><span data-ttu-id="3577b-123">Le raccolte di sola lettura e la logica di inizializzazione</span><span class="sxs-lookup"><span data-stu-id="3577b-123">Read-Only Collections and Initialization Logic</span></span>  
 <span data-ttu-id="3577b-124">In .NET Framework di programmazione, è un modello di progettazione comune per qualsiasi proprietà che contiene un valore di un insieme come una raccolta di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="3577b-124">In .NET Framework programming, it is a common design pattern to make any property that holds a value of a collection as a read-only collection.</span></span> <span data-ttu-id="3577b-125">Questo modello consente l'istanza che possiede la proprietà di raccolta per controllare meglio cosa accade alla raccolta...</span><span class="sxs-lookup"><span data-stu-id="3577b-125">This pattern permits the instance that owns the collection property to better control what happens to the collection..</span></span> <span data-ttu-id="3577b-126">In particolare, il modello impedisce la sostituzione accidentale dell'intera raccolta di pre-esistente impostando la proprietà.</span><span class="sxs-lookup"><span data-stu-id="3577b-126">Specifically, the pattern prevents accidental replacement of the entire pre-existing collection by setting the property.</span></span> <span data-ttu-id="3577b-127">In questo modello, qualsiasi accesso alla raccolta da parte dei chiamanti invece prevedere chiamando metodi o proprietà supportata dal tipo di raccolta e/o le interfacce di raccolta rilevanti, ad esempio <xref:System.Collections.IList>.</span><span class="sxs-lookup"><span data-stu-id="3577b-127">In this pattern, any access to the collection by callers should instead be made by calling methods or properties as supported by the collection type and/or the relevant collection interfaces such as <xref:System.Collections.IList>.</span></span>  
  
 <span data-ttu-id="3577b-128">Mediante questo pattern implica che qualsiasi classe che espone una proprietà della raccolta di sola lettura prima di tutto necessario inizializzare tale proprietà per contenere una raccolta vuota.</span><span class="sxs-lookup"><span data-stu-id="3577b-128">Using this pattern implies that any class that exposes a read-only collection property must first initialize that property to hold an empty collection.</span></span> <span data-ttu-id="3577b-129">In genere l'inizializzazione viene eseguita come parte del comportamento della costruzione della classe.</span><span class="sxs-lookup"><span data-stu-id="3577b-129">Typically the initialization is performed as part of the construction behavior for the class.</span></span> <span data-ttu-id="3577b-130">Per essere utile per XAML, è importante che tale logica viene sempre fatto riferimento dal costruttore predefinito, poiché XAML è in genere chiama il costruttore predefinito prima di elaborare le proprietà (proprietà della raccolta o in caso contrario).</span><span class="sxs-lookup"><span data-stu-id="3577b-130">To be useful for XAML, it is important that such logic is always referenced by the default constructor, because XAML generally calls the default constructor prior to processing the properties (collection properties or otherwise).</span></span>  
  
## <a name="xaml-type-system-support-and-collections"></a><span data-ttu-id="3577b-131">Raccolte e supporto di sistema di tipo XAML</span><span class="sxs-lookup"><span data-stu-id="3577b-131">XAML Type System Support and Collections</span></span>  
 <span data-ttu-id="3577b-132">Oltre il meccanismo di base per l'analisi XAML e la compilazione o la serializzazione delle proprietà della raccolta, il sistema di tipi XAML implementati nei servizi XAML di .NET Framework include diverse funzionalità di progettazione relativi alle raccolte in XAML.</span><span class="sxs-lookup"><span data-stu-id="3577b-132">Beyond the basic mechanics of parsing XAML and populating or serializing collection properties, the XAML type system as implemented in .NET Framework XAML Services includes several design features that pertain to collections in XAML.</span></span>  
  
1.  <span data-ttu-id="3577b-133"><xref:System.Xaml.XamlType.IsCollection%2A> Restituisce true se il tipo XAML viene eseguito da un tipo che fornisce supporto delle raccolte XAML.</span><span class="sxs-lookup"><span data-stu-id="3577b-133"><xref:System.Xaml.XamlType.IsCollection%2A> returns true if the XAML type is backed by a type that provides XAML collection support.</span></span>  
  
2.  <span data-ttu-id="3577b-134"><xref:System.Xaml.XamlType.IsDictionary%2A> e <xref:System.Xaml.XamlType.IsArray%2A> può identificare ulteriormente la modalità di raccolta supporta il tipo XAML.</span><span class="sxs-lookup"><span data-stu-id="3577b-134"><xref:System.Xaml.XamlType.IsDictionary%2A> and <xref:System.Xaml.XamlType.IsArray%2A> can further identify which collection mode the XAML type supports.</span></span> <span data-ttu-id="3577b-135">Per XAML personalizzato processori che si basano su servizi XAML di .NET Framework e il codice XAML, sistema di tipi ma non basato su esistente <xref:System.Xaml.XamlWriter> implementazioni di conoscere la modalità di raccolta utilizzata potrebbe essere necessario per sapere quale metodo da richiamare per elaborazione della raccolta.</span><span class="sxs-lookup"><span data-stu-id="3577b-135">For custom XAML processors that are based on .NET Framework XAML Services and the XAML type system but not based on existing <xref:System.Xaml.XamlWriter> implementations, knowing which collection mode is used might be necessary in order to know which method to invoke for collection processing.</span></span>  
  
3.  <span data-ttu-id="3577b-136">Ognuno dei valori di proprietà precedente sono potenzialmente influenzate dalle sostituzioni di <xref:System.Xaml.XamlType.LookupCollectionKind%2A> su un tipo XAML.</span><span class="sxs-lookup"><span data-stu-id="3577b-136">Each of the previous property values are potentially influenced by overrides of <xref:System.Xaml.XamlType.LookupCollectionKind%2A> on a XAML type.</span></span>
