---
title: Diagnostica degli errori tramite gli assistenti al debug gestito
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords:
- EHMDA
helpviewer_keywords:
- run-time error debugging
- managed code, run-time debugging
- resource debugging
- registry, MDAs
- common language runtime, debugging
- MDAs (managed debugging assistants)
- configuration files [.NET Framework], debugging runtime events
- messages, managed debugging assistants
- application configuration files, managed debugging assistants
- debugging [.NET Framework], managed debugging assistants
- environment variables, MDAs
- access violation debugging [.NET Framework]
- diagnostics, managed debugging assistants
- unmanaged code, run-time debugging
- default debug output stream
- memory, debugging
- app.config files, managed debugging assistants
- managed debugging assistants (MDAs)
- debugging [.NET Framework], run-time errors
- trapping events
- runtime, error debugging
- disabling MDAs
- output, managed debugging assistants
- errors [.NET Framework], managed debugging assistants
ms.assetid: 76994ee6-9fa9-4059-b813-26578d24427c
caps.latest.revision: 
author: mairaw
ms.author: mairaw
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 12a96068412f05d48b8b006385c66f3efbbf9870
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/22/2017
---
# <a name="diagnosing-errors-with-managed-debugging-assistants"></a><span data-ttu-id="5a12a-102">Diagnostica degli errori tramite gli assistenti al debug gestito</span><span class="sxs-lookup"><span data-stu-id="5a12a-102">Diagnosing Errors with Managed Debugging Assistants</span></span>
<span data-ttu-id="5a12a-103">Gli assistenti al debug gestito sono strumenti per il debug da usare insieme a CLR (Common Language Runtime) per fornire informazioni sullo stato del runtime.</span><span class="sxs-lookup"><span data-stu-id="5a12a-103">Managed debugging assistants (MDAs) are debugging aids that work in conjunction with the common language runtime (CLR) to provide information on runtime state.</span></span> <span data-ttu-id="5a12a-104">Gli assistenti generano messaggi informativi su eventi di runtime che non possono essere intercettati in altro modo.</span><span class="sxs-lookup"><span data-stu-id="5a12a-104">The assistants generate informational messages about runtime events that you cannot otherwise trap.</span></span> <span data-ttu-id="5a12a-105">È possibile usare gli assistenti al debug gestito per isolare bug di applicazione difficili da individuare, che si verificano durante la transizione tra codice gestito e non gestito.</span><span class="sxs-lookup"><span data-stu-id="5a12a-105">You can use MDAs to isolate hard-to-find application bugs that occur when transitioning between managed and unmanaged code.</span></span> <span data-ttu-id="5a12a-106">È possibile abilitare o disabilitare tutti gli assistenti al debug gestito aggiungendo una chiave al Registro di sistema di Windows oppure impostando una variabile di ambiente.</span><span class="sxs-lookup"><span data-stu-id="5a12a-106">You can enable or disable all MDAs by adding a key to the Windows registry or by setting an environment variable.</span></span> <span data-ttu-id="5a12a-107">Le impostazioni di configurazione dell'applicazione permettono di abilitare assistenti al debug gestito specifici.</span><span class="sxs-lookup"><span data-stu-id="5a12a-107">You can enable specific MDAs by using application configuration settings.</span></span> <span data-ttu-id="5a12a-108">È possibile definire impostazioni di configurazione aggiuntive per alcuni singoli assistenti al debug gestito nel file di configurazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5a12a-108">You can set additional configuration settings for some individual MDAs in the application's configuration file.</span></span> <span data-ttu-id="5a12a-109">Poiché questi file di configurazione sono analizzati durante il caricamento del runtime, è necessario abilitare l'assistente al debug gestito prima dell'avvio dell'applicazione gestita.</span><span class="sxs-lookup"><span data-stu-id="5a12a-109">Because these configuration files are parsed when the runtime is loaded, you must enable the MDA before the managed application starts.</span></span> <span data-ttu-id="5a12a-110">Non è possibile abilitarlo per applicazioni già avviate.</span><span class="sxs-lookup"><span data-stu-id="5a12a-110">You cannot enable it for applications that have already started.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5a12a-111">Quando un assistente al debug gestito è stato avviato, sarà attivo anche quando il codice non è in esecuzione in un debugger.</span><span class="sxs-lookup"><span data-stu-id="5a12a-111">When an MDA is enabled, it is active even when your code is not executing under a debugger.</span></span> <span data-ttu-id="5a12a-112">Se un evento dell'assistente al debug gestito è generato quando non è presente alcun debugger, il messaggio relativo all'evento è visualizzato in una finestra di dialogo per eccezioni non gestite, anche se non si tratta di un'eccezione non gestita.</span><span class="sxs-lookup"><span data-stu-id="5a12a-112">If an MDA event is raised when a debugger is not present, the event message is presented in an unhandled exception dialog box, although it is not an unhandled exception.</span></span> <span data-ttu-id="5a12a-113">Per evitare la visualizzazione della finestra di dialogo, rimuovere l'impostazione per l'abilitazione dell'assistente al debug gestito quando il codice non è in esecuzione in un ambiente di debug.</span><span class="sxs-lookup"><span data-stu-id="5a12a-113">To avoid the dialog box, remove the MDA-enabling settings when your code is not executing in a debugging environment.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5a12a-114">Quando il codice è in esecuzione nell'ambiente di sviluppo integrato (IDE, Integrated Development Environment) di Visual Studio, è possibile evitare la finestra di dialogo per le eccezioni visualizzata per eventi dell'assistente al debug gestito specifici.</span><span class="sxs-lookup"><span data-stu-id="5a12a-114">When your code is executing in the Visual Studio integrated development environment (IDE), you can avoid the exception dialog box that appears for specific MDA events.</span></span> <span data-ttu-id="5a12a-115">A tale scopo, scegliere **Eccezioni** dal menu **Debug**.</span><span class="sxs-lookup"><span data-stu-id="5a12a-115">To do that, on the **Debug** menu, click **Exceptions**.</span></span> <span data-ttu-id="5a12a-116">Se il menu **Debug** non include un comando **Eccezioni**, scegliere **Personalizza** dal menu **Strumenti** per aggiungerlo. Nella finestra di dialogo **Eccezioni** espandere l'elenco **Assistenti al debug gestito**, quindi deselezionare la casella di controllo **Generata** per il singolo assistente al debug gestito.</span><span class="sxs-lookup"><span data-stu-id="5a12a-116">(If the **Debug** menu does not contain an **Exceptions** command, click **Customize** on the **Tools** menu to add it.) In the **Exceptions** dialog box, expand the **Managed Debugging Assistants** list, and then clear the **Thrown** check box for the individual MDA.</span></span> <span data-ttu-id="5a12a-117">Ad esempio, per evitare la finestra di dialogo per le eccezioni per [contextSwitchDeadlock](../../../docs/framework/debug-trace-profile/contextswitchdeadlock-mda.md), deselezionare la casella di controllo **Generata** accanto al nome corrispondente nell'elenco **Assistenti al debug gestito**.</span><span class="sxs-lookup"><span data-stu-id="5a12a-117">For example, to avoid the exception dialog box for a [contextSwitchDeadlock](../../../docs/framework/debug-trace-profile/contextswitchdeadlock-mda.md) clear the **Thrown** check box next to its name in the **Managed Debugging Assistants** list.</span></span> <span data-ttu-id="5a12a-118">È anche possibile usare questa finestra di dialogo per abilitare la visualizzazione delle finestre di dialogo per le eccezioni dell'assistente al debug gestito.</span><span class="sxs-lookup"><span data-stu-id="5a12a-118">You can also use this dialog box to enable the display of MDA exception dialog boxes.</span></span>  
  
 <span data-ttu-id="5a12a-119">Nella tabella seguente sono elencati gli assistenti al debug gestito disponibili in .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="5a12a-119">The following table lists the MDAs that ship with the .NET Framework.</span></span>  
  
|||  
|-|-|  
|[<span data-ttu-id="5a12a-120">asynchronousThreadAbort</span><span class="sxs-lookup"><span data-stu-id="5a12a-120">asynchronousThreadAbort</span></span>](../../../docs/framework/debug-trace-profile/asynchronousthreadabort-mda.md)|[<span data-ttu-id="5a12a-121">bindingFailure</span><span class="sxs-lookup"><span data-stu-id="5a12a-121">bindingFailure</span></span>](../../../docs/framework/debug-trace-profile/bindingfailure-mda.md)|  
|[<span data-ttu-id="5a12a-122">callbackOnCollectedDelegate</span><span class="sxs-lookup"><span data-stu-id="5a12a-122">callbackOnCollectedDelegate</span></span>](../../../docs/framework/debug-trace-profile/callbackoncollecteddelegate-mda.md)|[<span data-ttu-id="5a12a-123">contextSwitchDeadlock</span><span class="sxs-lookup"><span data-stu-id="5a12a-123">contextSwitchDeadlock</span></span>](../../../docs/framework/debug-trace-profile/contextswitchdeadlock-mda.md)|  
|[<span data-ttu-id="5a12a-124">dangerousThreadingAPI</span><span class="sxs-lookup"><span data-stu-id="5a12a-124">dangerousThreadingAPI</span></span>](../../../docs/framework/debug-trace-profile/dangerousthreadingapi-mda.md)|[<span data-ttu-id="5a12a-125">dateTimeInvalidLocalFormat</span><span class="sxs-lookup"><span data-stu-id="5a12a-125">dateTimeInvalidLocalFormat</span></span>](../../../docs/framework/debug-trace-profile/datetimeinvalidlocalformat-mda.md)|  
|[<span data-ttu-id="5a12a-126">dirtyCastAndCallOnInterface</span><span class="sxs-lookup"><span data-stu-id="5a12a-126">dirtyCastAndCallOnInterface</span></span>](../../../docs/framework/debug-trace-profile/dirtycastandcalloninterface-mda.md)|[<span data-ttu-id="5a12a-127">disconnectedContext</span><span class="sxs-lookup"><span data-stu-id="5a12a-127">disconnectedContext</span></span>](../../../docs/framework/debug-trace-profile/disconnectedcontext-mda.md)|  
|[<span data-ttu-id="5a12a-128">dllMainReturnsFalse</span><span class="sxs-lookup"><span data-stu-id="5a12a-128">dllMainReturnsFalse</span></span>](../../../docs/framework/debug-trace-profile/dllmainreturnsfalse-mda.md)|[<span data-ttu-id="5a12a-129">exceptionSwallowedOnCallFromCom</span><span class="sxs-lookup"><span data-stu-id="5a12a-129">exceptionSwallowedOnCallFromCom</span></span>](../../../docs/framework/debug-trace-profile/exceptionswallowedoncallfromcom-mda.md)|  
|[<span data-ttu-id="5a12a-130">failedQI</span><span class="sxs-lookup"><span data-stu-id="5a12a-130">failedQI</span></span>](../../../docs/framework/debug-trace-profile/failedqi-mda.md)|[<span data-ttu-id="5a12a-131">fatalExecutionEngineError</span><span class="sxs-lookup"><span data-stu-id="5a12a-131">fatalExecutionEngineError</span></span>](../../../docs/framework/debug-trace-profile/fatalexecutionengineerror-mda.md)|  
|[<span data-ttu-id="5a12a-132">gcManagedToUnmanaged</span><span class="sxs-lookup"><span data-stu-id="5a12a-132">gcManagedToUnmanaged</span></span>](../../../docs/framework/debug-trace-profile/gcmanagedtounmanaged-mda.md)|[<span data-ttu-id="5a12a-133">gcUnmanagedToManaged</span><span class="sxs-lookup"><span data-stu-id="5a12a-133">gcUnmanagedToManaged</span></span>](../../../docs/framework/debug-trace-profile/gcunmanagedtomanaged-mda.md)|  
|[<span data-ttu-id="5a12a-134">illegalPrepareConstrainedRegion</span><span class="sxs-lookup"><span data-stu-id="5a12a-134">illegalPrepareConstrainedRegion</span></span>](../../../docs/framework/debug-trace-profile/illegalprepareconstrainedregion-mda.md)|[<span data-ttu-id="5a12a-135">invalidApartmentStateChange</span><span class="sxs-lookup"><span data-stu-id="5a12a-135">invalidApartmentStateChange</span></span>](../../../docs/framework/debug-trace-profile/invalidapartmentstatechange-mda.md)|  
|[<span data-ttu-id="5a12a-136">invalidCERCall</span><span class="sxs-lookup"><span data-stu-id="5a12a-136">invalidCERCall</span></span>](../../../docs/framework/debug-trace-profile/invalidcercall-mda.md)|[<span data-ttu-id="5a12a-137">invalidFunctionPointerInDelegate</span><span class="sxs-lookup"><span data-stu-id="5a12a-137">invalidFunctionPointerInDelegate</span></span>](../../../docs/framework/debug-trace-profile/invalidfunctionpointerindelegate-mda.md)|  
|[<span data-ttu-id="5a12a-138">invalidGCHandleCookie</span><span class="sxs-lookup"><span data-stu-id="5a12a-138">invalidGCHandleCookie</span></span>](../../../docs/framework/debug-trace-profile/invalidgchandlecookie-mda.md)|[<span data-ttu-id="5a12a-139">invalidIUnknown</span><span class="sxs-lookup"><span data-stu-id="5a12a-139">invalidIUnknown</span></span>](../../../docs/framework/debug-trace-profile/invalidiunknown-mda.md)|  
|[<span data-ttu-id="5a12a-140">invalidMemberDeclaration</span><span class="sxs-lookup"><span data-stu-id="5a12a-140">invalidMemberDeclaration</span></span>](../../../docs/framework/debug-trace-profile/invalidmemberdeclaration-mda.md)|[<span data-ttu-id="5a12a-141">invalidOverlappedToPinvoke</span><span class="sxs-lookup"><span data-stu-id="5a12a-141">invalidOverlappedToPinvoke</span></span>](../../../docs/framework/debug-trace-profile/invalidoverlappedtopinvoke-mda.md)|  
|[<span data-ttu-id="5a12a-142">invalidVariant</span><span class="sxs-lookup"><span data-stu-id="5a12a-142">invalidVariant</span></span>](../../../docs/framework/debug-trace-profile/invalidvariant-mda.md)|[<span data-ttu-id="5a12a-143">jitCompilationStart</span><span class="sxs-lookup"><span data-stu-id="5a12a-143">jitCompilationStart</span></span>](../../../docs/framework/debug-trace-profile/jitcompilationstart-mda.md)|  
|[<span data-ttu-id="5a12a-144">loaderLock</span><span class="sxs-lookup"><span data-stu-id="5a12a-144">loaderLock</span></span>](../../../docs/framework/debug-trace-profile/loaderlock-mda.md)|[<span data-ttu-id="5a12a-145">loadFromContext</span><span class="sxs-lookup"><span data-stu-id="5a12a-145">loadFromContext</span></span>](../../../docs/framework/debug-trace-profile/loadfromcontext-mda.md)|  
|[<span data-ttu-id="5a12a-146">marshalCleanupError</span><span class="sxs-lookup"><span data-stu-id="5a12a-146">marshalCleanupError</span></span>](../../../docs/framework/debug-trace-profile/marshalcleanuperror-mda.md)|[<span data-ttu-id="5a12a-147">marshaling</span><span class="sxs-lookup"><span data-stu-id="5a12a-147">marshaling</span></span>](../../../docs/framework/debug-trace-profile/marshaling-mda.md)|  
|[<span data-ttu-id="5a12a-148">memberInfoCacheCreation</span><span class="sxs-lookup"><span data-stu-id="5a12a-148">memberInfoCacheCreation</span></span>](../../../docs/framework/debug-trace-profile/memberinfocachecreation-mda.md)|[<span data-ttu-id="5a12a-149">moduloObjectHashcode</span><span class="sxs-lookup"><span data-stu-id="5a12a-149">moduloObjectHashcode</span></span>](../../../docs/framework/debug-trace-profile/moduloobjecthashcode-mda.md)|  
|[<span data-ttu-id="5a12a-150">nonComVisibleBaseClass</span><span class="sxs-lookup"><span data-stu-id="5a12a-150">nonComVisibleBaseClass</span></span>](../../../docs/framework/debug-trace-profile/noncomvisiblebaseclass-mda.md)|[<span data-ttu-id="5a12a-151">notMarshalable</span><span class="sxs-lookup"><span data-stu-id="5a12a-151">notMarshalable</span></span>](../../../docs/framework/debug-trace-profile/notmarshalable-mda.md)|  
|[<span data-ttu-id="5a12a-152">openGenericCERCall</span><span class="sxs-lookup"><span data-stu-id="5a12a-152">openGenericCERCall</span></span>](../../../docs/framework/debug-trace-profile/opengenericcercall-mda.md)|[<span data-ttu-id="5a12a-153">overlappedFreeError</span><span class="sxs-lookup"><span data-stu-id="5a12a-153">overlappedFreeError</span></span>](../../../docs/framework/debug-trace-profile/overlappedfreeerror-mda.md)|  
|[<span data-ttu-id="5a12a-154">pInvokeLog</span><span class="sxs-lookup"><span data-stu-id="5a12a-154">pInvokeLog</span></span>](../../../docs/framework/debug-trace-profile/pinvokelog-mda.md)|[<span data-ttu-id="5a12a-155">pInvokeStackImbalance</span><span class="sxs-lookup"><span data-stu-id="5a12a-155">pInvokeStackImbalance</span></span>](../../../docs/framework/debug-trace-profile/pinvokestackimbalance-mda.md)|  
|[<span data-ttu-id="5a12a-156">raceOnRCWCleanup</span><span class="sxs-lookup"><span data-stu-id="5a12a-156">raceOnRCWCleanup</span></span>](../../../docs/framework/debug-trace-profile/raceonrcwcleanup-mda.md)|[<span data-ttu-id="5a12a-157">reentrancy</span><span class="sxs-lookup"><span data-stu-id="5a12a-157">reentrancy</span></span>](../../../docs/framework/debug-trace-profile/reentrancy-mda.md)|  
|[<span data-ttu-id="5a12a-158">releaseHandleFailed</span><span class="sxs-lookup"><span data-stu-id="5a12a-158">releaseHandleFailed</span></span>](../../../docs/framework/debug-trace-profile/releasehandlefailed-mda.md)|[<span data-ttu-id="5a12a-159">reportAvOnComRelease</span><span class="sxs-lookup"><span data-stu-id="5a12a-159">reportAvOnComRelease</span></span>](../../../docs/framework/debug-trace-profile/reportavoncomrelease-mda.md)|  
|[<span data-ttu-id="5a12a-160">streamWriterBufferedDataLost</span><span class="sxs-lookup"><span data-stu-id="5a12a-160">streamWriterBufferedDataLost</span></span>](../../../docs/framework/debug-trace-profile/streamwriterbuffereddatalost-mda.md)|[<span data-ttu-id="5a12a-161">virtualCERCall</span><span class="sxs-lookup"><span data-stu-id="5a12a-161">virtualCERCall</span></span>](../../../docs/framework/debug-trace-profile/virtualcercall-mda.md)|  
  
 <span data-ttu-id="5a12a-162">Per impostazione predefinita, .NET Framework attiva un sottoinsieme di assistenti al debug gestito per tutti i debugger gestiti.</span><span class="sxs-lookup"><span data-stu-id="5a12a-162">By default, the .NET Framework activates a subset of MDAs for all managed debuggers.</span></span> <span data-ttu-id="5a12a-163">È possibile visualizzare il set predefinito in Visual Studio scegliendo **Eccezioni** dal menu **Debug** ed espandendo l'elenco **Assistenti al debug gestito**.</span><span class="sxs-lookup"><span data-stu-id="5a12a-163">You can view the default set in Visual Studio by clicking **Exceptions** on the **Debug** menu and expanding the **Managed Debugging Assistants** list.</span></span>  
  
## <a name="enabling-and-disabling-mdas"></a><span data-ttu-id="5a12a-164">Abilitazione e disabilitazione di assistenti al debug gestito</span><span class="sxs-lookup"><span data-stu-id="5a12a-164">Enabling and Disabling MDAs</span></span>  
 <span data-ttu-id="5a12a-165">È possibile abilitare e disabilitare gli assistenti al debug gestito usando una chiave del Registro di sistema, una variabile di ambiente e impostazioni di configurazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5a12a-165">You can enable and disable MDAs by using a registry key, an environment variable, and application configuration settings.</span></span> <span data-ttu-id="5a12a-166">Per usare le impostazioni di configurazione dell'applicazione, è necessario abilitare la chiave del Registro di sistema o la variabile di ambiente.</span><span class="sxs-lookup"><span data-stu-id="5a12a-166">You must enable either the registry key or the environment variable to use the application configuration settings.</span></span>  
  
 <span data-ttu-id="5a12a-167">In Visual Studio 2005 e versioni successive non sarà possibile disabilitare gli assistenti al debug gestito inclusi nel set predefinito o abilitare assistenti al debug gestito non inclusi nel set predefinito se il processo di hosting è abilitato.</span><span class="sxs-lookup"><span data-stu-id="5a12a-167">In Visual Studio 2005 and later versions, when the hosting process is enabled, you cannot disable MDAs that are in the default set or enable MDAs that are not in the default set.</span></span> <span data-ttu-id="5a12a-168">Poiché il processo di hosting è abilitato per impostazione predefinita, sarà necessario disabilitarlo in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="5a12a-168">The hosting process is enabled by default, so it must be explicitly disabled.</span></span>  
  
 <span data-ttu-id="5a12a-169">Per disabilitare il processo di hosting in Visual Studio, eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="5a12a-169">To disable the hosting process in Visual Studio, do the following:</span></span>  
  
1.  <span data-ttu-id="5a12a-170">Selezionare un progetto in **Esplora soluzioni**.</span><span class="sxs-lookup"><span data-stu-id="5a12a-170">In **Solution Explorer**, select a project.</span></span>  
  
2.  <span data-ttu-id="5a12a-171">Scegliere **Proprietà** dal menu **Progetto**.</span><span class="sxs-lookup"><span data-stu-id="5a12a-171">On the **Project** menu, click **Properties**.</span></span>  
  
     <span data-ttu-id="5a12a-172">Sarà visualizzata la finestra **Creazione progetti**.</span><span class="sxs-lookup"><span data-stu-id="5a12a-172">The **Project Designer** window appears.</span></span>  
  
3.  <span data-ttu-id="5a12a-173">Fare clic sulla scheda **Debug**.</span><span class="sxs-lookup"><span data-stu-id="5a12a-173">Click the **Debug** tab.</span></span>  
  
4.  <span data-ttu-id="5a12a-174">Nella sezione **Attiva debugger** deselezionare la casella di controllo **Attiva il processo di hosting di Visual Studio**.</span><span class="sxs-lookup"><span data-stu-id="5a12a-174">In the **Enable Debuggers** section, clear the **Enable the Visual Studio hosting process** check box.</span></span>  
  
 <span data-ttu-id="5a12a-175">La disabilitazione del processo di hosting, tuttavia, potrebbe influire negativamente sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="5a12a-175">However, disabling the hosting process can affect performance.</span></span> <span data-ttu-id="5a12a-176">Per evitare di dovere disattivare gli assistenti al debug gestito, impedire a Visual Studio di disattivare la finestra di dialogo relativa all'assistente al debug gestito quando si riceve una notifica.</span><span class="sxs-lookup"><span data-stu-id="5a12a-176">You can avoid the need to disable MDAs by preventing Visual Studio from displaying the MDA dialog box whenever an MDA notification is received.</span></span> <span data-ttu-id="5a12a-177">A tale scopo, scegliere **Eccezioni** dal menu **Debug**, espandere l'elenco **Assistenti al debug gestito** e quindi selezionare o deselezionare la casella di controllo **Generata** per il singolo assistente al debug gestito.</span><span class="sxs-lookup"><span data-stu-id="5a12a-177">To do that, click **Exceptions** on the **Debug** menu, expand the **Managed Debugging Assistants** list, and then select or clear the **Thrown** check box for the individual MDA.</span></span>  
  
### <a name="enabling-and-disabling-mdas-by-using-a-registry-key"></a><span data-ttu-id="5a12a-178">Abilitazione e disabilitazione di assistenti al debug gestito tramite una chiave del Registro di sistema</span><span class="sxs-lookup"><span data-stu-id="5a12a-178">Enabling and Disabling MDAs by Using a Registry Key</span></span>  
 <span data-ttu-id="5a12a-179">È possibile abilitare gli assistenti al debug gestito aggiungendo la sottochiave HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\\.NETFramework\MDA (tipo REG_SZ, valore 1) al Registro di sistema di Windows.</span><span class="sxs-lookup"><span data-stu-id="5a12a-179">You can enable MDAs by adding the HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\\.NETFramework\MDA subkey (type REG_SZ, value 1) in the Windows registry.</span></span> <span data-ttu-id="5a12a-180">Copiare l'esempio seguente in un file di testo con nome MDAEnable.reg. Aprire l'editor del Registro di sistema di Windows (RegEdit.exe) e scegliere **Importa** dal menu **File**.</span><span class="sxs-lookup"><span data-stu-id="5a12a-180">Copy the following example into a text file named MDAEnable.reg. Open the Windows Registry Editor (RegEdit.exe) and from the **File** menu choose **Import**.</span></span> <span data-ttu-id="5a12a-181">Selezionare il file MDAEnable.reg per abilitare l'assistente al debug gestito in tale computer.</span><span class="sxs-lookup"><span data-stu-id="5a12a-181">Select the MDAEnable.reg  file to enable MDAs on that computer.</span></span> <span data-ttu-id="5a12a-182">Se si imposta la sottochiave sul valore di stringa pari a 1 (non il valore DWORD pari a 1), sarà abilitata la lettura delle impostazioni dell'assistente al debug gestito dal file *NomeApplicazione.suffisso*.mda.config.</span><span class="sxs-lookup"><span data-stu-id="5a12a-182">Setting the subkey to string value of 1 (not DWORD value of 1) enables the reading of MDA settings from the *ApplicationName.suffix*.mda.config file.</span></span> <span data-ttu-id="5a12a-183">Ad esempio il nome del file di configurazione dell'assistente al debug gestito per Blocco note sarà blocconote.exe.mda.config.</span><span class="sxs-lookup"><span data-stu-id="5a12a-183">(For example the MDA configuration file for Notepad would be named notepad.exe.mda.config)</span></span>  
  
```  
Windows Registry Editor Version 5.00  
  
[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework]  
"MDA"="1"  
```  
  
 <span data-ttu-id="5a12a-184">Se il computer esegue un'applicazione a 32 bit in un sistema operativo a 64 bit, la chiave dell'assistente al debug gestito deve essere configurata come segue:</span><span class="sxs-lookup"><span data-stu-id="5a12a-184">If the computer is running a 32-bit application on a 64-bit operating system, then the MDA key should be set like the following:</span></span>  
  
```  
      Windows Registry Editor Version 5.00   
  
[HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\.NETFramework]  
"MDA"="1"  
```  
  
 <span data-ttu-id="5a12a-185">Per altre informazioni, vedere [Abilitazione e disabilitazione di assistenti al debug gestito tramite impostazioni di configurazione specifiche dell'applicazione](#appConfig).</span><span class="sxs-lookup"><span data-stu-id="5a12a-185">See [Enabling and Disabling MDAs by Using Application-Specific Configuration Settings](#appConfig) for more information.</span></span> <span data-ttu-id="5a12a-186">L'impostazione del Registro di sistema può essere sostituita dalla variabile di ambiente COMPLUS_MDA.</span><span class="sxs-lookup"><span data-stu-id="5a12a-186">The registry setting can be overridden by the COMPLUS_MDA environment variable.</span></span> <span data-ttu-id="5a12a-187">Per altre informazioni, vedere [Abilitazione e disabilitazione di assistenti al debug gestito tramite una variabile di ambiente](#envVariable).</span><span class="sxs-lookup"><span data-stu-id="5a12a-187">See [Enabling and Disabling MDAs by Using an Environment Variable](#envVariable) for more information.</span></span>  
  
 <span data-ttu-id="5a12a-188">Per disabilitare gli assistenti al debug gestito, impostare la sottochiave relativa a MDA su 0 (zero) usando l'editor del Registro di sistema di Windows.</span><span class="sxs-lookup"><span data-stu-id="5a12a-188">To disable MDAs, set the MDA subkey to 0 (zero) using the Windows Registry Editor.</span></span>  
  
 <span data-ttu-id="5a12a-189">Per impostazione predefinita, alcuni assistenti al debug gestito sono abilitati quando si esegue un'applicazione associata a un debugger, anche se non si aggiunge la chiave del Registro di sistema,</span><span class="sxs-lookup"><span data-stu-id="5a12a-189">By default, some MDAs are enabled when you run an application that is attached to a debugger, even without adding the registry key.</span></span> <span data-ttu-id="5a12a-190">Esempi di tali assistenti sono [pInvokeStackImbalance](../../../docs/framework/debug-trace-profile/pinvokestackimbalance-mda.md) e [invalidApartmentStateChange](../../../docs/framework/debug-trace-profile/invalidapartmentstatechange-mda.md).</span><span class="sxs-lookup"><span data-stu-id="5a12a-190">Examples of such assistants are [pInvokeStackImbalance](../../../docs/framework/debug-trace-profile/pinvokestackimbalance-mda.md) and [invalidApartmentStateChange](../../../docs/framework/debug-trace-profile/invalidapartmentstatechange-mda.md).</span></span> <span data-ttu-id="5a12a-191">È possibile disabilitare questi assistenti eseguendo il file MDADisable.reg, come descritto in precedenza in questa sezione.</span><span class="sxs-lookup"><span data-stu-id="5a12a-191">You can disable these assistants by running the MDADisable.reg file as described earlier in this section.</span></span>  
  
<a name="envVariable"></a>   
### <a name="enabling-and-disabling-mdas-by-using-an-environment-variable"></a><span data-ttu-id="5a12a-192">Abilitazione e disabilitazione di assistenti al debug gestito tramite una variabile di ambiente</span><span class="sxs-lookup"><span data-stu-id="5a12a-192">Enabling and Disabling MDAs by Using an Environment Variable</span></span>  
 <span data-ttu-id="5a12a-193">L'attivazione dell'assistente al debug gestito può essere controllata anche dalla variabile di ambiente COMPLUS_MDA, che sostituisce la chiave del Registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="5a12a-193">MDA activation can also controlled by the environment variable COMPLUS_MDA, which overrides the registry key.</span></span> <span data-ttu-id="5a12a-194">La stringa COMPLUS_MDA è un elenco di nomi di assistenti al debug gestito o di altre stringhe di controllo speciali delimitato da punto e virgola e in cui non è applicata la distinzione tra maiuscole/minuscole.</span><span class="sxs-lookup"><span data-stu-id="5a12a-194">The COMPLUS_MDA string is a case-insensitive, semicolon-delimited list of MDA names or other special control strings.</span></span> <span data-ttu-id="5a12a-195">L'avvio con un debugger gestito o non gestito abilita un set di assistenti al debug gestito per impostazione predefinita,</span><span class="sxs-lookup"><span data-stu-id="5a12a-195">Starting under a managed or unmanaged debugger enables a set of MDAs by default.</span></span> <span data-ttu-id="5a12a-196">aggiungendo in modo implicito l'elenco delimitato da punto e virgola di assistenti al debug gestito abilitati per impostazione predefinita con i debugger davanti al valore della variabile di ambiente o della chiave del Registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="5a12a-196">This is done by implicitly prepending the semicolon-delimited list of MDAs enabled by default under debuggers to the value of the environment variable or registry key.</span></span> <span data-ttu-id="5a12a-197">Di seguito sono elencate le stringhe di controllo speciali:</span><span class="sxs-lookup"><span data-stu-id="5a12a-197">The special control strings are the following:</span></span>  
  
-   <span data-ttu-id="5a12a-198">`0` - Disattiva tutti gli assistenti al debug gestito.</span><span class="sxs-lookup"><span data-stu-id="5a12a-198">`0` - Deactivates all MDAs.</span></span>  
  
-   <span data-ttu-id="5a12a-199">`1`: legge le impostazioni dell'assistente al debug gestito da *NomeApplicazione*.mda.config.</span><span class="sxs-lookup"><span data-stu-id="5a12a-199">`1` - Reads MDA settings from *ApplicationName*.mda.config.</span></span>  
  
-   <span data-ttu-id="5a12a-200">`managedDebugger` - Attiva esplicitamente tutti gli assistenti al debug gestito attivati in modo implicito quando si avvia un eseguibile gestito con un debugger.</span><span class="sxs-lookup"><span data-stu-id="5a12a-200">`managedDebugger` - Explicitly activates all MDAs that are implicitly activated when a managed executable is started under a debugger.</span></span>  
  
-   <span data-ttu-id="5a12a-201">`unmanagedDebugger` - Attiva esplicitamente tutti gli assistenti al debug gestito attivati in modo implicito quando si avvia un eseguibile non gestito con un debugger.</span><span class="sxs-lookup"><span data-stu-id="5a12a-201">`unmanagedDebugger` - Explicitly activates all MDAs that are implicitly activated when an unmanaged executable is started under a debugger.</span></span>  
  
 <span data-ttu-id="5a12a-202">In caso di conflitto, le impostazioni più recenti eseguono l'override di quelle precedenti:</span><span class="sxs-lookup"><span data-stu-id="5a12a-202">If there are conflicting settings, the most recent settings override previous settings:</span></span>  
  
-   <span data-ttu-id="5a12a-203">`COMPLUS_MDA=0` disabilita tutti gli assistenti al debug gestito, inclusi quelli abilitati in modo implicito con un debugger.</span><span class="sxs-lookup"><span data-stu-id="5a12a-203">`COMPLUS_MDA=0` disables all MDAs, including those implicitly enabled under a debugger.</span></span>  
  
-   <span data-ttu-id="5a12a-204">`COMPLUS_MDA=gcUnmanagedToManaged` abilita `gcUnmanagedToManaged`, oltre a eventuali assistenti al debug gestito abilitati in modo implicito con un debugger.</span><span class="sxs-lookup"><span data-stu-id="5a12a-204">`COMPLUS_MDA=gcUnmanagedToManaged` enables `gcUnmanagedToManaged` in addition to any MDAs that are implicitly enabled under a debugger.</span></span>  
  
-   <span data-ttu-id="5a12a-205">`COMPLUS_MDA=0;gcUnmanagedToManaged` abilita `gcUnmanagedToManaged` ma disabilita gli assistenti al debug gestito che sarebbero altrimenti abilitati in modo implicito con un debugger.</span><span class="sxs-lookup"><span data-stu-id="5a12a-205">`COMPLUS_MDA=0;gcUnmanagedToManaged` enables `gcUnmanagedToManaged` but disables MDAs that would otherwise be implicitly enabled under a debugger.</span></span>  
  
<a name="appConfig"></a>   
### <a name="enabling-and-disabling-mdas-by-using-application-specific-configuration-settings"></a><span data-ttu-id="5a12a-206">Abilitazione e disabilitazione di assistenti al debug gestito tramite impostazioni di configurazione specifiche dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="5a12a-206">Enabling and Disabling MDAs by Using Application-Specific Configuration Settings</span></span>  
 <span data-ttu-id="5a12a-207">È possibile abilitare, disabilitare e configurare individualmente alcuni assistenti nel file di configurazione MDA per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5a12a-207">You can enable, disable, and configure some assistants individually in the MDA configuration file for the application.</span></span> <span data-ttu-id="5a12a-208">Per abilitare l'uso di un file di configurazione dell'applicazione al fine di configurare gli assistenti al debug gestito, è necessario impostare la chiave del Registro di sistema relativa a MDA o la variabile di ambiente COMPLUS_MDA.</span><span class="sxs-lookup"><span data-stu-id="5a12a-208">To enable the use of an application configuration file for configuring MDAs, either the MDA registry key or the COMPLUS_MDA environment variable must be set.</span></span> <span data-ttu-id="5a12a-209">Il file di configurazione dell'applicazione si trova in genere nella stessa directory del file eseguibile (con estensione exe) dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5a12a-209">The application configuration file is typically located in the same directory as the application's executable (.exe) file.</span></span> <span data-ttu-id="5a12a-210">Il formato del nome del file è *NomeApplicazione*.mda.config. Ad esempio, blocconote.exe.mda.config. Gli assistenti abilitati nel file di configurazione dell'applicazione potrebbero disporre di attributi o elementi progettati in modo specifico per il controllo del comportamento dell'assistente.</span><span class="sxs-lookup"><span data-stu-id="5a12a-210">The file name takes the form *ApplicationName*.mda.config; for example, notepad.exe.mda.config. Assistants that are enabled in the application configuration file may have attributes or elements specifically designed to control that assistant's behavior.</span></span> <span data-ttu-id="5a12a-211">L'esempio seguente mostra come abilitare e configurare il [marshalling](../../../docs/framework/debug-trace-profile/marshaling-mda.md).</span><span class="sxs-lookup"><span data-stu-id="5a12a-211">The following example shows how to enable and configure the [marshaling](../../../docs/framework/debug-trace-profile/marshaling-mda.md).</span></span>  
  
```xml  
<mdaConfig>  
  <assistants>  
    <marshaling>  
      <methodFilter>  
        <match name="*"/>  
      </methodFilter>  
      <fieldFilter>  
        <match name="*"/>  
      </fieldFilter>  
    </marshaling>  
  </assistants>  
</mdaConfig>  
```  
  
 <span data-ttu-id="5a12a-212">L'assistente `Marshaling` emette informazioni sul tipo gestito di cui si sta eseguendo il marshalling a un tipo non gestito per ogni transizione da gestito a non gestito nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5a12a-212">The `Marshaling` MDA emits information about the managed type that is being marshaled to an unmanaged type for each managed-to-unmanaged transition in the application.</span></span> <span data-ttu-id="5a12a-213">L'assistente al debug gestito per il `Marshaling` può anche filtrare i nomi dei campi metodo e struttura forniti rispettivamente negli elementi figlio `<methodFilter>` e `<fieldFilter>`.</span><span class="sxs-lookup"><span data-stu-id="5a12a-213">The `Marshaling` MDA can also filter the names of the method and structure fields supplied in the `<methodFilter>` and `<fieldFilter>` child elements, respectively.</span></span>  
  
 <span data-ttu-id="5a12a-214">L'esempio seguente mostra come abilitare più assistenti al debug gestito usando le rispettive impostazioni predefinite.</span><span class="sxs-lookup"><span data-stu-id="5a12a-214">The following example shows how to enable multiple MDAs by using their default settings.</span></span>  
  
```xml  
<mdaConfig>  
  <assistants>  
    <illegalPrepareConstrainedRegion />  
    <invalidCERCall />  
    <openGenericCERCall />  
    <virtualCERCall />  
  </assistants>  
</mdaConfig>  
```  
  
> [!IMPORTANT]
>  <span data-ttu-id="5a12a-215">Se si specifica più di un assistente in un file di configurazione, è necessario elencarli in ordine alfabetico.</span><span class="sxs-lookup"><span data-stu-id="5a12a-215">When you specify more than one assistant in a configuration file, you must list them in alphabetical order.</span></span> <span data-ttu-id="5a12a-216">Ad esempio, per abilitare gli assistenti `virtualCERCall` e `invalidCERCall`, è necessario aggiungere la voce `<invalidCERCall />` prima della voce `<virtualCERCall />`.</span><span class="sxs-lookup"><span data-stu-id="5a12a-216">For example, if you want to enable both the `virtualCERCall` and the `invalidCERCall` MDAs, you must add the `<invalidCERCall />` entry before the `<virtualCERCall />` entry.</span></span> <span data-ttu-id="5a12a-217">Se le voci non sono in ordine alfabetico, sarà visualizzato un messaggio relativo a un'eccezione non gestita per file di configurazione non valido.</span><span class="sxs-lookup"><span data-stu-id="5a12a-217">If the entries are not in alphabetical order, an unhandled invalid configuration file exception message is displayed.</span></span>  
  
### <a name="mda-output"></a><span data-ttu-id="5a12a-218">Output degli assistenti al debug gestito</span><span class="sxs-lookup"><span data-stu-id="5a12a-218">MDA Output</span></span>  
 <span data-ttu-id="5a12a-219">L'output degli assistenti al debug gestito è analogo all'esempio seguente, che mostra l'output dall'assistente `pInvokeStackImbalance`.</span><span class="sxs-lookup"><span data-stu-id="5a12a-219">MDA output is similar to the following example, which shows the output from the `pInvokeStackImbalance` MDA.</span></span>  
  
 `A call to PInvoke function 'MDATest!MDATest.Program::StdCall' has unbalanced the stack. This is likely because the managed PInvoke signature does not match the unmanaged target signature. Check that the calling convention and parameters of the PInvoke signature match the target unmanaged signature.`  
  
## <a name="see-also"></a><span data-ttu-id="5a12a-220">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="5a12a-220">See Also</span></span>  
 [<span data-ttu-id="5a12a-221">Debug, traccia e profilatura</span><span class="sxs-lookup"><span data-stu-id="5a12a-221">Debugging, Tracing, and Profiling</span></span>](../../../docs/framework/debug-trace-profile/index.md)
