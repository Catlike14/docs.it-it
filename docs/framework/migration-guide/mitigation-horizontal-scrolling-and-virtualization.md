---
title: 'Mitigazione: Scorrimento orizzontale e virtualizzazione'
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-bcl
- dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: d5bafd9b-a3b3-4f92-8241-2aad254fb1a9
caps.latest.revision: 6
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.translationtype: HT
ms.sourcegitcommit: 306c608dc7f97594ef6f72ae0f5aaba596c936e1
ms.openlocfilehash: 40eaf185e9c0c60493e9a2e5428c58b7463789fe
ms.contentlocale: it-it
ms.lasthandoff: 07/28/2017

---
# <a name="mitigation-horizontal-scrolling-and-virtualization"></a><span data-ttu-id="befdc-102">Mitigazione: Scorrimento orizzontale e virtualizzazione</span><span class="sxs-lookup"><span data-stu-id="befdc-102">Mitigation: Horizontal Scrolling and Virtualization</span></span>
<span data-ttu-id="befdc-103">Questa modifica si applica a un elemento <xref:System.Windows.Controls.ItemsControl> che esegue la propria virtualizzazione in direzione ortogonale alla direzione di scorrimento principale.</span><span class="sxs-lookup"><span data-stu-id="befdc-103">This change applies to an <xref:System.Windows.Controls.ItemsControl> that does its own virtualization in the direction orthogonal to the main scrolling direction.</span></span> <span data-ttu-id="befdc-104">L'esempio principale è un controllo <xref:System.Windows.Controls.DataGrid> con la proprietà <xref:System.Windows.Controls.DataGrid.EnableColumnVirtualization%2A> impostata su `true`.  Il risultato di determinate operazioni di scorrimento orizzontale è stato modificato per produrre risultati più intuitivi e simili ai risultati delle operazioni verticali confrontabili.</span><span class="sxs-lookup"><span data-stu-id="befdc-104">(The chief  example is a <xref:System.Windows.Controls.DataGrid> control with <xref:System.Windows.Controls.DataGrid.EnableColumnVirtualization%2A> set to `true`.)  The outcome of certain  horizontal scrolling operations has been changed to produce results that are more intuitive and more analogous to the results of comparable vertical operations.</span></span>  <span data-ttu-id="befdc-105">Le operazioni specifiche includono **Scorri fino a qui** e **Bordo destro**, per usare i nomi del menu visualizzato facendo clic con il pulsante destro del mouse su una barra di scorrimento orizzontale.</span><span class="sxs-lookup"><span data-stu-id="befdc-105">The specific operations include **Scroll Here** and **Right Edge**, to use the names from the menu obtained by right-clicking a horizontal scrollbar.</span></span>  <span data-ttu-id="befdc-106">Entrambe le operazioni calcolano un offset candidato ed eseguono una chiamata a <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset%2A?displayProperty=fullName>.</span><span class="sxs-lookup"><span data-stu-id="befdc-106">Both of these compute a  candidate offset and call <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset%2A?displayProperty=fullName>.</span></span>  <span data-ttu-id="befdc-107">Dopo lo scorrimento al nuovo offset, la definizione di "qui" o "bordo destro" potrebbe essere stata modificata poiché il contenuto appena devirtualizzato ha modificato il valore di <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth%2A?displayProperty=fullName>.</span><span class="sxs-lookup"><span data-stu-id="befdc-107">After scrolling to the new offset, the definition of "here" or "right edge" may have changed because newly de-virtualized content has changed the value of <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth%2A?displayProperty=fullName>.</span></span>  
  
## <a name="description-of-the-change"></a><span data-ttu-id="befdc-108">Descrizione della modifica</span><span class="sxs-lookup"><span data-stu-id="befdc-108">Description of the change</span></span>  
 <span data-ttu-id="befdc-109">Nelle versioni precedenti a [!INCLUDE[net_v462](../../../includes/net-v462-md.md)], l'operazione di scorrimento usa semplicemente l'offset candidato, anche se potrebbe non essere "qui" o "bordo destro".</span><span class="sxs-lookup"><span data-stu-id="befdc-109">Prior to the [!INCLUDE[net_v462](../../../includes/net-v462-md.md)], the scroll operation simply uses the candidate offset, even though it may not be "here" or at the "right edge" any more.</span></span>  <span data-ttu-id="befdc-110">Ciò potrebbe risultare in effetti quali il "rimbalzo" dello scorrimento, come illustrato nell'esempio.</span><span class="sxs-lookup"><span data-stu-id="befdc-110">This results in effects like "bouncing" the scroll thumb, best illustrated by example.</span></span>  <span data-ttu-id="befdc-111">Si supponga che un controllo <xref:System.Windows.Controls.DataGrid> abbia <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth%2A> impostato su 1000 e <xref:System.Windows.FrameworkElement.Width%2A> impostato su 200.</span><span class="sxs-lookup"><span data-stu-id="befdc-111">Suppose a <xref:System.Windows.Controls.DataGrid> control has <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth%2A> set to 1000 and <xref:System.Windows.FrameworkElement.Width%2A> set to 200.</span></span>  <span data-ttu-id="befdc-112">Uno scorrimento al "Bordo destro" usa l'offset candidato 1000-200 = 800.</span><span class="sxs-lookup"><span data-stu-id="befdc-112">A scroll to "Right Edge" uses candidate offset  1000 - 200 = 800.</span></span>  <span data-ttu-id="befdc-113">Durante lo scorrimento all'offset, le nuove colonne vengono devirtualizzate. Si supponga che siano molto ampie, in modo che <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth%2A> venga portato a 2000.</span><span class="sxs-lookup"><span data-stu-id="befdc-113">While scrolling to that offset, new columns are de-virtualized; let's suppose they are very wide, so that the <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth%2A> changes to 2000.</span></span>  <span data-ttu-id="befdc-114">Lo scorrimento termina con <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset%2A> = 800 e il controllo "rimbalza" vicino al centro della barra di scorrimento, esattamente in corrispondenza di 800/2000 = 40%.</span><span class="sxs-lookup"><span data-stu-id="befdc-114">The scroll ends with <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset%2A>=800, and the thumb "bounces" back to near the middle of the scrollbar -- precisely at 800/2000 = 40%.</span></span>  
  
 <span data-ttu-id="befdc-115">A partire da [!INCLUDE[net_v462](../../../includes/net-v462-md.md)], quando si verifica questa situazione viene ricalcolato un nuovo offset candidato.</span><span class="sxs-lookup"><span data-stu-id="befdc-115">Starting with the [!INCLUDE[net_v462](../../../includes/net-v462-md.md)], a new candidate offset is recomputed when this situation occurs.</span></span> <span data-ttu-id="befdc-116">(Lo scorrimento verticale funziona già in questo modo.)</span><span class="sxs-lookup"><span data-stu-id="befdc-116">(This is how vertical scrolling works already.)</span></span>  
  
## <a name="impact"></a><span data-ttu-id="befdc-117">Impatto</span><span class="sxs-lookup"><span data-stu-id="befdc-117">Impact</span></span>  
 <span data-ttu-id="befdc-118">La modifica produce un'esperienza più prevedibile e intuitiva per l'utente finale, ma può influire anche su qualsiasi applicazione che dipende dal valore esatto di <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset%2A?displayProperty=fullName> dopo una operazione di scorrimento orizzontale, attivata dall'utente finale o da una chiamata esplicita a <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset%2A?displayProperty=fullName>.</span><span class="sxs-lookup"><span data-stu-id="befdc-118">The change produces a more predictable and intuitive experience for the end user, but it could also affect any app that depends on the exact value of <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset%2A?displayProperty=fullName> after a horizontal scroll, whether invoked by the end user or by an explicit call to <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset%2A?displayProperty=fullName>.</span></span>  
  
## <a name="mitigation"></a><span data-ttu-id="befdc-119">Mitigazione</span><span class="sxs-lookup"><span data-stu-id="befdc-119">Mitigation</span></span>  
 <span data-ttu-id="befdc-120">Un'app che usa un valore stimato per <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset%2A?displayProperty=fullName> dovrebbe essere modificata per recuperare il valore effettivo (e il valore di <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth%2A>) dopo qualsiasi scorrimento orizzontale in grado di modificare <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth%2A> a causa della devirtualizzazione.</span><span class="sxs-lookup"><span data-stu-id="befdc-120">An app that uses a predicted value for <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset%2A?displayProperty=fullName> should be changed to retrieve the actual value (and the value of <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth%2A>) after any horizontal scroll that could change <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth%2A> due to de-virtualization.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="befdc-121">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="befdc-121">See Also</span></span>  
 [<span data-ttu-id="befdc-122">Modifiche al runtime</span><span class="sxs-lookup"><span data-stu-id="befdc-122">Runtime Changes</span></span>](../../../docs/framework/migration-guide/runtime-changes-in-the-net-framework-4-6-2.md)

