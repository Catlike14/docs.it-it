---
title: 'Procedura: confrontare stringhe (Guida per programmatori C#)'
ms.date: 07/20/2015
ms.prod: .net
ms.technology: devlang-csharp
ms.topic: article
helpviewer_keywords:
- strings [C#], comparison
- comparing strings [C#]
ms.assetid: e1268e28-ee98-4695-98e9-92280f1c33c0
caps.latest.revision: "23"
author: BillWagner
ms.author: wiwagn
ms.openlocfilehash: 4837fa57c962cba841ffcc83c5bd4475a4faff0c
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 11/21/2017
---
# <a name="how-to-compare-strings-c-programming-guide"></a><span data-ttu-id="88856-102">Procedura: confrontare stringhe (Guida per programmatori C#)</span><span class="sxs-lookup"><span data-stu-id="88856-102">How to: Compare strings (C# Programming Guide)</span></span>

<span data-ttu-id="88856-103">Quando si confrontano stringhe, viene prodotto un risultato che indica che una delle stringhe è più grande dell'altra o che le due stringhe sono uguali.</span><span class="sxs-lookup"><span data-stu-id="88856-103">When you compare strings, you are producing a result that says one string is greater than or less than the other, or that the two strings are equal.</span></span> <span data-ttu-id="88856-104">Le regole che determinano il risultato sono diverse a seconda che si esegua un *confronto ordinale* o un *confronto con distinzione delle impostazioni cultura*.</span><span class="sxs-lookup"><span data-stu-id="88856-104">The rules by which the result is determined are different depending on whether you are performing *ordinal comparison* or *culture-sensitive comparison*.</span></span> <span data-ttu-id="88856-105">È importante usare il tipo di confronto corretto per l'attività specifica.</span><span class="sxs-lookup"><span data-stu-id="88856-105">It is important to use the correct kind of comparison for the specific task.</span></span>

 <span data-ttu-id="88856-106">Usare i confronti ordinali di base quando è necessario confrontare o ordinare i valori di due stringhe indipendentemente dalle convenzioni linguistiche.</span><span class="sxs-lookup"><span data-stu-id="88856-106">Use basic ordinal comparisons when you have to compare or sort the values of two strings without regard to linguistic conventions.</span></span> <span data-ttu-id="88856-107">Un confronto ordinale di base (`System.StringComparison.Ordinal`) distingue tra maiuscole e minuscole, il che significa che le due stringhe devono corrispondere esattamente carattere per carattere: "e" non è uguale a "E".</span><span class="sxs-lookup"><span data-stu-id="88856-107">A basic ordinal comparison (`System.StringComparison.Ordinal`) is case-sensitive, which means that the two strings must match character for character: "and" does not equal "And" or "AND".</span></span> <span data-ttu-id="88856-108">Una variante usata di frequente è `System.StringComparison.OrdinalIgnoreCase`, che include la corrispondenza a "e" ed "E".</span><span class="sxs-lookup"><span data-stu-id="88856-108">A frequently-used variation is `System.StringComparison.OrdinalIgnoreCase`, which will match "and", "And", and "AND".</span></span> <span data-ttu-id="88856-109">`StringComparison.OrdinalIgnoreCase` viene spesso usato per confrontare i nomi di file, i nomi di percorso, i percorsi di rete e qualsiasi altra stringa il cui valore non cambia in base alle impostazioni locali del computer dell'utente.</span><span class="sxs-lookup"><span data-stu-id="88856-109">`StringComparison.OrdinalIgnoreCase` is often used to compare file names, path names, network paths, and any other string whose value does not change based on the locale of the user's computer.</span></span> <span data-ttu-id="88856-110">Per altre informazioni, vedere <xref:System.StringComparison?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88856-110">For more information, see <xref:System.StringComparison?displayProperty=nameWithType>.</span></span>

 <span data-ttu-id="88856-111">I confronti con distinzione delle impostazioni cultura vengono in genere usati per confrontare e ordinare stringhe immesse dagli utenti finali, in quanto i caratteri e le convenzioni di ordinamento di tali stringhe possono variare a seconda delle impostazioni locali del computer dell'utente.</span><span class="sxs-lookup"><span data-stu-id="88856-111">Culture-sensitive comparisons are typically used to compare and sort strings that are input by end users, because the characters and sorting conventions of these strings might vary depending on the locale of the user's computer.</span></span> <span data-ttu-id="88856-112">Anche stringhe che contengono caratteri identici potrebbero essere ordinate in modo diverso a seconda delle impostazioni cultura del thread corrente.</span><span class="sxs-lookup"><span data-stu-id="88856-112">Even strings that contain identical characters might sort differently depending on the culture of the current thread.</span></span>

> [!NOTE]
> <span data-ttu-id="88856-113">Quando si confrontano stringhe, è opportuno usare i metodi che consentono di specificare in modo esplicito il tipo di confronto che si intende eseguire.</span><span class="sxs-lookup"><span data-stu-id="88856-113">When you compare strings, you should use the methods that explicitly specify what kind of comparison you intend to perform.</span></span> <span data-ttu-id="88856-114">In questo modo il codice risulta molto più gestibile e leggibile.</span><span class="sxs-lookup"><span data-stu-id="88856-114">This makes your code much more maintainable and readable.</span></span> <span data-ttu-id="88856-115">Se possibile, usare gli overload dei metodi delle classi <xref:System.String?displayProperty=nameWithType> e <xref:System.Array?displayProperty=nameWithType> che accettano un parametro di enumerazione <xref:System.StringComparison> in modo che sia possibile specificare quale tipo di confronto eseguire.</span><span class="sxs-lookup"><span data-stu-id="88856-115">Whenever possible, use the overloads of the methods of the <xref:System.String?displayProperty=nameWithType> and <xref:System.Array?displayProperty=nameWithType> classes that take a <xref:System.StringComparison> enumeration parameter, so that you can specify which type of comparison to perform.</span></span> <span data-ttu-id="88856-116">È consigliabile evitare di usare gli operatori `==` e `!=` quando si confrontano stringhe.</span><span class="sxs-lookup"><span data-stu-id="88856-116">It is best to avoid using the `==` and `!=` operators when you compare strings.</span></span> <span data-ttu-id="88856-117">Non usare neppure i metodi dell'istanza <xref:System.String.CompareTo%2A?displayProperty=nameWithType> perché nessuno degli overload accetta <xref:System.StringComparison>.</span><span class="sxs-lookup"><span data-stu-id="88856-117">Also, avoid using the <xref:System.String.CompareTo%2A?displayProperty=nameWithType> instance methods because none of the overloads takes a <xref:System.StringComparison>.</span></span>

## <a name="example"></a><span data-ttu-id="88856-118">Esempio</span><span class="sxs-lookup"><span data-stu-id="88856-118">Example</span></span>

<span data-ttu-id="88856-119">Nell'esempio seguente viene illustrato come confrontare correttamente stringhe i cui valori non cambiano in base alle impostazioni locali del computer dell'utente.</span><span class="sxs-lookup"><span data-stu-id="88856-119">The following example shows how to correctly compare strings whose values will not change based on the locale of the user's computer.</span></span> <span data-ttu-id="88856-120">Viene anche illustrata la funzionalità di *centralizzazione delle stringhe* di C#.</span><span class="sxs-lookup"><span data-stu-id="88856-120">In addition, it also demonstrates the *string interning* feature of C#.</span></span> <span data-ttu-id="88856-121">Quando un programma dichiara due o più variabili di stringa identiche, il compilatore le archivia tutte nello stesso percorso.</span><span class="sxs-lookup"><span data-stu-id="88856-121">When a program declares two or more identical string variables, the compiler stores them all in the same location.</span></span> <span data-ttu-id="88856-122">Chiamando il metodo <xref:System.Object.ReferenceEquals%2A> è possibile vedere che le due stringhe si riferiscono effettivamente allo stesso oggetto in memoria.</span><span class="sxs-lookup"><span data-stu-id="88856-122">By calling the <xref:System.Object.ReferenceEquals%2A> method, you can see that the two strings actually refer to the same object in memory.</span></span> <span data-ttu-id="88856-123">Usare il metodo <xref:System.String.Copy%2A?displayProperty=nameWithType> per evitare la centralizzazione, come illustrato nell'esempio.</span><span class="sxs-lookup"><span data-stu-id="88856-123">Use the <xref:System.String.Copy%2A?displayProperty=nameWithType> method to avoid interning, as shown in the example.</span></span>

[!code-csharp[csProgGuideStrings#11](../../../../samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideStrings/CS/Strings.cs#11)]

## <a name="example"></a><span data-ttu-id="88856-124">Esempio</span><span class="sxs-lookup"><span data-stu-id="88856-124">Example</span></span>

<span data-ttu-id="88856-125">L'esempio seguente illustra come confrontare le stringhe con la modalità preferita tramite i metodi <xref:System.String?displayProperty=nameWithType> che accettano un'enumerazione <xref:System.StringComparison>.</span><span class="sxs-lookup"><span data-stu-id="88856-125">The following example shows how to compare strings the preferred way by using the <xref:System.String?displayProperty=nameWithType> methods that take a <xref:System.StringComparison> enumeration.</span></span> <span data-ttu-id="88856-126">Si noti che i metodi dell'istanza <xref:System.String.CompareTo%2A?displayProperty=nameWithType> non vengono usati in questo caso, perché nessuno degli overload accetta <xref:System.StringComparison>.</span><span class="sxs-lookup"><span data-stu-id="88856-126">Note that the <xref:System.String.CompareTo%2A?displayProperty=nameWithType> instance methods are not used here, because none of the overloads takes a <xref:System.StringComparison>.</span></span>

[!code-csharp[csProgGuideStrings#31](../../../../samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideStrings/CS/Strings.cs#31)]

## <a name="example"></a><span data-ttu-id="88856-127">Esempio</span><span class="sxs-lookup"><span data-stu-id="88856-127">Example</span></span>

<span data-ttu-id="88856-128">L'esempio seguente illustra come ordinare e cercare le stringhe in una matrice con distinzione delle impostazioni cultura usando i metodi statici <xref:System.Array> che accettano un parametro <xref:System.StringComparer?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88856-128">The following example shows how to sort and search for strings in an array in a culture-sensitive manner by using the static <xref:System.Array> methods that take a <xref:System.StringComparer?displayProperty=nameWithType> parameter.</span></span>

[!code-csharp[csProgGuideStrings#32](../../../../samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideStrings/CS/Strings.cs#32)]

<span data-ttu-id="88856-129">Le classi Collection, ad esempio <xref:System.Collections.Hashtable?displayProperty=nameWithType>, <xref:System.Collections.Generic.Dictionary%602?displayProperty=nameWithType>, e <xref:System.Collections.Generic.List%601?displayProperty=nameWithType> contengono costruttori che accettano un parametro <xref:System.StringComparer?displayProperty=nameWithType> quando il tipo degli elementi o delle chiavi è `string`.</span><span class="sxs-lookup"><span data-stu-id="88856-129">Collection classes such as <xref:System.Collections.Hashtable?displayProperty=nameWithType>, <xref:System.Collections.Generic.Dictionary%602?displayProperty=nameWithType>, and <xref:System.Collections.Generic.List%601?displayProperty=nameWithType> have constructors that take a <xref:System.StringComparer?displayProperty=nameWithType> parameter when the type of the elements or keys is `string`.</span></span> <span data-ttu-id="88856-130">In generale è necessario usare sempre questi costruttori, quando possibile, e specificare il parametro `Ordinal` o `OrdinalIgnoreCase`.</span><span class="sxs-lookup"><span data-stu-id="88856-130">In general, you should use these constructors whenever possible, and specify either `Ordinal` or `OrdinalIgnoreCase`.</span></span>

## <a name="see-also"></a><span data-ttu-id="88856-131">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="88856-131">See also</span></span>
 <xref:System.Globalization.CultureInfo?displayProperty=nameWithType>  
 <xref:System.StringComparer?displayProperty=nameWithType>  
 [<span data-ttu-id="88856-132">Stringhe</span><span class="sxs-lookup"><span data-stu-id="88856-132">Strings</span></span>](../../../csharp/programming-guide/strings/index.md)  
 [<span data-ttu-id="88856-133">Confronto di stringhe</span><span class="sxs-lookup"><span data-stu-id="88856-133">Comparing Strings</span></span>](../../../standard/base-types/comparing.md)  
 [<span data-ttu-id="88856-134">Globalizzazione e localizzazione di applicazioni</span><span class="sxs-lookup"><span data-stu-id="88856-134">Globalizing and Localizing Applications</span></span>](/visualstudio/ide/globalizing-and-localizing-applications)